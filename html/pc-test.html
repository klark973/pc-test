<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.16">
<meta name="author" content="Copyright &#169;, ООО «Базальт СПО»">
<title>Методика тестирования компьютеров на совместимость с ОС АЛЬТ</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;-webkit-tap-highlight-color:transparent}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="book">
<div id="header">
<h1>Методика тестирования компьютеров на совместимость с ОС АЛЬТ</h1>
<div class="details">
<span id="author" class="author">Copyright &#169;, ООО «Базальт СПО»</span><br>
<span id="revnumber">version 2.1,</span>
<span id="revdate">19.09.2023</span>
</div>
<div id="toc" class="toc">
<div id="toctitle">Оглавление</div>
<ul class="sectlevel1">
<li><a href="#_термины_и_определения">Термины и определения</a></li>
<li><a href="#_об_этой_методике"> 1. Об этой методике</a>
<ul class="sectlevel2">
<li><a href="#_цели_и_применимость_методики">1.1. Цели и применимость методики</a></li>
<li><a href="#_определение_совместимости">1.2. Определение совместимости</a></li>
<li><a href="#_структура_методики">1.3. Структура методики</a></li>
<li><a href="#_требования_к_персоналу">1.4. Требования к персоналу</a></li>
<li><a href="#_разница_с_проверкой_предрелизных_образов">1.5. Разница с проверкой предрелизных образов</a></li>
</ul>
</li>
<li><a href="#_отчётность_и_ведение_протокола"> 2. Отчётность и ведение протокола</a></li>
<li><a href="#_проверка_режимов_загрузки_системы"> 3. Проверка режимов загрузки системы</a>
<ul class="sectlevel2">
<li><a href="#_специфичные_для_платформы_указания">3.1. Специфичные для платформы указания</a>
<ul class="sectlevel3">
<li><a href="#_intel_x86_64_и_i586_ibm_power_ppc64le_некоторые_aarch64">3.1.1. Intel x86_64 и i586, IBM Power ppc64le, некоторые aarch64</a></li>
<li><a href="#_только_intel_x86_64">3.1.2. Только Intel x86_64</a></li>
<li><a href="#_некоторые_aarch64_armh_и_таволга_терминал_на_mipsel">3.1.3. Некоторые aarch64, armh и Таволга терминал на mipsel</a></li>
<li><a href="#_вк_эльбрус_e2kv3_e2kv4_e2kv5_и_e2kv6">3.1.4. ВК «Эльбрус»: e2kv3, e2kv4, e2kv5 и e2kv6</a></li>
</ul>
</li>
<li><a href="#_загрузка_средствами_ipmi">3.2. Загрузка средствами IPMI</a></li>
<li><a href="#_локальная_загрузка">3.3. Локальная загрузка</a>
<ul class="sectlevel3">
<li><a href="#_установка_ос_в_режиме_загрузки_uefi">3.3.1. Установка ОС в режиме загрузки UEFI</a></li>
<li><a href="#_восстановление_ос_в_режиме_загрузки_uefi">3.3.2. Восстановление ОС в режиме загрузки UEFI</a></li>
<li><a href="#_установка_ос_в_режиме_загрузки_legacycsm">3.3.3. Установка ОС в режиме загрузки Legacy/CSM</a></li>
<li><a href="#_восстановление_ос_в_режиме_загрузки_legacycsm">3.3.4. Восстановление ОС в режиме загрузки Legacy/CSM</a></li>
</ul>
</li>
<li><a href="#_сетевая_загрузка">3.4. Сетевая загрузка</a>
<ul class="sectlevel3">
<li><a href="#_сетевая_загрузка_на_вк_эльбрус">3.4.1. Сетевая загрузка на ВК «Эльбрус»</a></li>
<li><a href="#_сетевая_загрузка_на_других_платформах">3.4.2. Сетевая загрузка на других платформах</a></li>
<li><a href="#_пример_настройки_сервера_сетевой_загрузки">3.4.3. Пример настройки сервера сетевой загрузки</a>
<ul class="sectlevel4">
<li><a href="#_описание_конфигурации">3.4.3.1. Описание конфигурации</a></li>
<li><a href="#_подготовка_к_настройке">3.4.3.2. Подготовка к настройке</a></li>
<li><a href="#_установка_пакетов_на_сервере">3.4.3.3. Установка пакетов на сервере</a></li>
<li><a href="#_настройка_сети_на_сервере">3.4.3.4. Настройка сети на сервере</a></li>
<li><a href="#_настройка_dhcp_сервера">3.4.3.5. Настройка DHCP-сервера</a></li>
<li><a href="#_настройка_tftp_сервера_и_службы_xinetd">3.4.3.6. Настройка TFTP-сервера и службы xinetd</a></li>
<li><a href="#_настройка_веб_сервера_nginx">3.4.3.7. Настройка веб-сервера nginx</a></li>
<li><a href="#_монтирование_установочного_образа">3.4.3.8. Монтирование установочного образа</a></li>
<li><a href="#_подготовка_загрузочного_скрипта">3.4.3.9. Подготовка загрузочного скрипта</a></li>
<li><a href="#_шаги_настройки_для_загрузки_вк_эльбрус">3.4.3.10. Шаги настройки для загрузки ВК «Эльбрус»</a></li>
</ul>
</li>
<li><a href="#_проверка_возможности_загрузки_дистрибутивного_образа">3.4.4. Проверка возможности загрузки дистрибутивного образа</a></li>
<li><a href="#_подготовка_образа_начальной_загрузки_для_вк_эльбрус">3.4.5. Подготовка образа начальной загрузки для ВК «Эльбрус»</a>
<ul class="sectlevel4">
<li><a href="#_монтирование_установочного_образа_e2k">3.4.5.1. Монтирование установочного образа E2K</a></li>
<li><a href="#_создание_файла_boot_conf">3.4.5.2. Создание файла boot.conf</a></li>
<li><a href="#_копирование_ядра_и_образа_initramfs">3.4.5.3. Копирование ядра и образа initramfs</a></li>
<li><a href="#_создание_образа_первого_раздела_диска">3.4.5.4. Создание образа первого раздела диска</a></li>
<li><a href="#_создание_финального_образа_для_aoe_загрузки">3.4.5.5. Создание финального образа для AoE-загрузки</a></li>
<li><a href="#_завершающие_шаги">3.4.5.6. Завершающие шаги</a></li>
</ul>
</li>
<li><a href="#_aoe_загрузка_средствами_пнс_на_вк_эльбрус">3.4.6. AoE-загрузка средствами ПНС на ВК «Эльбрус»</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_проверка_возможности_установки_ос"> 4. Проверка возможности установки ОС</a></li>
<li><a href="#_обновление_ос_до_актуального_состояния"> 5. Обновление ОС до актуального состояния</a></li>
<li><a href="#_проверка_возможности_обновления_прошивки_компонентов_оборудования"> 6. Проверка возможности обновления прошивки компонентов оборудования</a></li>
<li><a href="#_проверка_и_сохранение_журналов"> 7. Проверка и сохранение журналов</a>
<ul class="sectlevel2">
<li><a href="#_неинформативные_сообщения_ядра">7.1. Неинформативные сообщения ядра</a></li>
<li><a href="#_буфер_сообщений_ядра_dmesg">7.2. Буфер сообщений ядра (dmesg)</a></li>
<li><a href="#_ошибки_системных_служб">7.3. Ошибки системных служб</a></li>
<li><a href="#_системный_журнал">7.4. Системный журнал</a></li>
<li><a href="#_просмотр_журналов_в_консоли">7.5. Просмотр журналов в консоли</a></li>
</ul>
</li>
<li><a href="#_информация_о_системе_и_оборудовании"> 8. Информация о системе и оборудовании</a>
<ul class="sectlevel2">
<li><a href="#_подготовка_к_сбору_информации">8.1. Подготовка к сбору информации</a></li>
<li><a href="#_сбор_информации_о_системе_и_оборудовании">8.2. Сбор информации о системе и оборудовании</a>
<ul class="sectlevel3">
<li><a href="#_с_помощью_inxi">8.2.1. С помощью inxi</a></li>
<li><a href="#_с_помощью_sosreport">8.2.2. С помощью sosreport</a></li>
<li><a href="#_с_помощью_system_report">8.2.3. С помощью system-report</a></li>
<li><a href="#_с_помощью_acpidump">8.2.4. С помощью acpidump</a></li>
<li><a href="#_с_помощью_lspci">8.2.5. С помощью lspci</a></li>
<li><a href="#_с_помощью_dmidecode">8.2.6. С помощью dmidecode</a></li>
<li><a href="#_с_помощью_lsusb">8.2.7. С помощью lsusb</a></li>
<li><a href="#_с_помощью_lscpu">8.2.8. С помощью lscpu</a></li>
<li><a href="#_с_помощью_lsblk">8.2.9. С помощью lsblk</a></li>
<li><a href="#_с_помощью_lsscsi">8.2.10. С помощью lsscsi</a></li>
<li><a href="#_с_помощью_smartctl">8.2.11. С помощью smartctl</a></li>
<li><a href="#_с_помощью_rfkill">8.2.12. С помощью rfkill</a></li>
<li><a href="#_с_помощью_uname">8.2.13. С помощью uname</a></li>
<li><a href="#_с_помощью_xrandr">8.2.14. С помощью xrandr</a></li>
<li><a href="#_только_на_вк_эльбрус">8.2.15. Только на ВК «Эльбрус»</a></li>
</ul>
</li>
<li><a href="#_сравнение_конфигурации_со_спецификацией_оборудования">8.3. Сравнение конфигурации со спецификацией оборудования</a>
<ul class="sectlevel3">
<li><a href="#_проверка_cpu_и_материнской_платы">8.3.1. Проверка CPU и материнской платы</a></li>
<li><a href="#_проверка_оперативной_памяти">8.3.2. Проверка оперативной памяти</a></li>
<li><a href="#_проверка_дисковой_подсистемы">8.3.3. Проверка дисковой подсистемы</a></li>
<li><a href="#_проверка_подсистемы_вывода_изображения">8.3.4. Проверка подсистемы вывода изображения</a></li>
<li><a href="#_проверка_наличия_3d_ускорения">8.3.5. Проверка наличия 3D-ускорения</a></li>
<li><a href="#_проверка_возможностей_привода_cddvdblu_ray">8.3.6. Проверка возможностей привода CD/DVD/Blu-ray</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_экспресс_тест_основных_компонентов"> 9. Экспресс-тест основных компонентов</a></li>
<li><a href="#_проверка_отдельных_компонентов"> 10. Проверка отдельных компонентов</a>
<ul class="sectlevel2">
<li><a href="#_проверка_cpu_под_нагрузкой">10.1. Проверка CPU под нагрузкой</a></li>
<li><a href="#_проверка_сетевой_подсистемы">10.2. Проверка сетевой подсистемы</a>
<ul class="sectlevel3">
<li><a href="#_проверка_ethernet_при_наличии">10.2.1. Проверка Ethernet (при наличии)</a></li>
<li><a href="#_проверка_wi_fi_при_наличии">10.2.2. Проверка Wi-Fi (при наличии)</a></li>
<li><a href="#_проверка_infinibandrdma_при_наличии">10.2.3. Проверка Infiniband/RDMA (при наличии)</a></li>
<li><a href="#_проверка_производительности_сетевых_интерфейсов">10.2.4. Проверка производительности сетевых интерфейсов</a></li>
</ul>
</li>
<li><a href="#_проверка_видеоподсистемы">10.3. Проверка видеоподсистемы</a>
<ul class="sectlevel3">
<li><a href="#_проверка_режимов_работы_видеокарты">10.3.1. Проверка режимов работы видеокарты</a></li>
<li><a href="#_проверка_датчика_автоматического_поворота_экрана_при_наличии">10.3.2. Проверка датчика автоматического поворота экрана (при наличии)</a></li>
<li><a href="#_проверка_vga_при_наличии">10.3.3. Проверка VGA (при наличии)</a></li>
<li><a href="#_проверка_hdmi_при_наличии">10.3.4. Проверка HDMI (при наличии)</a></li>
<li><a href="#_проверка_displayport_при_наличии">10.3.5. Проверка DisplayPort (при наличии)</a></li>
<li><a href="#_проверка_thunderbolt_при_наличии">10.3.6. Проверка Thunderbolt (при наличии)</a></li>
<li><a href="#_проверка_работы_двух_подключенных_мониторов">10.3.7. Проверка работы двух подключенных мониторов</a></li>
<li><a href="#_проверка_работы_трёх_подключенных_мониторов">10.3.8. Проверка работы трёх подключенных мониторов</a></li>
</ul>
</li>
<li><a href="#_проверка_звуковой_подсистемы">10.4. Проверка звуковой подсистемы</a>
<ul class="sectlevel3">
<li><a href="#_проверка_встроенного_аудио_при_наличии">10.4.1. Проверка встроенного аудио (при наличии)</a>
<ul class="sectlevel4">
<li><a href="#_проверка_состояния_регулятора_громкости">10.4.1.1. Проверка состояния регулятора громкости</a></li>
<li><a href="#_проверка_воспроизведения_звука_через_терминал">10.4.1.2. Проверка воспроизведения звука через терминал</a></li>
<li><a href="#_проверка_изменения_громкости_в_графическом_режиме">10.4.1.3. Проверка изменения громкости в графическом режиме</a></li>
<li><a href="#_проверка_выключения_звука_mute">10.4.1.4. Проверка выключения звука (mute)</a></li>
<li><a href="#_проверка_включения_звука_unmute">10.4.1.5. Проверка включения звука (unmute)</a></li>
<li><a href="#_проверка_функциональных_клавиш_изменения_громкости_при_наличии">10.4.1.6. Проверка функциональных клавиш изменения громкости (при наличии)</a></li>
</ul>
</li>
<li><a href="#_проверка_встроенного_микрофона_при_наличии">10.4.2. Проверка встроенного микрофона (при наличии)</a>
<ul class="sectlevel4">
<li><a href="#_проверка_записи_и_воспроизведения_звука_в_терминале">10.4.2.1. Проверка записи и воспроизведения звука в терминале</a></li>
<li><a href="#_проверка_записи_и_воспроизведения_звука_в_приложении_для_записи_звука">10.4.2.2. Проверка записи и воспроизведения звука в приложении для записи звука</a></li>
</ul>
</li>
<li><a href="#_проверка_аудио_портов_при_наличии">10.4.3. Проверка аудио портов (при наличии)</a>
<ul class="sectlevel4">
<li><a href="#_проверка_записи_и_воспроизведения_звука_через_mini_jack3_5мм">10.4.3.1. Проверка записи и воспроизведения звука через mini-jack/3.5мм</a></li>
<li><a href="#_проверка_вывода_звука_через_порт_hdmidisplayportthunderbolt">10.4.3.2. Проверка вывода звука через порт HDMI/DisplayPort/Thunderbolt</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_host_адаптеры_и_raid_контроллеры">10.5. Host-адаптеры и RAID-контроллеры</a>
<ul class="sectlevel3">
<li><a href="#_проверка_производительности_интерфейсов_блочных_устройств">10.5.1. Проверка производительности интерфейсов блочных устройств</a></li>
</ul>
</li>
<li><a href="#_управление_питанием_acpi">10.6. Управление питанием (ACPI)</a>
<ul class="sectlevel3">
<li><a href="#_управление_питанием_в_графическом_режиме">10.6.1. Управление питанием в графическом режиме</a>
<ul class="sectlevel4">
<li><a href="#_проверка_включениявыключения_компьютера">10.6.1.1. Проверка включения/выключения компьютера</a></li>
<li><a href="#_проверка_перезагрузки_компьютера">10.6.1.2. Проверка перезагрузки компьютера</a></li>
<li><a href="#_проверка_спящего_режима">10.6.1.3. Проверка «спящего» режима</a></li>
<li><a href="#_проверка_ждущего_режима">10.6.1.4. Проверка «ждущего» режима</a></li>
<li><a href="#_проверка_изменения_действий_при_нажатии_кнопки_питания">10.6.1.5. Проверка изменения действий при нажатии кнопки питания</a></li>
<li><a href="#_проверка_реакции_системы_на_закрытие_крышки_ноутбука">10.6.1.6. Проверка реакции системы на закрытие крышки ноутбука</a>
<ul class="sectlevel5">
<li><a href="#_реакция_на_завершение_работы">10.6.1.6.1. Реакция на завершение работы</a></li>
<li><a href="#_реакция_на_спящий_режим">10.6.1.6.2. Реакция на «спящий» режим</a></li>
<li><a href="#_реакция_на_ждущий_режим">10.6.1.6.3. Реакция на «ждущий» режим</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_управление_питанием_из_консоли">10.6.2. Управление питанием из консоли</a>
<ul class="sectlevel4">
<li><a href="#_проверка_выключения_компьютера">10.6.2.1. Проверка выключения компьютера</a></li>
<li><a href="#_проверка_перезагрузки_компьютера_2">10.6.2.2. Проверка перезагрузки компьютера</a></li>
<li><a href="#_проверка_спящего_режима_2">10.6.2.3. Проверка «спящего» режима</a></li>
<li><a href="#_проверка_ждущего_режима_2">10.6.2.4. Проверка «ждущего» режима</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_проверка_энергосбережения">10.7. Проверка энергосбережения</a>
<ul class="sectlevel3">
<li><a href="#_проверка_в_графическом_режиме">10.7.1. Проверка в графическом режиме</a>
<ul class="sectlevel4">
<li><a href="#_проверка_реакции_на_подключениеотключение_внешнего_бп">10.7.1.1. Проверка реакции на подключение/отключение внешнего БП</a></li>
<li><a href="#_проверка_изменения_яркости_экрана">10.7.1.2. Проверка изменения яркости экрана</a></li>
</ul>
</li>
<li><a href="#_проверка_в_консоли">10.7.2. Проверка в консоли</a></li>
</ul>
</li>
<li><a href="#_проверка_numa_при_наличии">10.8. Проверка NUMA (при наличии)</a>
<ul class="sectlevel3">
<li><a href="#_проверка_использования_ресурсов_процессом">10.8.1. Проверка использования ресурсов процессом</a></li>
<li><a href="#_запуск_процесса_только_на_node_0">10.8.2. Запуск процесса только на node 0</a></li>
<li><a href="#_запуск_процесса_только_на_node_1">10.8.3. Запуск процесса только на node 1</a></li>
</ul>
</li>
<li><a href="#_проверка_ipmi_при_наличии">10.9. Проверка IPMI (при наличии)</a>
<ul class="sectlevel3">
<li><a href="#_тестирование_управления_через_ipmi">10.9.1. Тестирование управления через IPMI</a></li>
</ul>
</li>
<li><a href="#_проверка_встроенной_периферии">10.10. Проверка встроенной периферии</a>
<ul class="sectlevel3">
<li><a href="#_проверка_интерфейса_esata_при_наличии">10.10.1. Проверка интерфейса eSATA (при наличии)</a></li>
<li><a href="#_проверка_сенсорного_экрана_при_наличии">10.10.2. Проверка сенсорного экрана (при наличии)</a></li>
<li><a href="#_проверка_встроенной_камеры_при_наличии">10.10.3. Проверка встроенной камеры (при наличии)</a></li>
<li><a href="#_проверка_интерфейса_ps2_при_наличии">10.10.4. Проверка интерфейса PS/2 (при наличии)</a></li>
<li><a href="#_проверка_работы_сенсорной_панели_при_наличии">10.10.5. Проверка работы сенсорной панели (при наличии)</a></li>
<li><a href="#_проверка_функциональных_клавиш_клавиатуры_при_наличии">10.10.6. Проверка функциональных клавиш клавиатуры (при наличии)</a></li>
<li><a href="#_проверка_работы_сканера_отпечатка_пальца_при_наличии">10.10.7. Проверка работы сканера отпечатка пальца (при наличии)</a></li>
<li><a href="#_проверка_интерфейсов_usb_1_0_3_2">10.10.8. Проверка интерфейсов USB 1.0-3.2</a></li>
<li><a href="#_проверка_usb_3_2_gen2usb4_и_thunderbolt_34_при_наличии">10.10.9. Проверка USB 3.2 Gen2/USB4 и Thunderbolt 3/4 (при наличии)</a></li>
<li><a href="#_проверка_bluetooth_при_наличии">10.10.10. Проверка Bluetooth (при наличии)</a>
<ul class="sectlevel4">
<li><a href="#_подключение_телефона">10.10.10.1. Подключение телефона</a></li>
<li><a href="#_подключение_наушников">10.10.10.2. Подключение наушников</a></li>
<li><a href="#_подключение_клавиатуры">10.10.10.3. Подключение клавиатуры</a></li>
<li><a href="#_подключение_манипулятора_мышь">10.10.10.4. Подключение манипулятора «мышь»</a></li>
</ul>
</li>
<li><a href="#_проверка_разъёма_для_карт_памяти_при_наличии">10.10.11. Проверка разъёма для карт памяти (при наличии)</a></li>
<li><a href="#_проверка_разъёма_для_смарт_карт_при_наличии">10.10.12. Проверка разъёма для смарт-карт (при наличии)</a></li>
<li><a href="#_проверка_привода_cddvdblu_ray_при_наличии">10.10.13. Проверка привода CD/DVD/Blu-ray (при наличии)</a></li>
</ul>
</li>
<li><a href="#_контрольная_проверка_сообщений_ядра">10.11. Контрольная проверка сообщений ядра</a></li>
</ul>
</li>
<li><a href="#_дополнительные_проверки"> 11. Дополнительные проверки</a>
<ul class="sectlevel2">
<li><a href="#_производительность_дисковой_подсистемы">11.1. Производительность дисковой подсистемы</a>
<ul class="sectlevel3">
<li><a href="#_использование_раздела_swap">11.1.1. Использование раздела SWAP</a></li>
<li><a href="#_подготовка_к_тестированию">11.1.2. Подготовка к тестированию</a></li>
<li><a href="#_одиночный_процесс_случайной_записи_блоками_4кб">11.1.3. Одиночный процесс случайной записи блоками 4Кб</a></li>
<li><a href="#_шестнадцать_процессов_случайной_записи_блоками_64кб">11.1.4. Шестнадцать процессов случайной записи блоками 64Кб</a></li>
<li><a href="#_одиночный_процесс_случайной_записи_блоками_1мб">11.1.5. Одиночный процесс случайной записи блоками 1Мб</a></li>
<li><a href="#_одиночный_процесс_последовательной_записи_блоками_1мб">11.1.6. Одиночный процесс последовательной записи блоками 1Мб</a></li>
<li><a href="#_одиночный_процесс_последовательного_чтения_блоками_1мб">11.1.7. Одиночный процесс последовательного чтения блоками 1Мб</a></li>
<li><a href="#_интерпретация_и_фиксация_результатов">11.1.8. Интерпретация и фиксация результатов</a></li>
</ul>
</li>
<li><a href="#_производительность_видеоподсистемы">11.2. Производительность видеоподсистемы</a></li>
<li><a href="#_проверка_расширителя_портов_при_наличии">11.3. Проверка расширителя портов (при наличии)</a></li>
</ul>
</li>
<li><a href="#_приложения"> 12. Приложения</a>
<ul class="sectlevel2">
<li><a href="#_переключение_на_более_новое_ядро">12.1. Переключение на более новое ядро</a></li>
<li><a href="#_рекомендации_при_возникновении_проблем">12.2. Рекомендации при возникновении проблем</a></li>
<li><a href="#_видеофиксация_процесса_тестирования">12.3. Видеофиксация процесса тестирования</a></li>
<li><a href="#_пример_заполнения_титульного_листа">12.4. Пример заполнения титульного листа</a></li>
<li><a href="#_пример_заполнения_протокола_тестирования">12.5. Пример заполнения протокола тестирования</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_термины_и_определения">Термины и определения</h2>
<div class="sectionbody">
<div class="dlist glossary">
<dl>
<dt><code>БП</code></dt>
<dd>
<p>Блок Питания (компьютера)</p>
</dd>
<dt><code>ВК</code></dt>
<dd>
<p>Вычислительный Комплекс — обычно ПК или сервер</p>
</dd>
<dt><code>ЛКМ</code></dt>
<dd>
<p>Левая Кнопка манипулятора «Мышь»</p>
</dd>
<dt><code>ОЗУ</code></dt>
<dd>
<p>Оперативное Запоминающее Устройство — оперативная память</p>
</dd>
<dt><code>ОС</code></dt>
<dd>
<p>Операционная Система</p>
</dd>
<dt><code>ПК</code></dt>
<dd>
<p>Персональный Компьютер</p>
</dd>
<dt><code>ПКМ</code></dt>
<dd>
<p>Правая Кнопка манипулятора «Мышь»</p>
</dd>
<dt><code>ПНС</code></dt>
<dd>
<p>Программа Начального Старта, используется в ВК «Эльбрус»</p>
</dd>
<dt><code>ПО</code></dt>
<dd>
<p>Программное Обеспечение, обычно прикладное</p>
</dd>
<dt><code>СХД</code></dt>
<dd>
<p>Система Хранения Данных</p>
</dd>
<dt><code>ЦП</code></dt>
<dd>
<p>Центральный Процессор</p>
</dd>
<dt><code>ACPI</code></dt>
<dd>
<p>Advanced Configuration and Power Interface — усовершенствованный
интерфейс управления конфигурацией и питанием</p>
</dd>
<dt><code>AoE</code></dt>
<dd>
<p>ATA over Ethernet — сетевой протокол, призванный обеспечивать
скоростной доступ к блочным устройствам по сети Ethernet</p>
</dd>
<dt><code>API</code></dt>
<dd>
<p>Application Programming Interface — описание способов взаимодействия
одной компьютерной программы с другими (программных интерфейсов)</p>
</dd>
<dt><code>APM</code></dt>
<dd>
<p>Advanced Power Management — набор функций для управления
параметрами энергопотребления персонального компьютера</p>
</dd>
<dt><code>BIOS</code></dt>
<dd>
<p>Basic Input/Output System — базовая система ввода-вывода, набор
микропрограмм, реализующих низкоуровневые API для работы с аппаратным
обеспечением компьютера, а также программа инициализации компьютера и
загрузки ОС</p>
</dd>
<dt><code>BD</code></dt>
<dd>
<p>Blu-ray Disc — формат оптического носителя, используемый для записи
с повышенной плотностью хранения цифровых данных, включая видео высокой
чёткости</p>
</dd>
<dt><code>BMC</code></dt>
<dd>
<p>Baseboard Management Controller — контроллер управления системной
платой</p>
</dd>
<dt><code>CD</code></dt>
<dd>
<p>Compact Disc — оптический носитель в виде пластикового диска с
отверстием в центре, запись и считывание информации осуществляется при
помощи лазера</p>
</dd>
<dt><code>CF</code></dt>
<dd>
<p>CompactFlash — формат карт флеш-памяти, популярного в фототехнике</p>
</dd>
<dt><code>CPU</code></dt>
<dd>
<p>Central Processing Unit — центральный процессор</p>
</dd>
<dt><code>CSM</code></dt>
<dd>
<p>Compatibility Support Module — модуль поддержки совместимости</p>
</dd>
<dt><code>DHCP</code></dt>
<dd>
<p>Dynamic Host Configuration Protocol — протокол динамической
настройки узла</p>
</dd>
<dt><code>DNS</code></dt>
<dd>
<p>Domain Name System «система доменных имён» — компьютерная
распределённая система для получения информации о доменах и адресах</p>
</dd>
<dt><code>DVD</code></dt>
<dd>
<p>Digital Versatile Disc — оптический многоцелевой диск для
хранения различной информации в цифровом виде</p>
</dd>
<dt><code>FC</code></dt>
<dd>
<p>Fibre Channel — оптоволоконный канал и семейство протоколов для
высокоскоростной передачи данных, в том числе, на большие расстояния</p>
</dd>
<dt><code>HID</code></dt>
<dd>
<p>Human Interface Device — класс USB-устройств для взаимодействия
с человеком, таких как клавиатура, мышь, и т.п.</p>
</dd>
<dt><code>HDMI</code></dt>
<dd>
<p>High Definition Multimedia Interface — интерфейс для мультимедиа
высокой чёткости, позволяющий передавать цифровые видеоданные высокого
разрешения и многоканальные цифровые аудиосигналы</p>
</dd>
<dt><code>HTTP</code></dt>
<dd>
<p>HyperText Transfer Protocol — протокол прикладного уровня для
передачи любых данных</p>
</dd>
<dt><code>IPMI</code></dt>
<dd>
<p>Intelligent Platform Management Interface — интерфейс управления
платформой (как правило, серверной) для выполнения управления, мониторинга,
диагностики и т.д.</p>
</dd>
<dt><code>LTS</code></dt>
<dd>
<p>Long-Time Support — долгосрочная поддержка (ПО)</p>
</dd>
<dt><code>LUN</code></dt>
<dd>
<p>Logical Unit Number — адрес диска, обычно в СХД или SAN</p>
</dd>
<dt><code>LVM</code></dt>
<dd>
<p>Logical Volume Manager — менеджер логических томов, подсистема Linux,
позволяющая использовать разные области одного жёсткого диска и/или области
с разных жёстких дисков как один логический том</p>
</dd>
<dt><code>NVMe</code></dt>
<dd>
<p>NVM Express (NVMe) и Non-Volatile Memory Host Controller Interface
Specification (NVMHCI) — твердотельные накопители и интерфейс доступа к ним
через шину PCI Express</p>
</dd>
<dt><code>NVRAM</code></dt>
<dd>
<p>Non Volatile Random Access Memory — энергонезависимая память,
позволяющая хранить данные при отсутствии электрического питания</p>
</dd>
<dt><code>NUMA</code></dt>
<dd>
<p>Non-Uniform Memory Architecture — архитектура с неравномерной памятью</p>
</dd>
<dt><code>PXE</code></dt>
<dd>
<p>Preboot eXecution Environment — среда сетевой загрузки по протоколу TFTP</p>
</dd>
<dt><code>RAID</code></dt>
<dd>
<p>Redundant Array of Independent Disks — избыточный массив независимых
друг от друга дисков, представляемый системе как единое (целое) устройство</p>
</dd>
<dt><code>RDMA</code></dt>
<dd>
<p>Remote Direct Memory Access — аппаратное решение для обеспечения
прямого доступа к ОЗУ другого компьютера при помощи высокоскоростной сети</p>
</dd>
<dt><code>S.M.A.R.T.</code></dt>
<dd>
<p>Self-Monitoring, Analysis and Reporting Technology — технология
самоконтроля, анализа и отчётности состояния жёсткого диска, позволяющая
контролировать его износ</p>
</dd>
<dt><code>SAN</code></dt>
<dd>
<p>Storage Area Network — сеть хранения данных</p>
</dd>
<dt><code>SAS</code></dt>
<dd>
<p>Serial Attached SCSI — последовательный компьютерный интерфейс,
разработанный для подключения различных устройств хранения данных, например,
жёстких дисков и ленточных накопителей</p>
</dd>
<dt><code>SATA</code></dt>
<dd>
<p>Serial ATA — последовательный интерфейс обмена данными с накопителями</p>
</dd>
<dt><code>SCSI</code></dt>
<dd>
<p>Small Computer System Interface — набор стандартов для физического
подключения и передачи данных между компьютерами и периферийными устройствами</p>
</dd>
<dt><code>SSD</code></dt>
<dd>
<p>Solid-State Drive — твердотельный накопитель на основе микросхем памяти</p>
</dd>
<dt><code>TFTP</code></dt>
<dd>
<p>Trivial File Transfer Protocol — простой протокол передачи файлов</p>
</dd>
<dt><code>UEFI</code></dt>
<dd>
<p>Unified Extensible Firmware Interface — унифицированный расширяемый
интерфейс прошивки («материнской» платы)</p>
</dd>
<dt><code>USB</code></dt>
<dd>
<p>Universal Serial Bus — универсальная последовательная шина для
подключения периферийных устройств к ВК</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_об_этой_методике"> 1. Об этой методике</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_цели_и_применимость_методики">1.1. Цели и применимость методики</h3>
<div class="paragraph">
<p>Настоящая методика используется отделом тестирования ООО «Базальт СПО»
в качестве руководства по тестированию компьютеров на совместимость с уже
выпущенной ОС Альт и для интерпретации результатов тестирования, но также
может использоваться технологическими и OEM-партнёрами компании. Методика
позволяет однозначно установить или опровергнуть факт наличия совместимости
компьютера с ОС Альт.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Методика не предназначена для проверки готовящегося к выпуску
дистрибутива ОС Альт, для других дистрибутивов Linux, для нагрузочного
тестирования, для оборудования, которое не является компьютером.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Под компьютером в методике понимается широкий спектр ВК: настольный или
напольный ПК, моноблок, неттоп, сервер, СХД, на которую устанавливается ОС,
панельный компьютер (планшет), ноутбук, трансформер, одноплатный ПК, и т.д.
Одним словом, всё, что имеет материнскую плату с ЦП и памятью, и на что можно
установить Linux. В данной версии методики упор сделан на 32- и 64-бит
архитектуры Intel, но подразумевается её применимость к ВК с любой
поддерживаемой архитектурой, включая ARM, IBM Power и Эльбрус.</p>
</div>
</div>
<div class="sect2">
<h3 id="_определение_совместимости">1.2. Определение совместимости</h3>
<div class="paragraph">
<p>Совместимость компьютера с ОС Альт считается достигнутой, если одновременно:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>найден и задокументирован стабильно воспроизводимый способ успешной
установки ОС Альт на проверяемый компьютер;</p>
</li>
<li>
<p>всё значимое оборудование проверяемого компьютера работает в соответствии
с заявленной спецификацией;</p>
</li>
<li>
<p>подтверждена корректная работа ОС Альт после установки, в соответствии
с документацией, включая возможность дальнейшего обслуживания ОС;</p>
</li>
<li>
<p>подтверждена возможность корректной работы прикладного ПО со встроенным
и периферийным оборудованием, управляемым ОС Альт.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>К наиболее значимому оборудованию компьютера относятся: процессор(ы), кэш,
память, основные контроллеры на материнской плате, такие как: видеокарты,
контроллеры прерываний, памяти, дисковых накопителей, сетевые карты, и т.п.
Компьютер нельзя считать совместимым, если перечисленные устройства не
работают корректно, если при их работе создаются ошибки в журналах, если
происходят сегфолты ядра, зависания или внезапные перезагрузки компьютера.</p>
</div>
<div class="paragraph">
<p>Производитель компьютера на своё усмотрение может декларировать, что
из заявленного в спецификации или описанного в документации компьютера
не является значимым. Например, даже если спецификацией моноблока
определена поддержка «спящего» режима, она не так важна для работы
основных функций моноблока в целом.</p>
</div>
<div class="paragraph">
<p>То есть, совместимость достижима даже тогда, когда:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>поддерживается только какой-то один режим загрузки ОС, хотя спецификацией
компьютера может быть предусмотрено несколько режимов загрузки;</p>
</li>
<li>
<p>установка ОС происходит каким-то одним легко доступным способом, хотя,
как правило, дистрибутивами поддерживается несколько способов установки;</p>
</li>
<li>
<p>поддерживается не всё оборудование из заявленного в спецификации,
но имеющаяся степень поддержки позволяет корректно функционировать
прикладному ПО и компьютеру в целом.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Например, поддержка не полного набора портов USB, в случае, когда их несколько,
тем не менее, позволяет прикладному ПО работать через поддерживаемые USB-порты.
Или когда работает только ограниченное количество видеовыходов, при этом
работающие обеспечивают достаточную функциональность. Или драйверы к сканеру
отпечатка пальца производителем предусмотрены только для ОС Windows, но это
не влияет на работоспособность ноутбука в целом.</p>
</div>
<div class="paragraph">
<p>Отдельный объект исследования – совместимость со штатным установщиком
(инсталлятором) дистрибутива. В случае сертифицированных ОС Альт установка
системы возможна только при помощи инсталлятора, поэтому совместимость с
ним обязательна. Для несертифицированных систем доступны и другие способы
развёртывания ОС, поэтому для них совместимость компьютера с инсталлятором
необязательна, но желательна. В отедельных случаях требования могут быть
выше: мы проверяем всё сами и стремимся добиться полной совместимости.</p>
</div>
</div>
<div class="sect2">
<h3 id="_структура_методики">1.3. Структура методики</h3>
<div class="paragraph">
<p>Методика разделена на несколько частей. Во <strong>второй</strong> части даются указания
по заполнению <code>протокола тестирования</code> и <code>титульного листа протокола</code>.</p>
</div>
<div class="paragraph">
<p>В <strong>третьей</strong> части описываются шаги по настройке сервера сетевой загрузки
и тесты на загрузку установочного образа в различных режимах. При этом
выполняется проверка и определение всех доступных способов и режимов
загрузки, совместимость фирменной прошивки материнской платы с различными
режимами загрузки.</p>
</div>
<div class="paragraph">
<p>Следующие части посвящены установке и обновлению ОС штатным способом,
сбору и анализу диагностической информации о взаимодействии оборудования
с ОС Альт после установки и обновления.</p>
</div>
<div class="paragraph">
<p><strong>Девятая</strong> часть предлагает простой и быстрый способ проверки основных
компонентов рабочей станции с графикой, что позволяет пропустить полное
тестирование тех же компонентов из десятой части. <strong>Десятая</strong>, наиболее
ёмкая часть методики, подробно описывает основные тесты различных
компонентов оборудования.</p>
</div>
<div class="paragraph">
<p><strong>Шестая</strong> и <strong>одиннадцатая</strong> части описывают дополнительные (необязательные) тесты,
которые занимают продолжительное время, требуют специального оборудования или
расходных материалов, либо сопряжены с определёнными рисками для проверяемого
компьютера. Отдельные тесты из этих частей выполняются только после обоснования
необходимости и при наличии взаимных договорённостей.</p>
</div>
</div>
<div class="sect2">
<h3 id="_требования_к_персоналу">1.4. Требования к персоналу</h3>
<div class="paragraph">
<p>Проверка компьютера по данной методике выполняется одним специалистом
в течении нескольких часов. При этом не учитывается время на разовую
настройку <strong>сервера сетевой загрузки</strong> и поиск решений в случае обнаружения
проблем. Специалист должен иметь практический опыт работы от одного
года с компьютерами, фирменными прошивками (BIOS/UEFI/и т.п.), уметь
устанавливать различные ОС и знать основы работы с командной строкой Linux.</p>
</div>
</div>
<div class="sect2">
<h3 id="_разница_с_проверкой_предрелизных_образов">1.5. Разница с проверкой предрелизных образов</h3>
<div class="paragraph">
<p>Таблица ключевых отличий в двух методиках тестирования приведена здесь
исключительно в информационных целях.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Методика проверки предрелизных образов</th>
<th class="tableblock halign-left valign-top">Настоящая методика</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Предназначена для проверки функционала выпускаемой ОС и обеспечения
совместимости со всем оборудованием, имеющимся на стендах отдела тестирования</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Предназначена для проверки совместимости конкретного компьютера с уже
выпущенной ОС, в которую невозможно внести изменения</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Используется исключительно отделом тестирования ООО «Базальт СПО»</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Используется как внутри ООО «Базальт СПО», так и партнёрами компании</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Тестирование выполняется большой группой тестировщиков в течении
нескольких недель</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Тестирование выполняется одним тестировщиком за 2~4 часа</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Проверки могут варьироваться с каждым из имеющихся ядер ОС</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Подбирается одно подходящее ядро и ОС проверяется только с ним</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Установка ОС выполняется во всех доступных режимах загрузки</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Все режимы загрузки проверяются, но система устанавливается только в
одном из них</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Тестирование выполняется на пакетной базе из состава установочного образа</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Тестирование выполняется на текущем состоянии репозитория дистрибутива</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Для второй стадии сетевой загрузки проверяются различные протоколы
седьмого уровня: HTTP, FTP, CIFS и NFS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Для второй стадии сетевой загрузки, как и для первой, преимущественно
используется протокол HTTP</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Проверяется весь функционал ОС, входящих в него прикладных программ,
аспектов работы инсталлятора и локализации интерфейса</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Функционал ОС и прикладное ПО не проверяются, инсталлятор может работать
с замечаниями, а в случае обычной, не сертифицированной ОС может не работать
совсем (только при условии, что найден иной способ простого развёртывания ОС)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Если обнаружена проблема, разработке даются рекомендации по исправлению
в следующей пересборке установочного образа ОС</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Если обнаружена проблема, необходимо решение или способ обхода без внесения
изменений в установочный образ ОС</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_отчётность_и_ведение_протокола"> 2. Отчётность и ведение протокола</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Вместе с проверяемым компьютером в отдел тестирования ООО «Базальт СПО»
обязательно предоставляется полная <code>спецификация оборудования</code>. Если проверка
компьютера выполняется партнёром самостоятельно без встречной проверки со
стороны ООО «Базальт СПО», то для анализа вместе с результатами его тестирования
<code>спецификация оборудования</code> предоставляется службе обеспечения совместимости
<strong>в первую очередь</strong>.</p>
</li>
</ol>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Без <code>спецификации оборудования</code> тестирование и анализ результатов
не могут быть начаты, поскольку согласно данной методике результаты тестов
сравниваются со <code>спецификацией оборудования</code> и позволяют принять решение о
наличии или отсутствии совместимости.
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>На <code>титульный лист протокола</code> тестирования выносятся:</p>
<div class="ulist">
<ul>
<li>
<p>модель компьютера и <code>краткая спецификация</code> проверенной конфигурации;</p>
</li>
<li>
<p>полное название, версия и контрольная сумма дистрибутива ОС Альт;</p>
</li>
<li>
<p>дата и место проведения тестирования, версия настоящей методики;</p>
</li>
<li>
<p><code>версия ядра</code>, на котором выполнялось тестирование после обновления;</p>
</li>
<li>
<p>краткий перечень успешно пройденных испытаний — только в финальной
версии <code>титульного листа</code> для согласования, заполняется службой
обеспечения совместимости, тестировщику это заполнять не надо;</p>
</li>
<li>
<p>обнаруженные существенные ограничения, например, «из 4-х сетевых карт
работают только две» или «дистрибутив поставить можно, но не штатным
инсталлятором»;</p>
</li>
<li>
<p>особенности прохождения тестов и указания на проблемные фрагменты
журналов (ошибки, некорректное или необычное поведение и т.п.);</p>
</li>
<li>
<p>найденные способы «обхода» обнаруженных проблем и особенностей;</p>
</li>
<li>
<p>рекомендуемый режим загрузки установочного ISO-образа с локального
носителя, по сети и средствами IPMI (не требуется, если дистрибутив
предоставляется в виде rootfs или согласно спецификации оборудования
доступен единственный режим загрузки);</p>
</li>
<li>
<p>ссылка на опубликованные в сети Интернет результаты тестирования,
если оно проводилось партнёром самостоятельно без встречной проверки
со стороны ООО «Базальт СПО», включая данный <code>титульный лист</code>, полный
<code>протокол тестирования</code>, все собранные логи и диагностические файлы,
фрагменты результатов видеофиксации процесса тестирования;</p>
</li>
<li>
<p>мнение тестировщика о наличии или отсутствии совместимости.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<code>Титульный лист протокола</code> изначально заполняется тестировщиком
для более оперативного рассмотрения результатов и принятия решения.
Финальный вариант текста <code>титульного листа протокола</code> составляется на
его основе службой обеспечения совместимости, согласовывается с партнёром
и становится неотъемлемым приложением к <code>сертификату совместимости</code>.
Примеры заполнения <code>титульного листа</code> и <code>протокола тестирования</code>
приведены в Приложении к методике.
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>В основной таблице <code>протокола тестирования</code>, следующей за <code>титульным листом</code>,
перечисляются все пройденные проверки режимов загрузки дистрибутива вместе
с результатами: с локального носителя, по сети, а для серверов/СХД — через
IPMI (не требуется, если дистрибутив предоставляется в виде образа rootfs
или согласно <code>спецификации оборудования</code> доступен единственный режим загрузки).
Если вам по какой-то причине сложно проверять <strong>сетевую загрузку</strong>, пропустите
эту проверку. Мы всегда её проверяем, хотя она мало кому требуется.</p>
</li>
<li>
<p>Результаты последующих тестов фиксируются в <code>протоколе тестирования</code>
тоже в табличном виде. Колонка результатов может содержать одно из четырёх
состояний: <span class="passed">PASSED</span> (тест успешно пройден и на всех этапах получен
ожидаемый результат без применения обходных решений), <span class="error">FAILED</span> (тест
пройден с ошибками), <span class="skipped">SKIPPED</span> (тест не выполнялся, например, ввиду
отсутствия оборудования, возможности организовать стенд или по иной причине),
<span class="error">BLOCKED</span> (тест пока не может быть выполнен из-за найденных ранее
проблем).</p>
</li>
<li>
<p>Если тестирование выполняется партнёром самостоятельно или если проверяемое
оборудование физически расположено не в отделе тестирования ООО «Базальт СПО»,
то для прохождения некоторых тестов требуется видеофиксация процесса
тестирования. Необходимость видеофиксации указывается в конкретном тесте
данной методики. Фрагменты видеофиксации публикуются партнёром в сети Интернет
вместе с другими результатами тестирования и должны быть доступны в течении
всего срока действия <code>сертификата совместимости</code>.</p>
</li>
<li>
<p>Возможные обходные решения возникающих проблем при тестировании приведены
в Приложении к методике. Если они помогают решить проблему и добиться
совместимости, их необходимо выносить на <code>титульный лист протокола</code>.</p>
</li>
<li>
<p>Проводить тестирование следует на ядре, использующимся по умолчанию в
дистрибутиве. В большинстве дистрибутивов ему соответствует предпоследнее
апстримное ядро Linux с расширенной поддержкой (LTS). Такие ядра в ОС Альт
имеют flavour-окончание <code>std-def</code>.</p>
</li>
<li>
<p>Если в процессе тестирования возникают ошибки в работе оборудования,
которые не удаётся обойти иными способами, и в дистрибутиве присутствует
дополнительное ядро с flavour-окончанием <code>un-def</code>, которому соответствует
последнее апстримное LTS-ядро, то следует переключиться на это ядро <code>un-def</code>
и повторить все проверки с ним, отметив данное решение на <code>титульном листе
протокола</code>. Процесс переключения на более новое ядро <code>un-def</code> описан в
Приложении, но это переключение доступно не на всех дистрибутивах.</p>
</li>
<li>
<p>Полная <code>спецификация оборудования</code>, <code>титульный лист протокола</code>, основной
<code>протокол тестирования</code>, все собранные в процессе тестирования диагностические
файлы, фрагменты видеофиксации, если таковая велась — всё вместе публикуется в
сети Интернет и заинтересованным участникам процесса предоставляется ссылка на
эти файлы. В случае, когда тестирование производится технологическим или
OEM-партнёром самостоятельно без встречной проверки со стороны ООО «Базальт
СПО», доступность опубликованных материалов должна быть обеспечена на всё
время действия <code>сертификата совместимости</code> по ссылке, указанной на <code>титульном
листе протокола</code>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Обратите внимание!</strong> Не все обнаруженные проблемы влияют на совместимость –
зависит только от работоспособности <strong>основных функций</strong>. Важно, чтобы тестировщик
показывал в протоколе реальную, а не «красивую» картину, это позволяет вовремя
выработать правильные рекомендации, улучшить наши продукты, а при необходимости,
привлечь разработку. «Красивую», но не очень достоверную картину мы всё равно
отличим от реальной.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_проверка_режимов_загрузки_системы"> 3. Проверка режимов загрузки системы</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Цель данного раздела тестирования – проверить совместимость встроенного в
компьютер firmware с различными режимами загрузки установочного ISO-образа
ОС Альт, выявить и задокументировать все доступные для проверяемого
компьютера режимы загрузки, а также особенности работы с ними.</p>
</div>
<div class="paragraph">
<p>Если проверка выполняется только партнёром ООО «Базальт СПО», необходима
видеофиксация процесса тестирования хотя бы одного (рекомендуемого) режима
загрузки. В случае возникновения ошибок обратитесь к разделу
<a href="#_рекомендации_при_возникновении_проблем">Рекомендации при возникновении проблем</a>.</p>
</div>
<div class="sect2">
<h3 id="_специфичные_для_платформы_указания">3.1. Специфичные для платформы указания</h3>
<div class="sect3">
<h4 id="_intel_x86_64_и_i586_ibm_power_ppc64le_некоторые_aarch64">3.1.1. Intel x86_64 и i586, IBM Power ppc64le, некоторые aarch64</h4>
<div class="paragraph">
<p>Установочные ISO-образы записываются по инструкции:
<a href="https://www.altlinux.org/Write" class="bare">https://www.altlinux.org/Write</a> или аналогичной в
документации к дистрибутиву: <a href="https://docs.altlinux.org/" class="bare">https://docs.altlinux.org/</a>
на носитель DVD или USB-флеш. В большинстве современных компьютеров обычно
рекомендуется использовать режим загрузки <code>UEFI</code>, хотя предпочтительный режим
определяет производитель компьютера и тестировщик в рамках данного тестирования.
Для серверов и СХД перечисленных платформ обычно доступны не только локальная
и сетевая загрузка, но и третий механизм: <code>IPMI</code>, он будет рассмотрен далее.</p>
</div>
</div>
<div class="sect3">
<h4 id="_только_intel_x86_64">3.1.2. Только Intel x86_64</h4>
<div class="paragraph">
<p>Проверить нужно и режим загрузки <code>Legacy/CSM</code>, при его доступности, и
режим загрузки <code>UEFI</code> с включённым механизмом защиты <code>SecureBoot</code>, а если
с <code>SecureBoot</code> загрузка не идёт, то выключить <code>SecureBoot</code> и проверять без
него. Если <code>UEFI</code>-загрузка работает с включённым механизмом защиты <code>SecureBoot</code>,
то нет смысла проверять с отключением этого механизма, такую <code>UEFI</code>-загрузку
можно автоматически считать работающей.</p>
</div>
</div>
<div class="sect3">
<h4 id="_некоторые_aarch64_armh_и_таволга_терминал_на_mipsel">3.1.3. Некоторые aarch64, armh и Таволга терминал на mipsel</h4>
<div class="paragraph">
<p>Для одноплатных компьютеров обычно доступен лишь один режим загрузки,
а программы установки (инсталляции) ОС не предусмотрено. В таком случае
ОС Альт поставляется в виде архива готовой к работе корневой файловой
системы (в виде образа rootfs), записываемой на целевой носитель внешними
средствами. Соответственно, весь этот и следующий разделы тогда можно
пропустить до раздела <a href="#_обновление_ос_до_актуального_состояния">Обновление ОС до актуального состояния</a>, выполнив
только инструкцию по развёртыванию образа rootfs из архива, например:
<a href="https://www.altlinux.org/Write/rootfs" class="bare">https://www.altlinux.org/Write/rootfs</a> или:
<a href="https://www.altlinux.org/Write/recovery.tar" class="bare">https://www.altlinux.org/Write/recovery.tar</a> .</p>
</div>
</div>
<div class="sect3">
<h4 id="_вк_эльбрус_e2kv3_e2kv4_e2kv5_и_e2kv6">3.1.4. ВК «Эльбрус»: e2kv3, e2kv4, e2kv5 и e2kv6</h4>
<div class="paragraph">
<p>На данной платформе предлагается проверять локальную и сетевую загрузку.
Работа с ПНС на ВК «Эльбрус» описана в документации к дистрибутиву:
<a href="https://docs.altlinux.org/" class="bare">https://docs.altlinux.org/</a> (см. раздел «<strong>Загрузка системы</strong>») и ещё
здесь: <a href="https://www.altlinux.org/Эльбрус/пнс" class="bare">https://www.altlinux.org/Эльбрус/пнс</a> .
См. также статью: <a href="https://www.altlinux.org/ATA_over_Ethernet" class="bare">https://www.altlinux.org/ATA_over_Ethernet</a> .</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_загрузка_средствами_ipmi">3.2. Загрузка средствами IPMI</h3>
<div class="paragraph">
<p>Серверное оборудование, включая СХД, как правило, предоставляет возможность
загрузки и установки ОС средствами <code>BMC</code>/<code>IPMI</code>. У каждого производителя может
быть собственная реализация внутри firmware данной спецификации. Например,
<code>Cisco IMC</code>, <code>Dell iDRAC</code>, <code>HP iLO</code>, <code>IBM/Lenovo IMM</code>, <code>Supermicro SIM</code>, и т.д.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="iLO2.png" alt="iLO2">
</div>
</div>
<div class="paragraph">
<p>Способ загрузки средствами <code>BMC</code>/<code>IPMI</code> предполагает полностью удалённое
управление серверным оборудованием, загрузку с ISO-образа по сети, только
для ОС такая загрузка представляется не как сетевая, а как локальная, с
некоего виртуального носителя.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="SIM.png" alt="SIM">
</div>
</div>
<div class="paragraph">
<p>При отсутствии <code>IPMI</code>, пропустите данный подраздел. Иначе тестирование
следует провести по регламенту, описанному в следующем подразделе, только
вместо локального носителя задействуется виртуальный привод прошивки. Для
проброса ISO-образа с ОС Альт на СХД или сервер средствами <code>BMC</code>/<code>IPMI</code>,
обратитесь к документации своего оборудования.</p>
</div>
</div>
<div class="sect2">
<h3 id="_локальная_загрузка">3.3. Локальная загрузка</h3>
<div class="paragraph">
<p>При доступности нескольких режимов загрузки, например, <code>UEFI</code> и <code>Legacy/CSM</code>,
проверять надо каждый в отдельности. Следует избегать смешивания настроек
режимов загрузки, т.к. это может привести к непредсказуемости загрузки. В
качестве примера далее приведены способы проверки <code>локальной загрузки</code> для
аппаратной платформы Intel.</p>
</div>
<div class="sect3">
<h4 id="_установка_ос_в_режиме_загрузки_uefi">3.3.1. Установка ОС в режиме загрузки UEFI</h4>
<div class="paragraph">
<p>В программном обеспечении материнской платы выберите режим загрузки <code>UEFI</code>.
Включите безопасную загрузку — <code>SecureBoot</code>. В списке возможных вариантов
загрузки выберите носитель с дистрибутивом ОС Альт. Отличительной чертой
<code>UEFI</code>-загрузки в дистрибутивах ОС Альт является наличие пункта меню <strong>UEFI
Firmware Settings</strong>.</p>
</div>
<div class="paragraph">
<p>Пример экрана начальной стадии загрузки <code>Альт Рабочая станция 10.1</code>:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="uefi_1.png" alt="uefi 1">
</div>
</div>
<div class="paragraph">
<p>Выберите пункт «Установить Альт …» и дождитесь загрузки первого шага установки.
Для проверки работы «мыши» щёлкните ЛКМ на кнопку «Далее» — установщик должен
перейти ко второму шагу. Нажмите на клавиатуре <code><strong>Ctrl+Alt+F4</strong></code> для переключения
в текстовый режим терминала, а затем <code><strong>Ctrl+Alt+Del</strong></code> — компьютер должен уйти
на перезагрузку.</p>
</div>
<div class="paragraph">
<p>Проверка локальной <code>UEFI</code>-загрузки считается пройденной успешно, если при
помощи указанных действий удалось дойти до второго шага установки ОС Альт
и перезагрузить компьютер. В случае возникновения ошибок обратитесь к
разделу <a href="#_рекомендации_при_возникновении_проблем">Рекомендации при возникновении проблем</a>.</p>
</div>
<div class="paragraph">
<p>Пример экрана первого шага установки для <code>Альт Рабочая станция 10.1</code>:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="uefi_2.png" alt="uefi 2">
</div>
</div>
</div>
<div class="sect3">
<h4 id="_восстановление_ос_в_режиме_загрузки_uefi">3.3.2. Восстановление ОС в режиме загрузки UEFI</h4>
<div class="paragraph">
<p>На начальной стадии загрузки (см. <a href="#_установка_ос_в_режиме_загрузки_uefi">Установка ОС в режиме загрузки UEFI</a>)
выберите пункт <strong>Спасательный LiveCD</strong> (Восстановление системы). Данный пункт
доступен не во всех дистрибутивах ОС Альт. Если такого пункта нет, следует
перейти к следующему подразделу. Далее произойдёт загрузка образа <strong>ALT
Linux (rescue)</strong>, которая закончится приглашением командной строки.</p>
</div>
<div class="paragraph">
<p>Пример терминала спасательного LiveCD для <code>Альт Рабочая станция 10.1</code>:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="uefi_3.png" alt="uefi 3">
</div>
</div>
<div class="paragraph">
<p>Выполните в терминале команду <code>init 0</code> и дождитесь выключения компьютера.
Проверка локальной <code>UEFI</code>-загрузки в режиме восстановления считается пройденной
успешно, если она произошла полностью и без ошибок. В случае возникновения
ошибок обратитесь к разделу <a href="#_рекомендации_при_возникновении_проблем">Рекомендации при возникновении проблем</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_установка_ос_в_режиме_загрузки_legacycsm">3.3.3. Установка ОС в режиме загрузки Legacy/CSM</h4>
<div class="paragraph">
<p>В программном обеспечении материнской платы выберите режим загрузки
<code>Legacy/CSM</code>. В списке возможных вариантов загрузки выберите носитель
с дистрибутивом ОС Альт.</p>
</div>
<div class="paragraph">
<p>Пример экрана начальной стадии загрузки <code>Альт Рабочая станция 10.1</code>:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="legacy_1.png" alt="legacy 1">
</div>
</div>
<div class="paragraph">
<p>Выберите пункт «Установить Альт …» и дождитесь загрузки первого шага установки.
Для проверки работы «мыши» щёлкните ЛКМ на кнопку «Далее» — установщик должен
перейти ко второму шагу. Нажмите на клавиатуре <code><strong>Ctrl+Alt+F4</strong></code> для переключения
в текстовый режим терминала, а затем <code><strong>Ctrl+Alt+Del</strong></code> — компьютер должен уйти
на перезагрузку.</p>
</div>
<div class="paragraph">
<p>Проверка локальной загрузки в режиме <code>Legacy/CSM</code> считается успешной, если при
помощи указанных действий удалось дойти до второго шага установки ОС Альт
и перезагрузить компьютер. В случае возникновения ошибок обратитесь к
разделу <a href="#_рекомендации_при_возникновении_проблем">Рекомендации при возникновении проблем</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_восстановление_ос_в_режиме_загрузки_legacycsm">3.3.4. Восстановление ОС в режиме загрузки Legacy/CSM</h4>
<div class="paragraph">
<p>На начальной стадии загрузки (см. <a href="#_установка_ос_в_режиме_загрузки_legacycsm">Установка ОС в режиме загрузки Legacy/CSM</a>)
выберите пункт <strong>Спасательный LiveCD</strong> (Восстановление системы). Данный пункт
доступен не во всех дистрибутивах ОС Альт. Если такого пункта нет, следует
перейти к следующему подразделу. Далее произойдёт загрузка образа <strong>ALT Linux
(rescue)</strong>, которая закончится приглашением командной строки, аналогично
подразделу <a href="#_восстановление_ос_в_режиме_загрузки_uefi">Восстановление ОС в режиме загрузки UEFI</a>.</p>
</div>
<div class="paragraph">
<p>Выполните в терминале команду <code>init 0</code> и дождитесь выключения компьютера.
Проверка локальной загрузки <code>Legacy/CSM</code> в режиме восстановления считается
пройденной успешно, если она произошла полностью и без ошибок. В случае
возникновения ошибок обратитесь к разделу
<a href="#_рекомендации_при_возникновении_проблем">Рекомендации при возникновении проблем</a>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_сетевая_загрузка">3.4. Сетевая загрузка</h3>
<div class="paragraph">
<p>На данном этапе проверяется возможность сетевого оборудования запустить
<code>PXE</code>/<code>iPXE</code>/<code>AoE</code> загрузчик, который загрузит по сети ядро с образом
начальной загрузки ОС (<code>initrd.img</code> или <code>full.cz</code>), который, в свою очередь,
загрузит по сети инсталлятор ОС Альт. Поскольку все четыре компонента
так или иначе будут взаимодействовать с сервером по сети через сетевое
оборудование, можно судить о совместимости этого оборудования с установщиком
ОС Альт.</p>
</div>
<div class="paragraph">
<p>Проверяется на платформах <code>x86_64</code>, <code>i586</code>, на некоторых <code>aarch64</code> и с ВК
«Эльбрус» во всех поддерживаемых режимах загрузки (<code>UEFI</code>, <code>Legacy/CSM</code>,
и т.д.). Для тестирования понадобится настроить сервер сетевой загрузки.
<a href="#_пример_настройки_сервера_сетевой_загрузки">Пример настройки сервера сетевой загрузки</a> приведён далее.</p>
</div>
<div class="sect3">
<h4 id="_сетевая_загрузка_на_вк_эльбрус">3.4.1. Сетевая загрузка на ВК «Эльбрус»</h4>
<div class="paragraph">
<p>Начальная загрузка ВК «Эльбрус» похожа на IPMI тем, что с точки зрения
сетевого «клиента» загрузочный образ представляется блочным устройством
средствами прошивки ПНС. Но работать с целым ISO-образом штатным способом
неудобно, он не обеспечивает простого механизма начальной загрузки по
протоколу <code>AoE</code>. Поэтому предлагается двухэтапная загрузка: первая стадия —
со специально подготовленного образа начальной загрузки по протоколу <code>AoE</code>,
и вторая стадия — с <code>HTTP</code>-сервера, что уже не будет отличаться от сетевой
загрузки на других аппаратных платформах.</p>
</div>
</div>
<div class="sect3">
<h4 id="_сетевая_загрузка_на_других_платформах">3.4.2. Сетевая загрузка на других платформах</h4>
<div class="paragraph">
<p>Независимо от возможностей <strong>BOOT PROM</strong> проверяемого сетевого оборудования,
ОС Альт поддерживает начальную загрузку по сети одним из трёх способов:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>PXE</code>/<code>TFTP</code>: только <code>Legacy/CSM</code>-загрузка, обычно для старых компьютеров
(только Intel);</p>
</li>
<li>
<p><code>HTTPClient</code>: только <code>UEFI</code>-загрузка, начиная со спецификации <strong>UEFI 2.5</strong>
(x86_64 и aarch64);</p>
</li>
<li>
<p><code>iPXE</code>: поддерживаются разные режимы загрузки и многие сетевые протоколы,
как для первой, так и для второй стадии загрузки (все платформы);</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Выбор способа загрузки в <strong>UEFI Firmware</strong> виртуальной машины <code>qemu</code>:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="http_1.png" alt="http 1">
</div>
</div>
</div>
<div class="sect3">
<h4 id="_пример_настройки_сервера_сетевой_загрузки">3.4.3. Пример настройки сервера сетевой загрузки</h4>
<div class="paragraph">
<p>Предлагается универсальный вариант настройки сервера, при котором почти вся
начальная и дальнейшая загрузка выполняется по протоколу <code>HTTP</code>. Только лишь
старое оборудование Intel, поддерживающее <code>Legacy/CSM</code>-режим <code>PXE</code>-загрузки,
будет использовать протокол <code>TFTP</code> для загрузки сначала более современного
загрузчика <code>iPXE</code>. И только на ВК «Эльбрус» при начальной загрузке средствами
ПНС используется протокол <code>AoE</code>. Для простоты мы не используем в этом примере
<code>IPv6</code>, <code>DNS</code> и высокоуровневые протоколы, отличные от <code>HTTP</code>.</p>
</div>
<div class="paragraph">
<p>В качестве <strong>сервера сетевой загрузки</strong> в данном примере используется <code>Альт
Сервер 10.1</code> на платформе Intel x86_64. При установке сервера необходимо
выбрать профиль: «<strong>Минимальная установка</strong>». Настроенный таким способом
сервер пригоден для многократного тестирования «клиентов» на разных
аппаратных платформах. В дальнейшем его можно использовать на производстве
для массового развёртывания ОС Альт по сети.</p>
</div>
<div class="sect4">
<h5 id="_описание_конфигурации">3.4.3.1. Описание конфигурации</h5>
<div class="ulist">
<ul>
<li>
<p><code>192.168.15.1/24</code> – IP-адрес <strong>сервера сетевой загрузки</strong> во внутренней сети;</p>
</li>
<li>
<p><code>enp6s19</code> – сетевой интерфейс на <strong>сервере сетевой загрузки</strong> для внутренней
сети (будьте внимательны, так как в вашем случае он может иметь другое
название);</p>
</li>
<li>
<p><code>alt-workstation-10.1-x86_64.iso</code> – ISO-образ ОС Альт для сетевой загрузки;</p>
</li>
<li>
<p><code>/var/lib/tftpboot</code> – в этот каталог будут сложены файлы начальной загрузки;</p>
</li>
<li>
<p><code>/img</code> – в этот каталог будут сложены загрузочные ISO-образы;</p>
</li>
<li>
<p><code>/srv/img</code> – в этот каталог будет монтироваться ISO-образ дистрибутива.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_подготовка_к_настройке">3.4.3.2. Подготовка к настройке</h5>
<div class="paragraph">
<p>Обновите <strong>сервер сетевой загрузки</strong> до актуального состояния:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong>$ su -</strong>
<strong># apt-get update</strong>
<strong># apt-get dist-upgrade</strong>
<strong># update-kernel</strong>
<strong># apt-get clean</strong>
<strong># reboot</strong></code></pre>
</div>
</div>
<div class="paragraph">
<p>Отключите и остановите следующие службы:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># systemctl disable --now smartd nscd nslcd</strong></code></pre>
</div>
</div>
<div class="paragraph">
<p>Создайте необходимые каталоги:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># mkdir -p /img /srv/img</strong></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_установка_пакетов_на_сервере">3.4.3.3. Установка пакетов на сервере</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># apt-get install dhcp-server nginx tftp tftp-server-xinetd ipxe-bootimgs</strong></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_настройка_сети_на_сервере">3.4.3.4. Настройка сети на сервере</h5>
<div class="paragraph">
<p>Создайте каталог для настройки сетевого интерфейса, если его ещё нет:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># mkdir -p /etc/net/ifaces/<code>enp6s19</code></strong></code></pre>
</div>
</div>
<div class="paragraph">
<p>Создайте конфигурационный файл интерфейса <code>enp6s19</code> для внутренней сети:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># cat /etc/net/ifaces/<code>enp6s19</code>/options</strong>
TYPE=eth
CONFIG_WIRELESS=no
BOOTPROTO=static
SYSTEMD_BOOTPROTO=static
CONFIG_IPV4=yes
DISABLED=no
NM_CONTROLLED=no
SYSTEMD_CONTROLLED=no</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># cat /etc/net/ifaces/<code>enp6s19</code>/ipv4address</strong>
<code>192.168.15.1</code>/24</code></pre>
</div>
</div>
<div class="paragraph">
<p>Перезапустите службу <strong>network</strong> для «поднятия» интерфейса:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># systemctl restart network</strong></code></pre>
</div>
</div>
<div class="paragraph">
<p>Итоговые настройки сети:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># ip addr show enp6s19</strong>
3: <code>enp6s19</code>: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc fq_codel state UP ...
    link/ether a2:8c:4e:5a:c4:8e brd ff:ff:ff:ff:ff:ff
    inet <code>192.168.15.1/24</code> brd 192.168.15.255 scope global enp6s19
       valid_lft forever preferred_lft forever
    inet6 fe80::a08c:4eff:fe5a:c48e/64 scope link
       valid_lft forever preferred_lft forever</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_настройка_dhcp_сервера">3.4.3.5. Настройка DHCP-сервера</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># cat /etc/dhcp/dhcpd.conf</strong>

authoritative;
ddns-update-style none;
ddns-domainname "test.alt";

option space altlinux;
option altlinux.keydata code 2 = string;
vendor-option-space altlinux;

option arch code 93 = unsigned integer 16;

option space ipxe;
option ipxe.no-pxedhcp code 176 = unsigned integer 8;

subnet 192.168.15.0 netmask 255.255.255.0 {
        option nis-domain               "test.alt";
        option domain-name              "test.alt";
        option broadcast-address        192.168.15.255;
        option subnet-mask              255.255.255.0;

        default-lease-time              1800;
        max-lease-time                  3600;

        option ipxe.no-pxedhcp          1;

        if exists user-class and option user-class = "iPXE" {
                filename "http://192.168.15.1/boot/script.ipxe";
        } elsif option arch = encode-int(16, 16) {
                option vendor-class-identifier "HTTPClient";
                filename "http://192.168.15.1/boot/ipxe-x86_64.efi";
        } elsif substring (option vendor-class-identifier, 0, 9) = "PXEClient" {
                next-server             192.168.15.1;

                if option arch = 00:06 {                # EFI IA32
                        filename "ipxe-i386.efi";
                } elsif option arch = 00:07 {           # EFI Byte Code
                        filename "ipxe-x86_64.efi";
                } elsif option arch = 00:09 {           # EFI x86-64
                        filename "ipxe-x86_64.efi";
                } elsif option arch = 00:11 {           # EFI ARM64
                        filename "ipxe-arm64.efi";
                } elsif option arch = 00:00 {           # Legacy BIOS
                        filename "undionly.kpxe";
                }
        }

        pool {
                range 192.168.15.50 192.168.15.250;
        }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Определите для службы <code>dhcpd</code> интерфейс, на котором она будет работать –
он должен «смотреть» во внутреннюю сеть для сетевой загрузки «клиентов»:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># cat /etc/sysconfig/dhcpd</strong>
# The following variables are recognized:

DHCPDARGS=<code>enp6s19</code></code></pre>
</div>
</div>
<div class="paragraph">
<p>Включите и запустите DHCP-сервер:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># systemctl enable --now dhcpd</strong></code></pre>
</div>
</div>
<div class="paragraph">
<p>Убедитесь, что служба <code>dhcpd</code> запущена без ошибок:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># systemctl status dhcpd</strong>
o dhcpd.service - DHCPv4 Server Daemon
     Loaded: loaded (/lib/systemd/system/dhcpd.service; enabled; vendor preset: disabled)
     Active: active (running) since Mon 2023-06-19 08:33:24 UTC; 12s ago
       Docs: man:dhcpd(8)
             man:dhcpd.conf(5)
    Process: 4265 ExecStartPre=/etc/chroot.d/dhcpd.all (code=exited, status=0/SUCCESS)
   Main PID: 4354 (dhcpd)
      Tasks: 1 (limit: 4637)
     Memory: 5.2M
        CPU: 234ms
     CGroup: /system.slice/dhcpd.service
             └─ 4354 /usr/sbin/dhcpd -4 -f --no-pid enp6s19

июн 19 08:33:24 host-215 dhcpd[4354]: All rights reserved.
июн 19 08:33:24 host-215 dhcpd[4354]: For info, please visit https://www.isc.org/software/dhcp/
июн 19 08:33:24 host-215 dhcpd[4354]: Config file: /etc/dhcp/dhcpd.conf
июн 19 08:33:24 host-215 dhcpd[4354]: Database file: /state/dhcpd.leases
июн 19 08:33:24 host-215 dhcpd[4354]: PID file: /var/run/dhcpd.pid
июн 19 08:33:24 host-215 dhcpd[4354]: Listening on LPF/enp6s19/a2:8c:4e:5a:c4:8e/192.168.15.0/24
июн 19 08:33:24 host-215 dhcpd[4354]: Sending on   LPF/enp6s19/a2:8c:4e:5a:c4:8e/192.168.15.0/24
июн 19 08:33:24 host-215 dhcpd[4354]: Sending on   Socket/fallback/fallback-net
июн 19 08:33:24 host-215 dhcpd[4354]: Wrote 6 leases to leases file.
июн 19 08:33:24 host-215 dhcpd[4354]: Server starting service.</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_настройка_tftp_сервера_и_службы_xinetd">3.4.3.6. Настройка TFTP-сервера и службы xinetd</h5>
<div class="paragraph">
<p><code>/var/lib/tftpboot</code> – корневой каталог <code>TFTP</code>. Здесь будет располагаться
загрузчик <strong>iPXE</strong>, равно как и все остальные образы начальной загрузки.
Скопируйте в этот каталог все необходимые файлы:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># cp -v /usr/share/ipxe/{ipxe-i386.efi,ipxe-x86_64.efi,ipxe-arm64.efi,undionly.kpxe} \</strong>
    <strong>/var/lib/tftpboot/</strong>
'/usr/share/ipxe/ipxe-i386.efi' -&gt; '/var/lib/tftpboot/ipxe-i386.efi'
'/usr/share/ipxe/ipxe-x86_64.efi' -&gt; '/var/lib/tftpboot/ipxe-x86_64.efi'
'/usr/share/ipxe/ipxe-arm64.efi' -&gt; '/var/lib/tftpboot/ipxe-arm64.efi'
'/usr/share/ipxe/undionly.kpxe' -&gt; '/var/lib/tftpboot/undionly.kpxe'</code></pre>
</div>
</div>
<div class="paragraph">
<p>Сконфигурируйте и запустите <code>xinetd</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># cat /etc/xinetd.d/tftp</strong>
service tftp
{
	disable		= no
	socket_type	= dgram
	protocol	= udp
	wait		= yes
	user		= root
	server		= /usr/sbin/in.tftpd
	server_args	= -4 -a <code>192.168.15.1</code> -u tftp -s /var/lib/tftpboot -m /etc/tftpd.map
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># cat /etc/tftpd.map</strong>
# Convert backslashes to slashes

rg \\ /</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># cat /etc/xinetd.conf</strong>
defaults
{
	log_type = SYSLOG authpriv info
	log_on_success = PID HOST DURATION
	log_on_failure = HOST
	instances = 100
	per_source = 5
#	only_from = 127.0.0.1
}

includedir /etc/xinetd.d</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># cat /etc/sysconfig/xinetd</strong>
EXTRAOPTIONS='-remlock'</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># systemctl start xinetd.service</strong></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_настройка_веб_сервера_nginx">3.4.3.7. Настройка веб-сервера nginx</h5>
<div class="paragraph">
<p>Создайте файл конфигурации сервера <code>nginx</code> следующего содержания:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># cat /etc/nginx/sites-available.d/boot.conf</strong>
server {
	listen 192.168.15.1:80;
	server_name 192.168.15.1;
	location / {
	    root /var/www/html;
	    autoindex on;
	}
	access_log  /var/log/nginx/access.log;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Создайте каталог, доступ к которому будет предоставлять <code>nginx</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># mkdir -p /var/www/html</strong></code></pre>
</div>
</div>
<div class="paragraph">
<p>Запустите службу <code>nginx</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># ln -sv /etc/nginx/sites-available.d/boot.conf /etc/nginx/sites-enabled.d/boot.conf</strong>
'/etc/nginx/sites-enabled.d/boot.conf' -&gt; '/etc/nginx/sites-available.d/boot.conf'</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># systemctl enable --now nginx.service</strong></code></pre>
</div>
</div>
<div class="paragraph">
<p>Создайте симлинки, чтобы <code>nginx</code> смог предоставить доступ к файлам
с загрузчиками и смонтированному ISO-образу:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># ln -sv /var/lib/tftpboot /var/www/html/boot</strong>
'/var/www/html/boot' -&gt; '/var/lib/tftpboot'</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># ln -sv /srv/img/ /var/www/html</strong>
'/var/www/html/img' -&gt; '/srv/img/'</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_монтирование_установочного_образа">3.4.3.8. Монтирование установочного образа</h5>
<div class="paragraph">
<p>Разместите ISO-образ дистрибутива ОС Альт в <code>/img</code> и смонтируйте его:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># mount -t iso9660 -o loop,ro /img/alt-workstation-10.1-x86_64.iso /srv/img</strong></code></pre>
</div>
</div>
<div class="paragraph">
<p>Содержимое установочного диска:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># ls -l /srv/img/</strong>
итого 3315030
-r--r--r-- 1 root root          0 янв 26 10:57 2023-01-26-10-54-25-00
-r--r--r-- 1 root root  671145984 янв 26 11:02 altinst
dr-xr-xr-x 1 root root       2048 янв 26 11:20 ALTLinux
dr-xr-xr-x 1 root root       2048 янв 26 11:20 boot
dr-xr-xr-x 1 root root       2048 янв 26 11:20 docs
dr-xr-xr-x 1 root root       2048 янв 26 10:57 EFI
-r--r--r-- 1 root root        169 янв 26 11:20 index.html
-r--r--r-- 1 root root       6049 дек 20 17:00 license.all.html
-r--r--r-- 1 root root      10879 дек 20 17:00 license.ru.html
-r--r--r-- 1 root root 1992445952 янв 26 11:19 live
dr-xr-xr-x 1 root root       2048 янв 26 10:55 Metadata
-r--r--r-- 1 root root  730968064 янв 26 11:09 rescue
dr-xr-xr-x 1 root root       2048 янв 26 11:20 syslinux</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_подготовка_загрузочного_скрипта">3.4.3.9. Подготовка загрузочного скрипта</h5>
<div class="paragraph">
<p>Создайте скрипт запуска загрузки для <code>iPXE</code> и <code>HTTPClient</code> следующего содержания:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># cat /var/lib/tftpboot/script.ipxe</strong>
#!ipxe

kernel http://192.168.15.1/img/boot/vmlinuz
initrd http://192.168.15.1/img/boot/initrd.img

imgargs vmlinuz initrd=initrd.img fastboot live  ramdisk_size=<code><strong>655417</strong></code>  stagename=altinst \
nosplash showopts automatic=method:http,network:dhcp,server:192.168.15.1,directory:/img \
tz=Europe/Moscow lang=ru_RU

boot</code></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Обратите внимание: пути к файлам ядра (<code>/boot/vmlinuz</code>) и образа
начальной загрузки (<code>/boot/initrd.img</code>) на некоторых установочных дисках
могут отличаться. Ищите в каталогах <code>/EFI</code>, <code>/syslinux</code> и <code>/boot</code> файлы
с именем <code>vmlinuz</code> и <code>initrd.img</code> (либо <code>full.cz</code>), и, если эти пути
отличаются, внесите соответствующие изменения в загрузочный скрипт.
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p><code>imgargs …</code> – параметры загрузки ОС для запуска инсталлятора, всё в
одну строку;</p>
</li>
<li>
<p><code>automatic=…</code> – откуда будет загружаться squashfs-образ инсталлятора
(<code>stagename=altinst</code>);</p>
</li>
<li>
<p><code>ramdisk_size=655417</code> – размер squashfs-образа инсталлятора в килобайтах.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Значение <strong>ramdisk_size</strong> нужно посчитать командой:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># echo $((4 * $(du -lsB4k /srv/img/altinst |cut -f1) + 1))</strong></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_шаги_настройки_для_загрузки_вк_эльбрус">3.4.3.10. Шаги настройки для загрузки ВК «Эльбрус»</h5>
<div class="paragraph">
<p>Дополнение к конфигурации сервера в примере:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>alt-workstation-20200919-e2kv4.iso</code> – ISO-образ ОС Альт для сетевой
загрузки и установки на «клиенте» с архитектурой <strong>e2kv4</strong>;</p>
</li>
<li>
<p><code>enp6s20</code> – ещё один сетевой интерфейс на сервере для начальной загрузки
по протоколу <strong>AoE</strong> (у вас он может называться иначе), IP-адрес на нём
поднимать не нужно, его трафик должен быть изолирован от другого сетевого
трафика;</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Рекомендуется «клиент» и <strong>сервер сетевой загрузки</strong> соединять двумя
изолированными друг от друга сетями, что требует двух сетевых адаптеров
как на стороне «сервера», так и на стороне «клиента». Однако не в каждом
ВК «Эльбрус» доступно две сетевые карты. В принципе, можно обойтись одной
сетью, одним сетевым адаптером с каждой «стороны», но следует иметь в виду,
что пока работает начальная загрузка по протоколу <code>AoE</code>, нормальная работа
любого другого IP-трафика в этой сети будет парализована или нарушена. В
настоящей методике далее упоминаются два сетевых адаптера и две сети, хотя
нами проверялась конфигурация с единственной сетью – разница лишь в имени
второго интерфейса и в том, что этапы загрузки должны следовать по очереди.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Установите необходимые пакеты и добавьте модуль <strong>aoe</strong> в автозапуск:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># apt-get install fakeroot sfdisk vblade</strong>
<strong># modprobe aoe</strong>
<strong># echo aoe &gt;&gt; /etc/modules</strong></code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_проверка_возможности_загрузки_дистрибутивного_образа">3.4.4. Проверка возможности загрузки дистрибутивного образа</h4>
<div class="paragraph">
<p>Сетевая загрузка ВК «Эльбрус» описана в следующих разделах. Для загрузки
по сети «клиента» на платформе <code>Intel x86_64</code>, <code>Intel i586</code> или <code>aarch64</code>
выполните нижеперечисленные шаги одним из доступных способов. На <code>Intel
x86_64</code> проверяется и <code>UEFI</code>, и <code>Legacy/CSM</code>-загрузка. Проверенные режимы
и способы загрузки заносятся в протокол тестирования.</p>
</div>
<div class="paragraph">
<p>Подготовьте к работе и подключите к сети <strong>сервер сетевой загрузки</strong> (см.
<a href="#_пример_настройки_сервера_сетевой_загрузки">Пример настройки сервера сетевой загрузки</a>). Смонтируйте на сервере
сетевой загрузки ISO-образ проверяемой ОС Альт, согласно подразделу
<a href="#_монтирование_установочного_образа">Монтирование установочного образа</a>. Отредактируйте под проверяемый
дистрибутив ОС Альт загрузочный скрипт, согласно подразделу
<a href="#_подготовка_загрузочного_скрипта">Подготовка загрузочного скрипта</a>. Подключите к сети проверяемый
компьютер, на котором должна развёртываться ОС Альт, и включите его.</p>
</div>
<div class="paragraph">
<p>В программном обеспечении материнской платы или сетевой карты выберите
доступный способ сетевой загрузки. В некоторых сетевых картах включение
<strong>BOOT PROM</strong> и выбор соответствующего способа загрузки выполняется не
через <code>BIOS</code>/<code>UEFI Firmware</code>, а весьма неочевидным образом соответствующими
утилитами от производителя (см. документацию к сетевому оборудованию).
Отключите механизм защиты <code>SecureBoot</code>, если это позволяет прошивка
системной платы.</p>
</div>
<div class="paragraph">
<p>Дождитесь загрузки первого шага установки ОС Альт (<strong>«Язык»</strong>). Для проверки
работы «мыши» щёлкните ЛКМ на кнопку «Далее» — установщик должен перейти
ко второму шагу. Нажмите на клавиатуре <code><strong>Ctrl+Alt+F4</strong></code> для переключения
в текстовый режим терминала, а затем <code><strong>Ctrl+Alt+Del</strong></code> — компьютер должен
уйти на перезагрузку.</p>
</div>
<div class="paragraph">
<p>Проверка способа и режима сетевой загрузки считается успешно пройденной,
если при помощи указанных действий удалось дойти до второго шага установки
ОС Альт и перезагрузить компьютер. В случае возникновения ошибок обратитесь
к разделу <a href="#_рекомендации_при_возникновении_проблем">Рекомендации при возникновении проблем</a>.</p>
</div>
<div class="paragraph">
<p>Успешная загрузка по сети загрузчика <code>grub</code> на ARM64, но дальше «что-то
пошло не так»:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="grubaa64.png" alt="grubaa64">
</div>
</div>
</div>
<div class="sect3">
<h4 id="_подготовка_образа_начальной_загрузки_для_вк_эльбрус">3.4.5. Подготовка образа начальной загрузки для ВК «Эльбрус»</h4>
<div class="sect4">
<h5 id="_монтирование_установочного_образа_e2k">3.4.5.1. Монтирование установочного образа E2K</h5>
<div class="paragraph">
<p>Разместите ISO-образ дистрибутива ОС Альт на <strong>сервере сетевой загрузки</strong>
в каталоге <code>/img</code> и смонтируйте его, если этого не было сделано ранее:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># mount -t iso9660 -o loop,ro /img/alt-workstation-20200919-e2kv4.iso /srv/img</strong></code></pre>
</div>
</div>
<div class="paragraph">
<p>Дальнейшие действия на <strong>сервере сетевой загрузки</strong> выполняются с правами
обычного пользователя в определённом окружении:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># su - user</strong>
<strong>$ umask 0022</strong>
<strong>$ export LANG=C</strong>
<strong>$ export PATH="/sbin:/usr/sbin:$PATH"</strong></code></pre>
</div>
</div>
<div class="paragraph">
<p>Где <code>user</code> – логин непривилегированного пользователя на <strong>сервере сетевой
загрузки</strong>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_создание_файла_boot_conf">3.4.5.2. Создание файла boot.conf</h5>
<div class="paragraph">
<p>Подготовьте рабочий каталог и перейдите в него:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong>$ mkdir -p $TMPDIR/extfs/boot</strong>
<strong>$ cd $TMPDIR/extfs/</strong>
<strong>$ pwd</strong>
/tmp/.private/user/extfs</code></pre>
</div>
</div>
<div class="paragraph">
<p>Создайте конфигурацию загрузки, подобную указанной ниже:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong>$ cat boot.conf</strong>
timeout=2
default=<code><strong>auto</strong></code>
label=<code><strong>auto</strong></code>
  partition=0
  image=/boot/vmlinuz
  cmdline=console=ttyS0,115200 console=tty0 hardreset ramdisk_size=<code><strong>401481</strong></code> \
    automatic=method:http,network:dhcp,server:192.168.15.1,directory:/img \
    lowmem fastboot stagename=altinst tz=Europe/Moscow lang=ru_RU <code><strong>vnc headless</strong></code>
  initrd=/boot/initrd.img</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>cmdline=…</code> – параметры загрузки ОС для запуска инсталлятора, всё в
одну строку;</p>
</li>
<li>
<p><code>automatic=…</code> – откуда будет загружаться squashfs-образ инсталлятора
(<code>stagename=altinst</code>);</p>
</li>
<li>
<p><code>vnc headless</code> – добавляется только, если вы хотите сидеть не за
терминалом ВК «Эльбрус», а подключаться к инсталлятору удалённо по
протоколу VNC с другой сетевой машины;</p>
</li>
<li>
<p><code>ramdisk_size=401481</code> – размер squashfs-образа инсталлятора в килобайтах.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Метка <strong>auto</strong> обязательна для <code>AoE</code>-загрузки. Значение <strong>ramdisk_size</strong> нужно
посчитать командой:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong>$ echo $((4 * $(du -lsB4k /srv/img/altinst |cut -f1) + 1))</strong></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_копирование_ядра_и_образа_initramfs">3.4.5.3. Копирование ядра и образа initramfs</h5>
<div class="paragraph">
<p>Скопируйте с установочного диска ядро и образ начальной загрузки ОС:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong>$ cp -Lf /srv/img/alt0/{image,vmlinu}* boot/vmlinuz</strong>
<strong>$ cp -Lf /srv/img/alt0/{initrd.img,full.cz} boot/initrd.img</strong></code></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Обратите внимание: пути к файлам ядра (<code>/alt0/vmlinuz</code>) и образа
начальной загрузки (<code>/alt0/full.cz</code>) на некоторых установочных дисках могут
отличаться. Ищите в каталогах <code>/alt0</code> или <code>/boot</code> файлы с именем <code>vmlinuz</code>
(либо <code>vmlinux.0</code>, либо <code>image</code>, либо <code>image.0</code>) и <code>initrd.img</code> (либо
<code>full.cz</code>). При копировании этих файлов путь назначения менять не следует.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>В результате выполненных действий должно получиться такое дерево файлов:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ tree
+-- boot
|   +-- initrd.img
|   `-- vmlinuz
`-- boot.conf</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_создание_образа_первого_раздела_диска">3.4.5.4. Создание образа первого раздела диска</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong>$ cd ..</strong>
<strong>$ truncate -s 250M part1.img</strong>
<strong>$ fakeroot mkfs.ext2 -q -F -m0 -N0 -L AoE-boot \</strong>
    <strong>-d ./extfs -E no_copy_xattrs,root_owner part1.img</strong>
<strong>$ resize2fs -f -M part1.img</strong></code></pre>
</div>
</div>
<div class="paragraph">
<p>Где:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>part1.img</code> – название временного файла с образом первого раздела;</p>
</li>
<li>
<p><code>250M</code> – начальный размер этого раздела (его должно хватить на три
вышеупомянутых файла, в противном случае увеличьте значение, но точно
подгонять размер нет необходимости);</p>
</li>
<li>
<p><code>AoE-boot</code> – метка тома создаваемого раздела;</p>
</li>
<li>
<p><code>./extfs</code> – подкаталог с файлами, помещаемыми на создаваемый раздел
при форматировании.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_создание_финального_образа_для_aoe_загрузки">3.4.5.5. Создание финального образа для AoE-загрузки</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong>$ partsize=$(du -sm --apparent-size part1.img |cut -f1)</strong>
<strong>$ truncate -s ${partsize}M part1.img</strong>
<strong>$ truncate -s $((1 + partsize))M MBR.img</strong>
<strong>$ echo ",${partsize}M,L,*" | sfdisk -X dos -W always -q MBR.img</strong>
<strong>$ truncate -s 1M MBR.img</strong>
<strong>$ cat MBR.img part1.img &gt; e2kv4.img</strong></code></pre>
</div>
</div>
<div class="paragraph">
<p>Где:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>MBR.img</code> – название ещё одного временного файла с первым мегабайтом диска;</p>
</li>
<li>
<p><code>e2kv4.img</code> – название финального образа начальной загрузки по протоколу
<strong>AoE</strong>, командами выше размер этого файла уже уменьшен до минимально
необходимого.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_завершающие_шаги">3.4.5.6. Завершающие шаги</h5>
<div class="paragraph">
<p>Нижеуказанные файлы и каталоги больше не понадобятся, можно их удалить:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong>$ rm -rf MBR.img part1.img extfs</strong></code></pre>
</div>
</div>
<div class="paragraph">
<p>Теперь перейдите в учётную запись <strong>root</strong> и перенесите созданный образ
к остальным файлам с образами начальной загрузки:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong>$ exit</strong>
<strong># mv -f /tmp/.private/user/e2kv4.img /var/lib/tftpboot/</strong></code></pre>
</div>
</div>
<div class="paragraph">
<p>Где <code>/tmp/.private/user</code> – временный каталог, в котором создавался образ.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_aoe_загрузка_средствами_пнс_на_вк_эльбрус">3.4.6. AoE-загрузка средствами ПНС на ВК «Эльбрус»</h4>
<div class="paragraph">
<p>Соедините тестируемый ВК двумя разными сетями с <strong>сервером сетевой загрузки</strong>.
Через одну сетевую карту (<code>enp6s20</code> в примере) будет выполняться начальная
загрузка по протоколу <code>AoE</code>. Через другую сетевую карту (<code>enp6s19</code> в примере)
будет проходить весь остальной сетевой трафик, в основном, <code>HTTP</code>. На <strong>сервере
сетевой загрузки</strong> запустите <strong>vblade</strong> для раздачи специально подготовленного
образа начальной загрузки (<code>e2kv4.img</code> в данном примере):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># vblade -r 0 0 enp6s20 /var/lib/tftpboot/e2kv4.img</strong></code></pre>
</div>
</div>
<div class="paragraph">
<p>Где:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>0 0</code> – произвольный номер ATA-диска и блочного устройства <strong>AoE</strong>;</p>
</li>
<li>
<p><code>enp6s20</code> – сетевой интерфейс на сервере для начальной загрузки
по протоколу <strong>AoE</strong>, если используется две сетевые карты, а не одна,
иначе нужно поменять это имя на единственный сетевой интерфейс
(<code>enp6s19</code> в примере);</p>
</li>
<li>
<p><code>e2kv4.img</code> – файл с образом диска начальной загрузки, создаваемым
отдельно для каждого установочного ISO-образа с ОС Альт, в предыдущем
разделе описано, как его изготовить.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Если при подготовке образа диска начальной загрузки (см. предыдущий раздел)
в параметры загрузки были прописаны опции <code>vnc headless</code>, чтобы не сидеть
непосредственно за терминалом ВК «Эльбрус», то подключите к IP-сети (<code>enp6s19</code>
в примере) ещё один (третий) компьютер с графическим рабочим столом и включите
его. Он будет выступать в роли <strong>VNC-клиента</strong>, с него будет происходить
управление процессом установки ОС.</p>
</div>
<div class="paragraph">
<p>В качестве <strong>VNC-клиента</strong> мог бы выступать и <strong>сервер сетевой загрузки</strong>, если бы
он изначально разворачивался из профиля «<strong>Офисный сервер</strong>». Тогда можно было
бы обойтись двумя машинами в сети. На этом компьютере должен быть установлен
любой VNC-клиент из этого списка: <a href="https://www.altlinux.org/VNC#VNC-клиенты" class="bare">https://www.altlinux.org/VNC#VNC-клиенты</a>,
например, <strong>tigervnc</strong>. Здесь мы не приводим деталей с третьим компьютером
(<strong>VNC-клиентом</strong>) по причине ненадобности.</p>
</div>
<div class="paragraph">
<p>После включения ВК «Эльбрус» происходит инициализация ПНС. В процесс
инициализации можно вмешаться, изменив стандартный ход загрузки. Чтобы
увидеть процесс загрузки ПНС, чтобы управлять им, необходимо подключить
интерфейсный кабель <strong>RS-232</strong> или монитор, показывающий загрузку ПНС, и
дождаться появления такой надписи:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">Autoboot in XX sec. PRESS SPACE TO DISABLE IT.</code></pre>
</div>
</div>
<div class="paragraph">
<p>Увидев это сообщение, нажмите на <code><strong>пробел</strong></code>, после чего на экране появятся
следующие строки:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">Key pressed. Autoboot canceled.
CPU#00: Starting menu.

                BOOT SETUP
 Press command letter, or press 'h' to get help
:</code></pre>
</div>
</div>
<div class="paragraph">
<p>Можно запросить подсказку нажатием клавиши <code><strong>H</strong></code>, хотя наиболее
востребованными обычно оказываются следующие варианты:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code><strong>D</strong></code> — show Disks and partitions, показать диски и разделы</p>
</li>
<li>
<p><code><strong>C</strong></code> — Change boot parameters, изменить параметры загрузки</p>
</li>
<li>
<p><code><strong>U</strong></code> — show cUrrent parameters, показать текущие параметры</p>
</li>
<li>
<p><code><strong>M</strong></code> — save params to NVRAM, сохранить параметры в NVRAM</p>
</li>
<li>
<p><code><strong>B</strong></code> — start Boot.conf menu, запустить меню Boot.conf</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Нажмите клавишу <code><strong>D</strong></code>, чтобы увидеть диски и разделы, доступные для загрузки.
Среди прочих должен появиться сетевой диск <strong>AoE</strong>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">                BOOT SETUP
 Press command letter, or press 'h' to get help
: <code>d</code>
PARTITION INFO:
Drv[0]: IDE - PCI BUS[1]:DEV[2]:FUNC[0], MCST IDE Primary Master TS16 -
Unknown partition table
Drv[2]: SATA - PCI BUS[1]:DEV[3]:FUNC[0], MCST SATA COMBINED Port [0] -
KINGSTON SMS200S3120G
	Partition [0]: Linux EXT2;
				   U:246194e7-0512-4db3-a821-cbcbe3c92c38 L:""
	Partition [1]: Linux swap
	Partition [3]: Extended
	Partition [4]: Unknown file system type
Drv[10]: <code>AoE</code>  0.8  00:15:17:BD:97:29  Coraid EtherDrive vblade
	Partition [0]: Linux EXT2

                BOOT SETUP
 Press command letter, or press 'h' to get help
:</code></pre>
</div>
</div>
<div class="paragraph">
<p>В данном случае идентификатор «<strong>10</strong>» (<code>Drv[10]</code> или <code>Drive [10]</code> в
некоторых прошивках) присвоен раздаваемому <strong>сервером сетевой загрузки</strong>
диску для <strong>AoE</strong>-загрузки.</p>
</div>
<div class="paragraph">
<p>Нажмите клавишу <code><strong>C</strong></code> для изменения параметров загрузки, введите данный
идентификатор диска для <strong>AoE</strong>-загрузки в ответе на первый вопрос:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">: <code>c</code>

                CHANGE BOOT PARAMETERS

        Current Settings:
drive_number:      '2'
drive label:       ''
partition_number:  '0'
file system id:    '246194e7-0512-4db3-a821-cbcbe3c92c38'
command_string:    ''
filename:          ''
initrdfilename:    ''
autoboot in:       '2'

To advance to next setting press ENTER. To skip setting press ESC
Enter drive number    : <code>10</code>
Enter partition number: &lt; Skipped &gt;
Enter command string  : &lt; Skipped &gt;
Enter filename        : &lt; Skipped &gt;
Enter initrd file name: &lt; Skipped &gt;
Enter autoboot value  : &lt; Skipped &gt;

        Current Settings:
drive_number:      '10'
drive label:       ''
partition_number:  '0'
file system id:    ''
command_string:    ''
filename:          ''
initrdfilename:    ''
autoboot in:       '2'
CPU#00: Search drive and partition by label or uuid succeed</code></pre>
</div>
</div>
<div class="paragraph">
<p>Перейдите к началу загрузки последовательным нажатием клавиш <code><strong>B</strong></code>,
<code><strong>Tab</strong></code> и <code><strong>Enter</strong></code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">: <code>b</code>
boot#
CPU#00: Searching /boot.conf for default label 'auto'
CPU#00: Label 'auto' found, loading parameters

Image load/start try with parameters:
drive_number:      '10'
partition_number:  '0'
command_string:    'console=ttyS0,115200 console=tty0 hardreset fastboot
automatic=method:http,network:dhcp,server:192.168.15.1,directory:/img
lowmem ramdisk_size=401481 stagename=altinst tz=Europe/Moscow lang=ru_RU'
filename:          '<strong>/boot/vmlinuz</strong>'
initrdfilename:    '<strong>/boot/initrd.img</strong>'</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ожидается, что с этого момента начнётся процесс загрузки ядра ОС и initramfs,
после чего он продолжится уже через вторую сетевую карту по протоколу <code>HTTP</code>
(только в конфигурации с двумя сетевыми картами):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">CPU#00: Rd: File - '<strong>/boot/initrd.img</strong>', Drive - <code>10</code>, Partition - 0, Buffer - 0x2400000
Loaded: 44%</code></pre>
</div>
</div>
<div class="paragraph">
<p>Дождитесь загрузки первого шага установки ОС Альт (<strong>«Язык»</strong>). Для проверки
работы «мыши» щёлкните ЛКМ на кнопку «Далее» — установщик должен перейти
ко второму шагу. Нажмите на клавиатуре <code><strong>Ctrl+Alt+F4</strong></code> для переключения
в текстовый режим терминала, а затем <code><strong>Ctrl+Alt+Del</strong></code> — компьютер должен
уйти на перезагрузку.</p>
</div>
<div class="paragraph">
<p>Проверка сетевой загрузки на ВК «Эльбрус» считается успешно пройденной,
если при помощи указанных действий удалось дойти до второго шага установки
ОС Альт и перезагрузить компьютер.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
При проверке описываемых шагов мы обнаружили, что двухстадийная
загрузка успешно работает на «Эльбрусах» с единственной сетевой картой.
Но на «Эльбрусе 801» с тремя сетевыми картами для IP-трафика (HTTP, DHCP,
и т.д.) рабочим вариантом оказался только второй порт, причём его можно
использовать как в качестве единственного, так и в качестве основного,
для второй стадии загрузки. <strong>AoE</strong>-трафик «ходит» по любому из трёх портов.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Из-за некорректной инициализации сетевых адаптеров ВК «Эльбрус» может не
загрузиться по локальной сети. В таком случае его необходимо перезагрузить:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Если ОС запущена, нужно её перезагрузить стандартным завершением работы,
командой <strong>reboot</strong> в консоли, клавишами <code><strong>Ctrl+Alt+Del</strong></code> или специальной
комбинацией <code><strong>Alt+SysRq+B</strong></code>.</p>
</li>
<li>
<p>Если ОС вообще не грузится, нужно во время работы ПНС зайти в расширенный
диалог и выполнить команду <strong>reset</strong>, подключив интерфейсный кабель <strong>RS-232</strong>
или монитор, показывающий загрузку ПНС. После включения ВК дождитесь
появления надписи «<strong>Autoboot in XX sec, PRESS SPACE TO DISABLE IT</strong>»,
нажмите на <code><strong>пробел</strong></code> – должна появиться надпись: «<strong>BOOT SETUP Press
command letter, or press 'h' to get help</strong>». Кнопкой <code><strong>~</strong></code> (тильда)
войдите в расширенный режим и дайте команду <strong>reset</strong>.</p>
</li>
<li>
<p>Перезагрузку также можно выполнить «вслепую»: заранее засеките примерное
время от включения до появления таймера обратного отсчёта (из предыдущего
пункта) и начните периодически нажимать на <code><strong>пробел</strong></code>, а через некоторое
время нажмите <code><strong>~</strong></code> (тильду) и дайте команду <strong>reset</strong>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>См. также раздел <a href="#_рекомендации_при_возникновении_проблем">Рекомендации при возникновении проблем</a>.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_проверка_возможности_установки_ос"> 4. Проверка возможности установки ОС</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Установка ОС Альт производится с инсталляционного ISO-образа предпочтительным
способом, в том числе, исходя из результатов тестирования раздела
<a href="#_проверка_режимов_загрузки_системы">Проверка режимов загрузки системы</a>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#_загрузка_средствами_ipmi">Загрузка средствами IPMI</a> — на  сервере или СХД, при доступности IPMI;</p>
</li>
<li>
<p><a href="#_локальная_загрузка">Локальная загрузка</a> — в большинстве других случаев;</p>
</li>
<li>
<p><a href="#_сетевая_загрузка_на_других_платформах">Сетевая загрузка на других платформах</a> — при недоступности иных способов.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Если дистрибутив поставляется в виде <strong>архива rootfs</strong>, данную проверку
следует пропустить.</p>
</div>
<div class="paragraph">
<p>При одновременной доступности режимов загрузки <code>UEFI</code> и <code>Legacy/CSM</code> на
платформе <strong>x86_64</strong>, предпочтительным на новом оборудовании является режим
<code>UEFI</code>. Устанавливать ОС в режиме <code>UEFI</code> необходимо с включённым механизмом
защиты <code>SecureBoot</code>. Если c <code>SecureBoot</code> возникают ошибки, отключите его на
время установки, а после установки ОС нужно попробовать включить его обратно.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Не пытайтесь устанавливать ОС на диск размером более 2Тб в режиме
загрузки <code>Legacy/CSM</code> — для дисков такого размера поддерживается только
<code>UEFI</code>-загрузка!
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>При установке ОС необходимо выбрать ручной режим разметки с полной очисткой
диска и:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>создать раздел <code>EFI System</code> размером <strong>256Мб</strong> с точкой монтирования
<code>/boot/efi</code> (FAT32, только на компьютерах с <code>UEFI</code>-загрузкой);</p>
</li>
<li>
<p>создать раздел <code>BIOS Boot</code> (GRUB Partition) минимально доступного
размера <strong>1~8Мб</strong> без создания тома (только на <strong>Intel x86_64</strong> в режиме
загрузки <code>UEFI</code>);</p>
</li>
<li>
<p>создать раздел <code>PReP</code> минимально доступного размера <strong>1~8Мб</strong> без создания
тома (только на <strong>IBM Power / ppc64le</strong>);</p>
</li>
<li>
<p>создать раздел размером <strong>250Мб</strong> с точкой монтирования <code>/boot</code> (ext2,
только на ВК «Эльбрус»);</p>
</li>
<li>
<p>создать раздел <code>Linux SWAP</code> размером не менее, чем объём ОЗУ, а лучше
вдвое большего размера, для тестирования «спящего» режима, если он
поддерживается оборудованием;</p>
</li>
<li>
<p>всё остальное пространство диска можно использовать для установки ОС.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Установку ОС Альт необходимо проводить согласно документации:
<a href="https://docs.altlinux.org/" class="bare">https://docs.altlinux.org/</a> (см. главу <strong>Последовательность установки</strong>).
При этом не следует менять настройки по умолчанию, в частности, набор
устанавливаемого ПО определяется выбранным профилем установки, в
соответствии с целью тестирования (например, «<strong>Офисный сервер</strong>»
для сервера с поддержкой графического сеанса).</p>
</div>
<div class="paragraph">
<p>Если установка ОС Альт в режиме загрузки <code>UEFI</code> на <strong>x86_64</strong> или <strong>aarch64</strong>
прошла без ошибок, а после установки система не загружается, первым делом
проверьте, была ли создана и сохранена в <code>NVRAM</code> соответствующая загрузочная
запись <strong>altlinux</strong>. Ожидается, что она была создана, иначе внесите данную
ошибку в протокол и повторите установку с указанием в качестве места
установки загрузчика вместо «<strong>EFI (рекомендуемый)</strong>» — «<strong>EFI (с предварительной
очисткой NVRAM)</strong>», а если это не поможет, то «<strong>EFI (на съёмный носитель)</strong>».</p>
</div>
<div class="paragraph">
<p>Занесите вариант успеха в протокол тестирования. См. также раздел
<a href="#_рекомендации_при_возникновении_проблем">Рекомендации при возникновении проблем</a>.</p>
</div>
<div class="paragraph">
<p>Установка считается успешной, если во время инсталляции не возникло ошибок
и по окончанию процесса удаётся успешно осуществить вход в графический
сеанс пользователя, а при его отсутствии — в текстовую консоль.</p>
</div>
<div class="paragraph">
<p>Если установка выполнялась в режиме загрузки <code>UEFI</code> на <strong>Intel x86_64</strong>,
необходимо также разово проверить загрузку установленной ОС в режиме
<code>Legacy/CSM</code>, при его доступности, после чего обратно переключиться в режим
<code>UEFI</code>-загрузки и продолжить тестирование ОС. Для этого может потребоваться
разово получить права пользователя <strong>root</strong> в эмуляторе терминала и выполнить
установку загрузчика <strong>grub-pc</strong>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong>$ su -</strong>
<strong># grub-install --target=i386-pc --recheck</strong> <code>/dev/DISK</code></code></pre>
</div>
</div>
<div class="paragraph">
<p>Здесь <code>&lt;/dev/DISK&gt;</code> — устройство загрузочного диска компьютера. Найти
этот диск поможет команда <code>lsblk -f</code> — в колонке <strong>MOUNTPOINTS</strong> ищите <code>«/»</code>.</p>
</div>
<div class="paragraph">
<p>После установки загрузчика перезагрузите компьютер, войдите в <code>BIOS Setup</code>,
поменяйте режим загрузки на <code>Legacy/CSM</code>, сохраните настройки и перезагрузите
компьютер снова.</p>
</div>
<div class="paragraph">
<p>Ожидается, что компьютер успешно загрузится в режиме <code>Legacy/CSM</code>, а после
переключения режима загрузки обратно на <code>UEFI</code>, снова успешно загрузится в
этом режиме, что переключение режимов загрузки не уничтожит ранее созданной
инсталлятором в <code>NVRAM</code> загрузочной записи <strong>altlinux</strong>. Иначе занесите эту
ошибку в протокол тестирования и переустановите систему.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_обновление_ос_до_актуального_состояния"> 5. Обновление ОС до актуального состояния</h2>
<div class="sectionbody">
<div class="paragraph">
<p>После установки ОС (или после распаковки <strong>архива rootfs</strong> на целевой носитель)
необходимо привести ОС в актуальное состояние, то есть обновить установленные
пакеты и ядро. Обновление системы и ядра обязательно. Именно от ядра и его
модулей, в основном, зависит поддержка работы оборудования.</p>
</div>
<div class="paragraph">
<p>Для сертифицированных образов ОС Альт инструкция по обновлению может
поставляться в составе комплекта поставки (установочный диск и документация).</p>
</div>
<div class="paragraph">
<p>В остальных случаях выполните следующие шаги:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong>$ su -</strong>
<strong># apt-get update</strong>
<strong># apt-get dist-upgrade</strong>
<strong># update-kernel</strong>
<strong># reboot</strong>

<strong>$ su -</strong>
<strong># remove-old-kernels</strong>
<strong># apt-get autoremove</strong>
<strong># apt-get clean</strong></code></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Если в процессе тестирования планируется выполнить необязательную
проверку возможности обновления прошивки компонентов оборудования, то
лучше это сделать сразу после обновления ОС, до всех остальных проверок.
Если в процессе тестирования будет выявлена проблема, исправляемая только
обновлением прошивки, то после обновления прошивки компьютер придётся
протестировать заново!
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Обновление ОС считается успешным, если в процессе обновления не возникло
критических ошибок и по окончанию обновления с последующей перезагрузкой
удаётся успешно осуществить вход в графический сеанс пользователя, а при
его отсутствии — в текстовую консоль. Дальнейшее тестирование выполняется
только на корректно обновлённых системе и ядре.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_проверка_возможности_обновления_прошивки_компонентов_оборудования"> 6. Проверка возможности обновления прошивки компонентов оборудования</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Данное тестирование выполнять необязательно, оно выполняется только по
согласованию сторон и призвано выявить возможность обновления прошивки
материнской платы и другого оборудования средствами ОС Альт. Для выполнения
этого теста необходимо действующее подключение к сети Интернет.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Неудачное обновление прошивки может вывести из строя материнскую
плату или прошиваемое устройство! Нельзя выключать компьютер во время
обновления, он должен быть обеспечен бесперебойным питанием!
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Установите утилиту <code>fwupdmgr</code> для обновления прошивки:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong>$ su -</strong>
<strong># apt-get install fwupd</strong></code></pre>
</div>
</div>
<div class="paragraph">
<p>Выведите список устройств, для которых поддерживается обновление прошивки:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># fwupdmgr get-devices</strong></code></pre>
</div>
</div>
<div class="paragraph">
<p>Выведите список доступного ПО для обновления прошивки, на вопрос об
обновлении базы данных ответьте «y»:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># fwupdmgr get-updates</strong></code></pre>
</div>
</div>
<div class="paragraph">
<p>Ожидается, что будет выведен список оборудования, для которого имеется
возможность обновления прошивки. Или, если обновлений нет, будет выведено:
«<strong>Нет пригодных для обновления устройств</strong>». При наличии такого сообщения
нужно учитывать, есть ли в списке устройства, для которых поддерживается
обновление прошивки. Отсутствие поддерживаемых устройств является ошибкой,
тогда как отсутствие обновлений для них является нормой.</p>
</div>
<div class="paragraph">
<p>Обновите <strong>firmware</strong> (при наличии) в автоматическом режиме, на возникающие
вопросы ответьте «y»:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># fwupdmgr update</strong></code></pre>
</div>
</div>
<div class="paragraph">
<p>Дождитесь установки обновлений, не отключая питания, и перезагрузите систему.
Ожидается, что обновление прошло успешно, после перезагрузки ОС загрузилась
штатно без видимых сообщений об ошибках, что установлена последняя доступная
версия прошивки.</p>
</div>
<div class="paragraph">
<p>Результаты заносятся в протокол тестирования. В случае ошибок добавьте их
описание.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_проверка_и_сохранение_журналов"> 7. Проверка и сохранение журналов</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Сбор и проверка логов загрузки выполняется только после полного обновления и
успешного запуска ОС (см. раздел <a href="#_обновление_ос_до_актуального_состояния">Обновление ОС до актуального состояния</a>).</p>
</div>
<div class="paragraph">
<p>Все команды выполняются от пользователя <strong>root</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong>$ su -</strong>
(дефис обязателен)
ввести пароль пользователя root
#</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="_неинформативные_сообщения_ядра">7.1. Неинформативные сообщения ядра</h3>
<div class="paragraph">
<p>Иногда в логах ядра (<code>dmesg</code>) многократно повторяются сообщения <code>AER: Multiple
Corrected error received</code>, со временем забивая весь журнал не нужной информацией.
Эти сообщения возникают из-за попыток системной платы управлять питанием <strong>PCIE</strong>
устройств. Сначала необходимо избавиться от неинформативных сообщений ядра.
Для этого выполните следующую команду примерно через пять минут после загрузки
системы:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># dmesg | grep -c 'AER: Multiple Corrected error received'</strong>
10</code></pre>
</div>
</div>
<div class="paragraph">
<p>Если в выводе команды присутствует число больше 9, необходимо подобрать
такие параметры загрузки ядра, которые помогут избежать этих сообщений
в <code>dmesg</code>, из числа следующих
(<a href="https://www.altlinux.org/Grub#Где_отредактировать_параметры_ядра?" class="bare">https://www.altlinux.org/Grub#Где_отредактировать_параметры_ядра?</a>):</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>pcie_aspm=off</strong> — отключение энергосбережения PCIE;</p>
</li>
<li>
<p><strong>pci=nomsi</strong> — отключение использования прерываний MSI;</p>
</li>
<li>
<p><strong>pci=noaer</strong> — отключение расширенного отчёта об ошибках PCIE.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>После прописывания очередного параметра в <code>/etc/sysconfig/grub2</code> очистите
системный журнал, перезагрузите систему и повторите данную проверку с одним
из выше перечисленных параметров ядра.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># update-grub</strong>
<strong># systemctl stop systemd-journald</strong>
<strong># rm -rf /var/log/journal/* </strong>
<strong># reboot -f</strong></code></pre>
</div>
</div>
<div class="paragraph">
<p>При использовании корректирующих параметров ядра, их необходимо отразить
в протоколе тестирования.</p>
</div>
</div>
<div class="sect2">
<h3 id="_буфер_сообщений_ядра_dmesg">7.2. Буфер сообщений ядра (dmesg)</h3>
<div class="paragraph">
<p>Сохраните и приложите полный лог ядра:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># dmesg -H -P --color=always | gzip &gt; dmesg.gz</strong></code></pre>
</div>
</div>
<div class="paragraph">
<p>Сохраните и приложите сообщения ядра об ошибках:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># dmesg | grep -iE '(panic|fatal|fail|error|warning)' | gzip &gt; dmesg_err.gz</strong></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_ошибки_системных_служб">7.3. Ошибки системных служб</h3>
<div class="paragraph">
<p>Сохраните и приложите информацию об ошибках работы системных служб:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># systemctl --failed | gzip &gt; systemctl_err.gz</strong></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_системный_журнал">7.4. Системный журнал</h3>
<div class="paragraph">
<p>Сохраните и приложите системные сообщения последней загрузки:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># journalctl -b | gzip &gt; journal.gz</strong></code></pre>
</div>
</div>
<div class="paragraph">
<p>Сохраните и приложите ошибки последней загрузки:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># journalctl -p err -b | gzip &gt; journal_err.gz</strong></code></pre>
</div>
</div>
<div class="paragraph">
<p>Все полученные выше в результате запуска команд архивы необходимо приложить
к протоколу тестирования.</p>
</div>
</div>
<div class="sect2">
<h3 id="_просмотр_журналов_в_консоли">7.5. Просмотр журналов в консоли</h3>
<div class="paragraph">
<p>Постраничный просмотр журналов, сохранённых с ANSI-кодами управления терминалом:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong>$ gunzip &lt;dmesg.gz | less -r</strong></code></pre>
</div>
</div>
<div class="paragraph">
<p>Можно убрать ANSI-коды из вывода для дальнейшей обработки в текстовом формате:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong>$ alias ansi2txt="perl -pe 's/\e([^\[\]]|\[.<strong>?[a-zA-Z]|\].</strong>?\a)//g'"</strong>
<strong>$ gunzip &lt;dmesg.gz | ansi2txt | less</strong></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_информация_о_системе_и_оборудовании"> 8. Информация о системе и оборудовании</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_подготовка_к_сбору_информации">8.1. Подготовка к сбору информации</h3>
<div class="paragraph">
<p>Все команды выполняются от пользователя <strong>root</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong>$ su -</strong>
(дефис обязателен)
ввести пароль пользователя root
#</code></pre>
</div>
</div>
<div class="paragraph">
<p>Предварительно необходимо обновить индексы и установить пакеты:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># apt-get update</strong>
<strong># apt-get install inxi rfkill sos system-report acpica dmidecode smartmontools lsscsi</strong>
<strong># apt-get install glxinfo xrandr</strong> <code># только на ОС с графическим сеансом</code></code></pre>
</div>
</div>
<div class="paragraph">
<p>Все полученные ниже в результате запуска команд текстовые файлы и архивы
необходимо приложить к протоколу тестирования.</p>
</div>
</div>
<div class="sect2">
<h3 id="_сбор_информации_о_системе_и_оборудовании">8.2. Сбор информации о системе и оборудовании</h3>
<div class="sect3">
<h4 id="_с_помощью_inxi">8.2.1. С помощью inxi</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># inxi -v8 -c2 &gt; inxi.txt</strong></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Полученный файл приложите к протоколу тестирования</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_с_помощью_sosreport">8.2.2. С помощью sosreport</h4>
<div class="paragraph">
<p>Только при доступности рабочей версии утилиты для тестируемой платформы:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># sosreport</strong></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Полученный архив приложите к протоколу тестирования</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_с_помощью_system_report">8.2.3. С помощью system-report</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># system-report</strong></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Полученный архив приложите к протоколу тестирования</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_с_помощью_acpidump">8.2.4. С помощью acpidump</h4>
<div class="paragraph">
<p>Только при доступности этой утилиты для тестируемой платформы:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># acpidump &gt; acpi.dat</strong></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Полученный файл приложите к протоколу тестирования</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_с_помощью_lspci">8.2.5. С помощью lspci</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># lspci -nnk &gt; lspci.txt</strong></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Полученный файл приложите к протоколу тестирования</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_с_помощью_dmidecode">8.2.6. С помощью dmidecode</h4>
<div class="paragraph">
<p>Только при доступности этой утилиты для тестируемой платформы:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># dmidecode &gt; dmidecode.txt</strong></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Полученный файл приложите к протоколу тестирования</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_с_помощью_lsusb">8.2.7. С помощью lsusb</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># lsusb &gt; lsusb.txt</strong>
<strong># lsusb -t &gt; lsusb_hierarchy.txt</strong></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Полученные файлы приложите к протоколу тестирования</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_с_помощью_lscpu">8.2.8. С помощью lscpu</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># lscpu &gt; lscpu.txt</strong></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Полученный файл приложите к протоколу тестирования</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_с_помощью_lsblk">8.2.9. С помощью lsblk</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># lsblk -ft &gt; lsblk.txt</strong></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Полученный файл приложите к протоколу тестирования</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_с_помощью_lsscsi">8.2.10. С помощью lsscsi</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># lsscsi -v &gt; lsscsi.txt</strong></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Полученный файл приложите к протоколу тестирования</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_с_помощью_smartctl">8.2.11. С помощью smartctl</h4>
<div class="paragraph">
<p>Сохраните информацию <code>S.M.A.R.T.</code> для всех доступных дисковых накопителей
(<strong>sdX</strong> заменяется на нужный диск, смотрите вывод <code>lsblk</code>, например sda,
sdb, nvme0n1, c0d0 и т.п.).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># smartctl -a /dev/<code>sdX</code> &gt; smartctl_sdX.txt</strong></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Полученные файлы приложите к протоколу тестирования</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_с_помощью_rfkill">8.2.12. С помощью rfkill</h4>
<div class="paragraph">
<p>Информация о состоянии программных и аппаратных выключателей беспроводных
устройств в системе, при их наличии:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># rfkill --output-all &gt; rfkill.txt</strong></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Полученный файл приложите к протоколу тестирования</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_с_помощью_uname">8.2.13. С помощью uname</h4>
<div class="ulist">
<ul>
<li>
<p>Версию ядра из вывода команды <code>uname -a</code> занесите на титульный лист протокола</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_с_помощью_xrandr">8.2.14. С помощью xrandr</h4>
<div class="paragraph">
<p>Информация о режимах работы мониторов, при наличии видеокарты и
графического сеанса:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># xrandr &gt; xrandr.txt</strong></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Полученный файл приложите к протоколу тестирования</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_только_на_вк_эльбрус">8.2.15. Только на ВК «Эльбрус»</h4>
<div class="paragraph">
<p>При работе с инженерным образцом ВК «Эльбрус» необходимо получить и сохранить
информацию о целостности кэша конкретного экземпляра:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># grep cache /proc/bootdata &gt; e2k_cache.txt</strong></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Полученный файл приложите к протоколу тестирования</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_сравнение_конфигурации_со_спецификацией_оборудования">8.3. Сравнение конфигурации со спецификацией оборудования</h3>
<div class="paragraph">
<p>Наименование оборудования, его характеристики в спецификации и в тестируемом
оборудовании должны совпадать. Информацию об этом вместе с выводом команд
следует отразить в результирующем протоколе тестирования. Размеры оперативной
памяти и дисковой подсистемы могут быть немного меньше указанной в спецификации.</p>
</div>
<div class="sect3">
<h4 id="_проверка_cpu_и_материнской_платы">8.3.1. Проверка CPU и материнской платы</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># inxi -CM</strong></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_проверка_оперативной_памяти">8.3.2. Проверка оперативной памяти</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># inxi -m</strong></code></pre>
</div>
</div>
<div class="paragraph">
<p>В поле <strong>total</strong> в данном случае показывается немного меньше реального размера.</p>
</div>
<div class="paragraph">
<p>Также можно проверить при помощи утилиты <code>dmidecode</code>, если она доступна:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># dmidecode --type 19</strong></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_проверка_дисковой_подсистемы">8.3.3. Проверка дисковой подсистемы</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># inxi -D</strong></code></pre>
</div>
</div>
<div class="paragraph">
<p>Реальный размер при этом показывается чуть меньше заявленной в спецификации.</p>
</div>
</div>
<div class="sect3">
<h4 id="_проверка_подсистемы_вывода_изображения">8.3.4. Проверка подсистемы вывода изображения</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># inxi -G</strong></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_проверка_наличия_3d_ускорения">8.3.5. Проверка наличия 3D-ускорения</h4>
<div class="paragraph">
<p>Выполните команду из графического сеанса обычного пользователя:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong>$ glxinfo | grep 'direct rendering'</strong>
direct rendering: <code><strong>Yes</strong></code></code></pre>
</div>
</div>
<div class="paragraph">
<p>Значение <strong>Yes</strong> в выводе означает, что 3D-ускорение работает.</p>
</div>
</div>
<div class="sect3">
<h4 id="_проверка_возможностей_привода_cddvdblu_ray">8.3.6. Проверка возможностей привода CD/DVD/Blu-ray</h4>
<div class="paragraph">
<p>Получите информацию о возможностях привода, при его наличии:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong>$ cat /proc/sys/dev/cdrom/info</strong>
CD-ROM information, Id: cdrom.c 3.20 2003/12/17

drive name:             sr0
drive speed:            125
drive # of slots:       1
Can close tray:         1
Can open tray:          1
Can lock tray:          1
Can change speed:       1
Can select disk:        0
Can read multisession:  1
Can read MCN:           1
Reports media changed:  1
Can play audio:         1
Can write CD-R:         1
Can write CD-RW:        1
Can read DVD:           1
Can write DVD-R:        1
Can write DVD-RAM:      0
Can read MRW:           1
Can write MRW:          1
Can write RAM:          1</code></pre>
</div>
</div>
<div class="paragraph">
<p>Сравните полученные данные со спецификацией привода и занесите в протокол.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_экспресс_тест_основных_компонентов"> 9. Экспресс-тест основных компонентов</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Данный способ тестирования позволяет проверить основные компоненты оборудования
путём проигрывания видео со звуком из сети. Также в тестирование входят
процессы загрузки ОС, выключения компьютера, применения «спящего» и
«ждущего» режимов ОС.</p>
</div>
<div class="paragraph">
<p>Такое тестирование позволяет получить общее представление о работоспособности
устройств в варианте повседневного использования и пропустить более сложные
тесты оборудования, уже проверенного быстрым способом. При этом проверяются:
подсистема видео, сетевые устройства, звуковая подсистема и некоторые режимы
работы ACPI.</p>
</div>
<div class="paragraph">
<p><strong>Данное тестирование проводится, только когда</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>в дистрибутиве присутствует графический сеанс;</p>
</li>
<li>
<p>в компьютере присутствует сетевой интерфейс;</p>
</li>
<li>
<p>есть возможность подключения к сети Интернет;</p>
</li>
<li>
<p>присутствует или есть возможность подключить монитор;</p>
</li>
<li>
<p>присутствует или есть возможность подключить клавиатуру;</p>
</li>
<li>
<p>присутствует или есть возможность подключить «мышь» (тачпад);</p>
</li>
<li>
<p>присутствует или есть возможность подключить устройство воспроизведения
звука.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>При проведении данного тестирования партнёром самостоятельно без встречной
проверки со стороны ООО «Базальт СПО» необходима видеофиксация всего процесса
тестирования. С параметрами видеофиксации можно ознакомиться в разделе
<a href="#_видеофиксация_процесса_тестирования">Видеофиксация процесса тестирования</a>.</p>
</div>
<div class="paragraph">
<p><strong>В процессе тестирования необходимо</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>показать (на видео) модель проверяемого компьютера крупным планом;</p>
</li>
<li>
<p>показать интерфейс подключения монитора, если используется, например, <code>HDMI</code>;</p>
</li>
<li>
<p>включить компьютер, дождаться окончания загрузки и войти в графический сеанс;</p>
</li>
<li>
<p>показать действующее разрешение экрана: при этом необходимо установить
максимально возможное разрешение для устройства вывода видеоизображения;</p>
</li>
<li>
<p>запустить любой браузер: обычно уже предустановлен Firefox или Chromium;</p>
</li>
<li>
<p>запустить в браузере любое доступное видео со звуком из сети в разрешении
FullHD (1920×1080 точек) или больше, в зависимости от разрешения монитора;</p>
</li>
<li>
<p>развернуть воспроизведение видео на полный экран: для определения
корректности видео должно воспроизводиться несколько десятков секунд;</p>
</li>
<li>
<p>изменить регулировку громкости звука до ~75%, через 10 секунд до ~25%;</p>
</li>
<li>
<p>выйти из полноэкранного воспроизведения и, не останавливая видео,
переключиться в «спящий» режим;</p>
</li>
<li>
<p>вывести компьютер из «спящего» режима и, после возвращения в сеанс
пользователя, который должен сохраниться, запустить снова воспроизведение
видео, если оно не запустилось автоматически, а также убедиться, что
восстановилось сетевое подключение;</p>
</li>
<li>
<p>изменить регулировку громкости звука до 100%, через 10 секунд до ~50%;</p>
</li>
<li>
<p>не останавливая воспроизведение видео, переключиться в «ждущий» режим;</p>
</li>
<li>
<p>вывести компьютер из «ждущего» режима и, после возвращения в сеанс
пользователя, который должен сохраниться, запустить снова воспроизведение
видео, если оно не запустилось автоматически, а также убедиться, что
восстановилось сетевое подключение;</p>
</li>
<li>
<p>изменить регулировку громкости звука до ~75%, через 10 секунд до ~25%;</p>
</li>
<li>
<p>закрыть все программы и выключить компьютер.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Тестирование выполняется с подключением к сети Интернет через любой проводной
сетевой интерфейс (Ethernet), а затем любой беспроводной (Wi-Fi), при наличии.
Также к описанным выше действиям можно добавить проверку дополнительных видео
и аудио портов, при наличии такой возможности. Это позволит сократить время
при дальнейшем тестировании.</p>
</div>
<div class="paragraph">
<p><strong>Ожидаемый результат экспресс-теста</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>оборудование корректно включается и загружается ОС;</p>
</li>
<li>
<p>видео воспроизводится плавно без рывков в полноэкранном режиме;</p>
</li>
<li>
<p>видео воспроизводится со звуком, при этом громкость корректно регулируется;</p>
</li>
<li>
<p>оборудование корректно переключается в «спящий» режим, корректно из него
выходит и продолжается работа в запущенных ранее программах;</p>
</li>
<li>
<p>оборудование корректно переключается в «ждущий» режим, корректно из него
выходит и продолжается работа в запущенных ранее программах;</p>
</li>
<li>
<p>оборудование корректно выключается.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Результаты заносятся в протокол тестирования. При наличии ошибок добавьте
в протокол их описание.</p>
</div>
<div class="paragraph">
<p>См. также:
<a href="https://disk.yandex.ru/i/E8n-wrpm3yah-A">пример видеозаписи экспресс-теста</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_проверка_отдельных_компонентов"> 10. Проверка отдельных компонентов</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_проверка_cpu_под_нагрузкой">10.1. Проверка CPU под нагрузкой</h3>
<div class="paragraph">
<p>Данный тест позволяет определить стабильность работы CPU при максимальной
нагрузке.</p>
</div>
<div class="paragraph">
<p>Установите пакет <code>stress-ng</code> и <code>cpupower</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong>$ su -</strong>
<strong># apt-get install stress-ng cpupower</strong></code></pre>
</div>
</div>
<div class="paragraph">
<p>Зафиксируйте текущие частоты (<code>Freq</code>) ядер CPU:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># cpupower monitor</strong></code></pre>
</div>
</div>
<div class="paragraph">
<p>Определите количество ядер CPU:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># LANG=en_EN lscpu | sed -n -E "s/^CPU\(s\):\s+(.*)$/\1/p"</strong>
4

или:

<strong># grep -c -E '^processor\s' /proc/cpuinfo</strong>
4</code></pre>
</div>
</div>
<div class="paragraph">
<p>Запустите на 60 секунд стресс-тест CPU:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># stress-ng --cpu N --cpu-method matrixprod --metrics --timeout 60</strong></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Где <code>--cpu N</code> — количество ядер CPU.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Во время выполнения стресс-теста зафиксируйте текущие частоты (<code>Freq</code>) ядер
CPU, запустив утилиту <code>cpupower</code> в отдельном окне терминала:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># cpupower monitor</strong></code></pre>
</div>
</div>
<div class="paragraph">
<p>Для некоторых платформ команда может не показывать значения, отличные от нуля.
В этом случае рабочие частоты CPU в KHz можно посмотреть одной из следующих
команд:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># cat /sys/devices/system/cpu/cpu*/cpufreq/cpuinfo_cur_freq</strong>
<strong># cat /sys/devices/system/cpu/cpu*/cpufreq/scaling_cur_freq</strong></code></pre>
</div>
</div>
<div class="paragraph">
<p>См. также: <a href="https://www.kernel.org/doc/Documentation/cpu-freq/user-guide.txt" class="bare">https://www.kernel.org/doc/Documentation/cpu-freq/user-guide.txt</a></p>
</div>
<div class="paragraph">
<p>Используя команду <code>dmesg</code>, убедитесь, что в буфере сообщений ядра не появилось
новых ошибок и предупреждений. Ожидаемый результат тестирования: без нагрузки
частота ядер должна быть минимальна; во время нагрузки частота ядер должна
подниматься до максимальных значений. В <code>dmesg</code> не должно попасть сообщений
негативного характера.</p>
</div>
<div class="paragraph">
<p>Результаты заносятся в протокол тестирования. В случае ошибок добавьте их
описание.</p>
</div>
</div>
<div class="sect2">
<h3 id="_проверка_сетевой_подсистемы">10.2. Проверка сетевой подсистемы</h3>
<div class="sect3">
<h4 id="_проверка_ethernet_при_наличии">10.2.1. Проверка Ethernet (при наличии)</h4>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Если экспресс-тест прошёл успешно, при этом был задействован
интерфейс <strong>Ethernet</strong>, данное тестирование следует пропустить.
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Настройте интерфейс <strong>Ethernet</strong> на автоматическое получение сетевых настроек,
согласно документации, в консоли: <a href="https://www.altlinux.org/Etcnet" class="bare">https://www.altlinux.org/Etcnet</a> либо
в графическом сеансе: <a href="https://www.altlinux.org/Alterator-net-eth" class="bare">https://www.altlinux.org/Alterator-net-eth</a></p>
</li>
<li>
<p>Подключите кабель <strong>Ethernet</strong> к соответствующему разъёму тестируемого
оборудования.</p>
<div class="ulist">
<ul>
<li>
<p>В графическом сеансе должно появиться уведомление <strong>«Соединение установлено»</strong>.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>В терминале посмотрите полученный IP-адрес:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong>$ ip a</strong></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>IP-адрес должен быть получен.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Проверьте работу сети:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong>$ ping -c 3 www.ya.ru</strong></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Процент потерянных пакетов должен быть <strong>0</strong>.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">0% packet loss</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_проверка_wi_fi_при_наличии">10.2.2. Проверка Wi-Fi (при наличии)</h4>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Если экспресс-тест прошёл успешно, при этом был задействован
беспроводной интерфейс (<strong>Wi-Fi</strong>), данное тестирование следует пропустить.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Проверяемый компьютер должен находиться в радиусе действия беспроводной сети.
В дистрибутиве должен быть доступен графический сеанс, иначе тестирование
следует пропустить.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Войдите в систему под обычным пользователем.</p>
</li>
<li>
<p>Нажмите на значок <strong>Wi-Fi</strong> в трее &gt; <strong>Выбрать беспроводную сеть</strong> &gt; <strong>Ввести
пароль</strong> &gt; <strong>Enter</strong></p>
<div class="ulist">
<ul>
<li>
<p>Выбранная сеть <strong>Wi-Fi</strong> должна подключиться, должно появиться
уведомление <strong>«Соединение установлено»</strong>.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>В терминале посмотрите полученный IP-адрес:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong>$ ip a</strong></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>IP-адрес должен быть получен.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Проверьте работу сети:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong>$ ping -c 3 www.ya.ru</strong></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Процент потерянных пакетов должен быть <strong>0</strong>.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">0% packet loss</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_проверка_infinibandrdma_при_наличии">10.2.3. Проверка Infiniband/RDMA (при наличии)</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Установите следующие пакеты:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong>$ su -</strong>
<strong># apt-get install libibverbs-utils</strong></code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Загрузите следующие модули ядра:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># modprobe ib_ipoib rdma_ucm ib_uverbs ib_umad rdma_cm ib_cm ib_mad iw_cm</strong></code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Убедитесь, что устройство видно в ОС:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># ibv_devices</strong>
   device                 node GUID
   ------              ----------------
   mlx4_0              248a07030069dfa0</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Ожидается вывод информации об устройстве.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Результаты заносятся в протокол тестирования. В случае ошибок добавьте их
описание в протокол.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="_проверка_производительности_сетевых_интерфейсов">10.2.4. Проверка производительности сетевых интерфейсов</h4>
<div class="paragraph">
<p>Тестирование производительности сетевой подсистемы осуществляется путём
измерения скорости передачи данных между двумя узлами сети. Выполняется
для всех имеющихся сетевых интерфейсов. Для выполнения данного теста важно
обеспечить условия, позволяющие показать максимально возможную скорость.
Например, точка доступа не должна использоваться для других задач, не
должно быть помех на выбранной частоте. Оба узла должны находиться в
одном локальном сегменте (L2-домене). На обоих узлах необходимо установить
утилиту <code>iperf3</code>, которая будет измерять реальную скорость интерфейса:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong>$ su -</strong>
<strong># apt-get install iperf3</strong></code></pre>
</div>
</div>
<div class="paragraph">
<p>На одном узле запустите утилиту <code>iperf3</code> в режиме сервера:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># iperf3 -s</strong></code></pre>
</div>
</div>
<div class="paragraph">
<p>На тестируемом оборудовании запустите утилиту <code>iperf3</code> в режиме клиента и
измерьте скорость передачи данных до сервера с IP-адресом <code>&lt;SERVER_IP&gt;</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># iperf3 -i 5 -t 60 -c</strong> <code><strong>&lt;SERVER_IP&gt;</strong></code></code></pre>
</div>
</div>
<div class="paragraph">
<p>Пример вывода замера скорости:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># iperf3 -i 5 -t 60 -c 10.33.33.235</strong>
Connecting to host 10.33.33.235, port 5201
[  5] local 10.123.123.2 port 49808 connected to 10.33.33.235 port 5201
[ ID] Interval           Transfer     Bitrate         Retr  Cwnd
[  5]   0.00-5.00   sec   568 MBytes   953 Mbits/sec    0    468 KBytes
[  5]   5.00-10.00  sec   568 MBytes   952 Mbits/sec    0   1.08 MBytes
[  5]  10.00-15.00  sec   565 MBytes   948 Mbits/sec    0   1.13 MBytes
...
[  5]  50.00-55.00  sec   565 MBytes   948 Mbits/sec    0   1.13 MBytes
[  5]  55.00-60.00  sec   566 MBytes   950 Mbits/sec    0   1.13 MBytes
- - - - - - - - - - - - - - - - - - - - - - - - -
[ ID] Interval           Transfer     Bitrate         Retr
[  5]   0.00-60.00  sec  6.63 GBytes   <code><strong>950 Mbits/sec</strong></code>    0    sender
[  5]   0.00-60.01  sec  6.63 GBytes   <code><strong>949 Mbits/sec</strong></code>       receiver

iperf Done.</code></pre>
</div>
</div>
<div class="paragraph">
<p>Полученная скорость (~950 Mbps в примере) должна приближаться к заявленной
в спецификации оборудования, например, 1 Gbps (1000 Mbps).</p>
</div>
<div class="paragraph">
<p>Результаты заносятся в протокол тестирования. В случае ошибок добавьте их
описание.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_проверка_видеоподсистемы">10.3. Проверка видеоподсистемы</h3>
<div class="sect3">
<h4 id="_проверка_режимов_работы_видеокарты">10.3.1. Проверка режимов работы видеокарты</h4>
<div class="paragraph">
<p>Проводится в системе с поддержкой графического сеанса при наличии монитора
или возможности его подключения. Необходимо проверить работу видеокарты с
заявленными в спецификации режимами, изменяя разрешение в настройках:<br>
<strong>Меню &gt; Параметры &gt; Экраны &gt; Разрешение &gt; Применить</strong><br>
или:<br>
<strong>Система &gt; Параметры &gt; Оборудование &gt; Экраны &gt; Разрешение &gt; Применить</strong>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>система должна корректно работать во всех режимах, согласно спецификации;</p>
</li>
<li>
<p>внесите протестированный список видеорежимов в протокол тестирования.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_проверка_датчика_автоматического_поворота_экрана_при_наличии">10.3.2. Проверка датчика автоматического поворота экрана (при наличии)</h4>
<div class="paragraph">
<p>Переверните устройство в вертикальное/горизонтальное положение.
Ориентация экрана должна меняться автоматически, в соответствии
с положением устройства.</p>
</div>
</div>
<div class="sect3">
<h4 id="_проверка_vga_при_наличии">10.3.3. Проверка VGA (при наличии)</h4>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Если экспресс-тест прошёл успешно, при этом был задействован
порт <strong>VGA</strong>, данное тестирование следует пропустить.
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p>Подключите к оборудованию монитор с разрешением FullHD (VGA).</p>
<div class="ulist">
<ul>
<li>
<p>Изображение должно корректно передаваться на монитор.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_проверка_hdmi_при_наличии">10.3.4. Проверка HDMI (при наличии)</h4>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Если экспресс-тест прошёл успешно, при этом был задействован
порт <strong>HDMI</strong>, данное тестирование следует пропустить.
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p>Подключите к оборудованию монитор с разрешением FullHD (HDMI).</p>
<div class="ulist">
<ul>
<li>
<p>Изображение должно корректно передаваться на монитор.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Подключите к оборудованию монитор с разрешением 4K (HDMI 1.4+), при наличии.</p>
<div class="ulist">
<ul>
<li>
<p>Изображение должно корректно передаваться на монитор.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_проверка_displayport_при_наличии">10.3.5. Проверка DisplayPort (при наличии)</h4>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Если экспресс-тест прошёл успешно, при этом был задействован
<strong>DisplayPort</strong>, данное тестирование следует пропустить.
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p>Подключите к оборудованию монитор с разрешением FullHD (DisplayPort).</p>
<div class="ulist">
<ul>
<li>
<p>Изображение должно корректно передаваться на монитор.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Подключите к оборудованию монитор с разрешением 4K (DisplayPort 1.2+).</p>
<div class="ulist">
<ul>
<li>
<p>Изображение должно корректно передаваться на монитор.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_проверка_thunderbolt_при_наличии">10.3.6. Проверка Thunderbolt (при наличии)</h4>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Если экспресс-тест прошёл успешно, при этом был задействован
порт <strong>Thunderbolt</strong>, данное тестирование следует пропустить.
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p>Подключите к оборудованию монитор с разрешением FullHD или выше
(Thunderbolt).</p>
<div class="ulist">
<ul>
<li>
<p>Изображение должно корректно передаваться на монитор.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_проверка_работы_двух_подключенных_мониторов">10.3.7. Проверка работы двух подключенных мониторов</h4>
<div class="paragraph">
<p>Тестирование выполняется при доступности двух и более видеовыходов,
а также при наличии графического сеанса в дистрибутиве.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Подключите к оборудованию одновременно два монитора с одинаковым
видеоразрешением.</p>
</li>
<li>
<p>В <strong>Меню &gt; Параметры &gt; Экраны</strong> выберите <strong>Одинаковые изображения на всех
мониторах</strong>, нажмите <strong>Применить</strong>.</p>
<div class="ulist">
<ul>
<li>
<p>На оба монитора должно выводиться одинаковое изображение.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_проверка_работы_трёх_подключенных_мониторов">10.3.8. Проверка работы трёх подключенных мониторов</h4>
<div class="paragraph">
<p>Тестирование выполняется при доступности трёх и более видеовыходов,
а также при наличии графического сеанса в дистрибутиве.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Подключите к оборудованию три монитора.</p>
<div class="ulist">
<ul>
<li>
<p>Изображение должно корректно выводится на все подключенные мониторы.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect2">
<h3 id="_проверка_звуковой_подсистемы">10.4. Проверка звуковой подсистемы</h3>
<div class="paragraph">
<p>Проводится в системе с поддержкой графического сеанса при наличии монитора
или возможности его подключения.</p>
</div>
<div class="sect3">
<h4 id="_проверка_встроенного_аудио_при_наличии">10.4.1. Проверка встроенного аудио (при наличии)</h4>
<div class="sect4">
<h5 id="_проверка_состояния_регулятора_громкости">10.4.1.1. Проверка состояния регулятора громкости</h5>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Если экспресс-тест прошёл успешно, данное тестирование следует
пропустить.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Проверьте состояние регулятора громкости и занесите начальное состояние в
протокол (регулятор включен или выключен, звук есть или его нет, примерный
уровень громкости по регулятору). Если изначально звук выключен, запустите
в терминале <strong>alsamixer</strong> и добейтесь его включения.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>KDE</code>/<code>XFCE</code>: Значок громкости не должен быть перечёркнут.</p>
</li>
<li>
<p><code>MATE</code>: Флаг <strong>MUTE</strong> должен быть неактивен (рядом со значком <strong>Громкость</strong>
отсутствует <strong>«крестик»</strong>).</p>
</li>
<li>
<p>Ползунок регулятора громкости должен находится в положении от ~50% до ~100%.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_проверка_воспроизведения_звука_через_терминал">10.4.1.2. Проверка воспроизведения звука через терминал</h5>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Если экспресс-тест прошёл успешно, данное тестирование следует
пропустить.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Выполните команду:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong>$ speaker-test -c5 -twav</strong></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Звук должен воспроизводиться корректно.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>После выполнения проверок завершите воспроизведение аудиофайла комбинацией
клавиш <code>Сtrl+C</code>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_проверка_изменения_громкости_в_графическом_режиме">10.4.1.3. Проверка изменения громкости в графическом режиме</h5>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Если экспресс-тест прошёл успешно, данное тестирование следует
пропустить.
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p><code>KDE</code>/<code>XFCE</code>:
На панели задач нажмите на значок <strong>Громкость</strong>. Около текущего устройства
звука подвигайте ползунок громкости.</p>
</li>
<li>
<p><code>MATE</code>:
На панели задач нажмите на значок <strong>Громкость</strong> &gt; <strong>Параметры звука</strong>.
В открывшемся окне подвигайте ползунок громкости звука.</p>
<div class="ulist">
<ul>
<li>
<p>Громкость звука должна меняться, индикация на экране (OSD) должна
соответствовать выполняемому действию.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_проверка_выключения_звука_mute">10.4.1.4. Проверка выключения звука (mute)</h5>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Если экспресс-тест прошёл успешно, данное тестирование следует
пропустить.
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p><code>KDE</code>/<code>XFCE</code>:
На панели задач нажмите на значок <strong>Громкость</strong>, около текущего устройства
звука ещё раз нажмите на значок <strong>Громкость</strong>.</p>
<div class="ulist">
<ul>
<li>
<p>Звук не воспроизводится, индикация на экране (OSD) соответствует
выполняемому действию, значок <strong>Громкость</strong> отображается с «крестиком».</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>MATE</code>:
На панели задач нажмите ПКМ на значок <strong>Громкость</strong> &gt; в меню выберите
<strong>Приглушить</strong>.</p>
<div class="ulist">
<ul>
<li>
<p>Звук не воспроизводится, индикация на экране (OSD) соответствует
выполняемому действию, значок <strong>Громкость</strong> отображается перечёркнутым.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_проверка_включения_звука_unmute">10.4.1.5. Проверка включения звука (unmute)</h5>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Если экспресс-тест прошёл успешно, данное тестирование следует
пропустить.
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p><code>KDE</code>/<code>XFCE</code>:
На панели задач нажмите на значок <strong>Громкость</strong>, около текущего устройства
звука ещё раз нажмите на значок <strong>Громкость</strong>.</p>
<div class="ulist">
<ul>
<li>
<p>Звук воспроизводится корректно, индикация на экране (OSD) соответствует
выполняемому действию, значок <strong>Громкость</strong> перестаёт быть перечёркнутым.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>MATE</code>:
На панели задач нажмите ПКМ на значок <strong>Громкость</strong> &gt; в меню выберите
<strong>Включить звук</strong>.</p>
<div class="ulist">
<ul>
<li>
<p>Звук воспроизводится корректно, индикация на экране (OSD) соответствует
выполняемому действию, <strong>«крестик»</strong> пропадает со значка <strong>Громкость</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_проверка_функциональных_клавиш_изменения_громкости_при_наличии">10.4.1.6. Проверка функциональных клавиш изменения громкости (при наличии)</h5>
<div class="ulist">
<ul>
<li>
<p>Выключить/Включить звук с помощью клавиш или комбинации клавиш.</p>
</li>
<li>
<p>Увеличить/Уменьшить громкость звука с помощью клавиш или комбинации клавиш.</p>
<div class="ulist">
<ul>
<li>
<p>Выключение звука с помощью клавиш успешно.</p>
</li>
<li>
<p>Изменение громкости с помощью клавиш успешно.</p>
</li>
<li>
<p>Выполняемые действия корректно отражаются на экране (OSD).</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_проверка_встроенного_микрофона_при_наличии">10.4.2. Проверка встроенного микрофона (при наличии)</h4>
<div class="sect4">
<h5 id="_проверка_записи_и_воспроизведения_звука_в_терминале">10.4.2.1. Проверка записи и воспроизведения звука в терминале</h5>
<div class="paragraph">
<p>Запустите в терминале команду записи звука в файл:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong>$ arecord -d 10 -t wav &gt; x.wav</strong></code></pre>
</div>
</div>
<div class="paragraph">
<p>Произнесите любой текст в микрофон. Остановите запись <code><strong>Ctrl+С</strong></code>.</p>
</div>
<div class="paragraph">
<p>Запустите в терминале воспроизведение записанного файла:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong>$ aplay x.wav</strong></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Записанный текст должен корректно воспроизвестись.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_проверка_записи_и_воспроизведения_звука_в_приложении_для_записи_звука">10.4.2.2. Проверка записи и воспроизведения звука в приложении для записи звука</h5>
<div class="paragraph">
<p>Тест проводится в графическом сеансе только при наличии веб-камеры.
Если у камеры имеется шторка/задвижка, она должна быть открыта.</p>
</div>
<div class="paragraph">
<p><code>Workstation K</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Откройте приложение <strong>Kamoso</strong>.</p>
</li>
<li>
<p>Нажмите на кнопку <strong>Записать видео</strong>, скажите что-нибудь в микрофон,
остановите запись;</p>
</li>
<li>
<p>Запустите сохранённую видеозапись на воспроизведение.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>Education</code>/<code>Workstation</code>/<code>Simply</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Откройте приложение <strong>Cheese</strong> (<strong>Фотовидеобудка</strong>). При необходимости,
установите его:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># apt-get update</strong>
<strong># apt-get install cheese</strong></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Выберите <strong>Видео</strong>.</p>
</li>
<li>
<p>Нажмите на кнопку <strong>Начать запись</strong> (кнопка со значком вэб-камеры), скажите
что-нибудь в микрофон, остановите запись.</p>
</li>
<li>
<p>В приложении <strong>Cheese</strong> (<strong>Фотовидеобудка</strong>) запустите сохранённую видеозапись,
она станет доступна в том же окне.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>Server</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Откройте приложение <strong>VLC</strong>, установите его, при необходимости:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># apt-get update</strong>
<strong># apt-get install vlc</strong></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>В меню выберите <strong>Вид &gt; Дополнительные элементы управления</strong>.</p>
</li>
<li>
<p>В меню выберите <strong>Медиа &gt; Открыть устройство захвата</strong>.</p>
</li>
<li>
<p>На вкладке выберите режим захвата <strong>Video camera</strong>, укажите аудио
и видеоустройства, далее нажмите <strong>Воспроизвести &gt; Конвертировать</strong>.</p>
</li>
<li>
<p>В открывшемся окне выберите опцию <strong>Преобразовать</strong>, выберите опцию
<strong>Проигрывать результат</strong> и укажите место сохранения в параметре
<strong>Конечный файл</strong>.</p>
</li>
<li>
<p>Нажмите кнопку <strong>Начать</strong>, скажите что-нибудь в микрофон.</p>
</li>
<li>
<p>Для остановки записи выберите меню <strong>Воспроизведение &gt; Стоп</strong>.</p>
</li>
<li>
<p>Воспроизведите полученное видео.</p>
<div class="ulist">
<ul>
<li>
<p>Видео со звуком должно успешно записываться и воспроизводиться.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_проверка_аудио_портов_при_наличии">10.4.3. Проверка аудио портов (при наличии)</h4>
<div class="sect4">
<h5 id="_проверка_записи_и_воспроизведения_звука_через_mini_jack3_5мм">10.4.3.1. Проверка записи и воспроизведения звука через mini-jack/3.5мм</h5>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Если экспресс-тест прошёл успешно, при этом был задействован
порт <strong>mini-jack</strong>, данное тестирование следует пропустить.
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p>Подключите к компьютеру гарнитуру в разъём <strong>mini-jack</strong>.</p>
</li>
<li>
<p>В случае, когда имеется несколько устройств записи звука, необходимо выбрать
источником <strong>mini-jack</strong>. Сделать это можно в <strong>Параметры звука</strong> (<strong>Настроить
звуковые устройства</strong>) &gt; <strong>Вход</strong> (<strong>Устройства записи</strong>) &gt; далее выбрать <strong>Headset
Microphone</strong> (<strong>Headphones Stereo Microphone</strong>).</p>
</li>
<li>
<p>Проведите проверку согласно подразделу
<a href="#_проверка_записи_и_воспроизведения_звука_в_терминале">Проверка записи и воспроизведения звука в терминале</a></p>
</li>
<li>
<p>Проведите проверку согласно подразделу
<a href="#_проверка_записи_и_воспроизведения_звука_в_приложении_для_записи_звука">Проверка записи и воспроизведения звука в приложении для записи звука</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_проверка_вывода_звука_через_порт_hdmidisplayportthunderbolt">10.4.3.2. Проверка вывода звука через порт HDMI/DisplayPort/Thunderbolt</h5>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Если экспресс-тест прошёл успешно, при этом был задействован тот
же порт <strong>HDMI</strong>, <strong>DisplayPort</strong> или <strong>Thunderbolt</strong>, данное тестирование следует
пропустить.
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p>Подключите к компьютеру монитор со встроенными динамиками через порт
<strong>HDMI</strong>, <strong>DisplayPort</strong> или <strong>Thunderbolt</strong>.</p>
</li>
<li>
<p>В <strong>Параметры звука</strong> (<strong>Настроить звуковые устройства</strong>) выберите
соответствующий видеовыход.</p>
</li>
<li>
<p>Проведите проверку согласно подразделу
<a href="#_проверка_воспроизведения_звука_через_терминал">Проверка воспроизведения звука через терминал</a></p>
</li>
<li>
<p>Проведите проверку согласно подразделу
<a href="#_проверка_изменения_громкости_в_графическом_режиме">Проверка изменения громкости в графическом режиме</a></p>
</li>
<li>
<p>Проведите проверку согласно подразделу
<a href="#_проверка_выключения_звука_mute">Проверка выключения звука (mute)</a></p>
</li>
<li>
<p>Проведите проверку согласно подразделу
<a href="#_проверка_включения_звука_unmute">Проверка включения звука (unmute)</a></p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_host_адаптеры_и_raid_контроллеры">10.5. Host-адаптеры и RAID-контроллеры</h3>
<div class="paragraph">
<p>Если в составе оборудования присутствуют контроллеры с интерфейсом <code>SATA</code>,
<code>SAS</code>, <code>SCSI</code> или <code>FC</code>, необходимо подключить к ним физические диски с
соответствующим интерфейсом либо сформировать единое блочное устройство,
используя внешнюю СХД. Для формирования <code>LUN</code> и массива <code>RAID</code> обратитесь
к документации соответствующих контроллеров или СХД.</p>
</div>
<div class="paragraph">
<p>Для тестирования доступности блочных устройств в ОС Альт:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>аппаратными средствами контроллера или СХД создайте <code>RAID</code>-массив
поддерживаемого уровня (<code>raid0</code>, <code>raid1</code>, <code>raid5</code>, <code>raid10</code>, и т.п.);</p>
</li>
<li>
<p>при наличии соответствующего требования в документации СХД, сформируйте
на базе <code>RAID</code> массива <code>LUN</code>-устройство необходимого размера;</p>
</li>
<li>
<p>загрузитесь с установочного носителя и начните процесс установки ОС Альт
(более подробно процесс установки описан в разделе
<a href="#_проверка_возможности_установки_ос">Проверка возможности установки ОС</a>);</p>
</li>
<li>
<p>при установке ОС Альт на шаге «<strong>Подготовка диска</strong>» убедитесь, что:</p>
<div class="ulist">
<ul>
<li>
<p>для <code>RAID</code>-массива (или <code>LUN</code>) созданы файлы устройств и сформированное
блочное устройство отображается как единое целое (переключитесь в консоль —
<code><strong>Ctrl+Alt+F4</strong></code> и дайте команду <code>lsblk</code>);</p>
</li>
<li>
<p>установщик ОС Альт позволяет выбрать сформированное блочное устройство
для установки ОС в графическом интерфейсе установщика ОС.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>При наличии нескольких контроллеров необходимо повторить вышеописанное
тестирование для каждого контроллера. При поддержке <code>RAID</code>-массивов разных
уровней необходимо повторить вышеописанное тестирование для каждого уровня
<code>RAID</code>.</p>
</div>
<div class="paragraph">
<p>Результаты заносятся в протокол тестирования. В случае ошибок добавьте их
описание в протокол.</p>
</div>
<div class="sect3">
<h4 id="_проверка_производительности_интерфейсов_блочных_устройств">10.5.1. Проверка производительности интерфейсов блочных устройств</h4>
<div class="paragraph">
<p>Выполняется для всех ранее созданных блочных устройств имеющихся контроллеров.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong>$ su -</strong>
<strong># sync &amp;&amp; echo 3 &gt; /proc/sys/vm/drop_caches</strong>
<strong># hdparm -t --direct /dev/sda</strong>

/dev/sda:
 Timing O_DIRECT disk reads: 826 MB in  3.01 seconds = <code><strong>274.71 MB/sec</strong></code></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>/dev/sda</code> — тестовое блочное устройство.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Ожидается, что полученная скорость работы интерфейса приближена к заявленной
в спецификации на это блочное устройство. Результаты заносятся в протокол
тестирования отдельно по каждому проверенному блочному устройству. В случае
ошибок добавьте их описание.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_управление_питанием_acpi">10.6. Управление питанием (ACPI)</h3>
<div class="sect3">
<h4 id="_управление_питанием_в_графическом_режиме">10.6.1. Управление питанием в графическом режиме</h4>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Если экспресс-тест прошёл успешно, данное тестирование следует
пропустить.
</td>
</tr>
</table>
</div>
<div class="sect4">
<h5 id="_проверка_включениявыключения_компьютера">10.6.1.1. Проверка включения/выключения компьютера</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Нажатием кнопки питания/<code>ACPI</code> включите компьютер.</p>
<div class="ulist">
<ul>
<li>
<p>Компьютер должен включиться.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Выполните вход пользователя в графический сеанс.</p>
</li>
<li>
<p>В графическом меню системы:</p>
<div class="ulist">
<ul>
<li>
<p><code>MATE</code>: <strong>Меню &gt; Выйти</strong><br>
Выберите действие <strong>Выключить</strong>.</p>
</li>
<li>
<p><code>KDE</code>/<code>XFCE</code>: <strong>Меню &gt; Завершение работы &gt; Выключить</strong>.</p>
</li>
<li>
<p>Компьютер должен полностью выключиться.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_проверка_перезагрузки_компьютера">10.6.1.2. Проверка перезагрузки компьютера</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Нажатием кнопки питания/<code>ACPI</code> включите компьютер.</p>
<div class="ulist">
<ul>
<li>
<p>Компьютер должен включиться.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Выполните вход пользователя в графический сеанс.</p>
</li>
<li>
<p>В графическом меню системы:</p>
<div class="ulist">
<ul>
<li>
<p><code>MATE</code>: <strong>Меню &gt; Выйти</strong><br>
Выберите действие <strong>Перегрузить</strong>.</p>
</li>
<li>
<p><code>KDE</code>/<code>XFCE</code>: <strong>Меню &gt; Завершение работы &gt; Перегрузить</strong>.</p>
</li>
<li>
<p>Компьютер должен начать перезагрузку.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Дождитесь включения компьютера после перезагрузки.</p>
<div class="ulist">
<ul>
<li>
<p>Компьютер должен включиться, ОС должна загрузиться.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_проверка_спящего_режима">10.6.1.3. Проверка «спящего» режима</h5>
<div class="paragraph">
<p>Тестирование выполняется только на ноутбуках, планшетах и компьютерах, для
которых производителем явно заявлена поддержка «спящего» режима. Для работы
«спящего» режима необходимо наличие <code>SWAP</code>-раздела равного или больше объёма
ОЗУ.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Проверьте в терминале наличие и размер раздела:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># swapon --show</strong></code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Cверьте с размером ОЗУ</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># dmidecode --type 19</strong></code></pre>
</div>
</div>
<div class="paragraph">
<p>Размер <code>SWAP</code>-раздела должен быть равен или больше ОЗУ (утилита <code>swapon</code> может
показывать немного меньшее значение размера чем утилита <code>dmidecode</code>).</p>
</div>
<div class="paragraph">
<p>При необходимости создайте <code>SWAP</code>-раздел нужного размера
(<a href="https://www.altlinux.org/Swap">Swap</a>).</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>В графическом сеансе запустите любую программу и переведите компьютер
в «спящий» режим:</p>
<div class="ulist">
<ul>
<li>
<p><code>MATE</code>: <strong>Меню &gt; Выйти</strong><br>
Выберите действие <strong>Спящий режим</strong>.</p>
</li>
<li>
<p><code>KDE</code>/<code>XFCE</code>: <strong>Меню &gt; Завершение работы &gt; Спящий режим</strong>.</p>
</li>
<li>
<p>Компьютер должен перейти в «спящий» режим.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Нажатием кнопки питания/<code>ACPI</code> включите компьютер.</p>
<div class="ulist">
<ul>
<li>
<p>Компьютер должен выйти из «спящего» режима. При этом запущенная ранее
программа должна продолжать выполняться.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_проверка_ждущего_режима">10.6.1.4. Проверка «ждущего» режима</h5>
<div class="paragraph">
<p>Тестирование выполняется только на ноутбуках, планшетах и компьютерах,
для которых производителем явно заявлена поддержка «ждущего» режима.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>В графическом сеансе запустите любую программу и переведите компьютер
в «ждущий» режим:</p>
<div class="ulist">
<ul>
<li>
<p><code>MATE</code>: <strong>Меню &gt; Выйти</strong><br>
Выберите действие <strong>Ждущий режим</strong>.</p>
</li>
<li>
<p><code>KDE</code>/<code>XFCE</code>: <strong>Меню &gt; Завершение работы &gt; Ждущий режим</strong>.</p>
</li>
<li>
<p>Компьютер должен перейти в «ждущий» режим. При этом индикатор питания
(или индикатор работы, или кнопка питания/<code>ACPI</code>) будет периодически моргать.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Нажмите любую клавишу на клавиатуре (на некоторых компьютерах требуется
повторное нажатие на кнопку питания/<code>ACPI</code> для выхода из «ждущего» режима).</p>
<div class="ulist">
<ul>
<li>
<p>Компьютер должен выйти из «ждущего» режима. При этом запущенная ранее
программа должна продолжать выполняться.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_проверка_изменения_действий_при_нажатии_кнопки_питания">10.6.1.5. Проверка изменения действий при нажатии кнопки питания</h5>
<div class="paragraph">
<p>Изменение действий при нажатии кнопки питания/<code>ACPI</code> производится
в настройках <strong>Управление электропитанием/Энергосбережение</strong>.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Выполните вход пользователя в графический сеанс.</p>
</li>
<li>
<p>В графическом меню системы:</p>
<div class="ulist">
<ul>
<li>
<p><code>MATE</code>: <strong>Меню &gt; Параметры &gt; Управление электропитанием &gt; Общие &gt; Действия</strong><br>
Выберите действие <strong>При нажатии кнопки питания &gt; Спросить</strong>.<br>
Нажмите <strong>Закрыть</strong>.</p>
</li>
<li>
<p><code>KDE</code>/<code>XFCE</code>: <strong>Меню &gt; Настройки &gt; Параметры системы KDE5 &gt; Оборудование &gt;
Управление питанием &gt; Энергосбережение</strong>.<br>
Должен быть выбран пункт <strong>Обработка событий от кнопок</strong>.<br>
Выберите действие <strong>При нажатии кнопки питания &gt; Диалог подтверждения
выхода</strong>.<br>
Нажмите <strong>Применить</strong>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Нажмите кнопку питания/<code>ACPI</code>.</p>
<div class="ulist">
<ul>
<li>
<p>Должен появиться диалог подтверждения выключения. Если ничего не выбирать,
компьютер должен выключиться.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_проверка_реакции_системы_на_закрытие_крышки_ноутбука">10.6.1.6. Проверка реакции системы на закрытие крышки ноутбука</h5>
<div class="sect5">
<h6 id="_реакция_на_завершение_работы">10.6.1.6.1. Реакция на завершение работы</h6>
<div class="paragraph">
<p>Изменение действий при закрытии крышки ноутбука происходит в настройках
<strong>Управление электропитанием/Энергосбережение</strong>.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Выполните вход пользователя в графический сеанс.</p>
</li>
<li>
<p>В графическом меню системы:</p>
<div class="ulist">
<ul>
<li>
<p><code>MATE</code>: <strong>Меню &gt; Параметры &gt; Управление электропитанием</strong><br>
вкладка <strong>Питание от сети (батареи) &gt; При закрытии крышки ноутбука: Завершение
работы</strong></p>
</li>
<li>
<p><code>KDE</code>/<code>XFCE</code>: <strong>Меню &gt; Настройки &gt; Параметры системы KDE5 &gt; Оборудование &gt;
Управление питанием &gt; Энергосбережение</strong><br>
Выберите действие <strong>При закрытии крышки ноутбука &gt; Завершение работы</strong>.<br>
Нажмите <strong>Применить</strong>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Закройте крышку ноутбука.</p>
<div class="ulist">
<ul>
<li>
<p>Компьютер должен полностью выключиться.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Откройте крышку ноутбука. Нажмите кнопку питания/<code>ACPI</code>, если ноутбук
не включился.</p>
<div class="ulist">
<ul>
<li>
<p>Компьютер должен включиться.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
<div class="sect5">
<h6 id="_реакция_на_спящий_режим">10.6.1.6.2. Реакция на «спящий» режим</h6>
<div class="paragraph">
<p>Тестирование выполняется только на ноутбуках, планшетах и компьютерах, для
которых производителем явно заявлена поддержка «спящего» режима. Для работы
«спящего» режима необходимо наличие <code>SWAP</code>-раздела равного или больше объёма
ОЗУ.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Выполните вход пользователя в графический сеанс.</p>
</li>
<li>
<p>В графическом меню системы:</p>
<div class="ulist">
<ul>
<li>
<p><code>MATE</code>: <strong>Меню &gt; Параметры &gt; Управление электропитанием &gt; Общие &gt; Действия</strong>.<br>
вкладка <strong>Питание от сети (батареи) &gt; При закрытии крышки ноутбука:
Режим гибернации</strong></p>
</li>
<li>
<p><code>KDE</code>/<code>XFCE</code>: <strong>Меню &gt; Настройки &gt; Параметры системы KDE5 &gt; Оборудование &gt;
Управление питанием &gt; Энергосбережение</strong>.<br>
Выберите действие <strong>При закрытии крышки ноутбука &gt; Режим гибернации</strong>.<br>
Нажмите <strong>Применить</strong>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Запустите любое приложение. Закройте крышку ноутбука.</p>
<div class="ulist">
<ul>
<li>
<p>Компьютер должен перейти в «спящий» режим.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Откройте крышку ноутбука. Нажмите кнопку питания/<code>ACPI</code>, если ноутбук
не включился.</p>
<div class="ulist">
<ul>
<li>
<p>Компьютер должен выйти из «спящего» режима. При этом запущенная ранее
программа должна продолжать выполняться.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
<div class="sect5">
<h6 id="_реакция_на_ждущий_режим">10.6.1.6.3. Реакция на «ждущий» режим</h6>
<div class="paragraph">
<p>Тестирование выполняется только на ноутбуках, планшетах и компьютерах,
для которых производителем явно заявлена поддержка «ждущего» режима.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Выполните вход пользователя в графический сеанс.</p>
</li>
<li>
<p>В графическом меню системы:</p>
<div class="ulist">
<ul>
<li>
<p><code>MATE</code>: <strong>Меню &gt; Параметры &gt; Управление электропитанием &gt; Общие &gt; Действия</strong>.<br>
вкладка <strong>Питание от сети (батареи) &gt; При закрытии крышки ноутбука:
Ждущий режим</strong></p>
</li>
<li>
<p><code>KDE</code>/<code>XFCE</code>: <strong>Меню &gt; Настройки &gt; Параметры системы KDE5 &gt; Оборудование &gt;
Управление питанием &gt; Энергосбережение</strong>.<br>
Выберите действие <strong>При закрытии крышки ноутбука &gt; Перейти в ждущий режим</strong>.<br>
Нажмите <strong>Применить</strong>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Запустите любое приложение. Закройте крышку ноутбука.</p>
<div class="ulist">
<ul>
<li>
<p>Ноутбук должен перейти в «ждущий» режим.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Откройте крышку ноутбука. Нажмите кнопку питания/<code>ACPI</code>, если ноутбук
не включился.</p>
<div class="ulist">
<ul>
<li>
<p>Ноутбук должен выйти из «ждущего» режима. При этом запущенная ранее
программа должна продолжать выполняться.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_управление_питанием_из_консоли">10.6.2. Управление питанием из консоли</h4>
<div class="paragraph">
<p>Выполняется только при отсутствии графического сеанса на тестируемой ОС.</p>
</div>
<div class="paragraph">
<p>Необходимо войти в систему пользователем <strong>root</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong>$ su -</strong>
<strong>#</strong></code></pre>
</div>
</div>
<div class="sect4">
<h5 id="_проверка_выключения_компьютера">10.6.2.1. Проверка выключения компьютера</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Выполните команду <code>poweroff</code>.</p>
<div class="ulist">
<ul>
<li>
<p>Компьютер должен полностью выключиться.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Нажатием кнопки питания/<code>ACPI</code>, включите компьютер.</p>
<div class="ulist">
<ul>
<li>
<p>Компьютер должен включиться, ОС должна загрузиться.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_проверка_перезагрузки_компьютера_2">10.6.2.2. Проверка перезагрузки компьютера</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Выполните команду <code>reboot</code>.</p>
<div class="ulist">
<ul>
<li>
<p>Компьютер должен начать перезагрузку.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Дождитесь включения компьютера после перезагрузки.</p>
<div class="ulist">
<ul>
<li>
<p>Компьютер должен включиться, ОС должна загрузиться.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_проверка_спящего_режима_2">10.6.2.3. Проверка «спящего» режима</h5>
<div class="paragraph">
<p>Тестирование выполняется только на ноутбуках, планшетах и компьютерах, для
которых производителем явно заявлена поддержка «спящего» режима. Для работы
«спящего» режима необходимо наличие <code>SWAP</code>-раздела равного или больше объёма
ОЗУ. При необходимости, создайте
<a href="https://www.altlinux.org/Swap"><code>SWAP</code></a>-раздел.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Проверьте наличие и размер раздела:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># swapon --show</strong></code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Cверьте с размером ОЗУ.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># dmidecode --type 19</strong></code></pre>
</div>
</div>
<div class="paragraph">
<p>Размер <code>SWAP</code>-раздела должен быть равен или больше ОЗУ (утилита <code>swapon</code>
может показывать немного меньшее значение размера чем утилита <code>dmidecode</code>).</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Выполните команду <code>systemctl hibernate</code>.</p>
<div class="ulist">
<ul>
<li>
<p>Компьютер должен перейти в «спящий» режим.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Нажатием кнопки питания/<code>ACPI</code> включите компьютер.</p>
<div class="ulist">
<ul>
<li>
<p>Компьютер должен выйти из «спящего» режима.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_проверка_ждущего_режима_2">10.6.2.4. Проверка «ждущего» режима</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Выполните команду <code>systemctl suspend</code>.</p>
<div class="ulist">
<ul>
<li>
<p>Компьютер должен перейти в «ждущий» режим.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Нажмите любую клавишу на клавиатуре.</p>
<div class="ulist">
<ul>
<li>
<p>Компьютер должен выйти из «ждущего» режима.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_проверка_энергосбережения">10.7. Проверка энергосбережения</h3>
<div class="paragraph">
<p>Данная проверка выполняется только на ноутбуках и планшетах.</p>
</div>
<div class="sect3">
<h4 id="_проверка_в_графическом_режиме">10.7.1. Проверка в графическом режиме</h4>
<div class="paragraph">
<p>Войти в графический сеанс пользователя.</p>
</div>
<div class="sect4">
<h5 id="_проверка_реакции_на_подключениеотключение_внешнего_бп">10.7.1.1. Проверка реакции на подключение/отключение внешнего БП</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Отключить блок питания от ноутбука (планшета).</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><code>MATE</code>: Должно появиться всплывающее уведомление в верхнем правом углу:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong>Батарея разряжается. Осталось XX часа XX минут заряда батареи (XX%)</strong>.</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>KDE</code>: Данное уведомление не реализовано.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Должен появиться значок батареи в <strong>Области уведомлений</strong> на <strong>Панели задач</strong>,
при этом он должен отображать заполненную шкалу примерного заряда батареи.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Навести указатель мыши на значок батареи.</p>
<div class="ulist">
<ul>
<li>
<p>Должно появиться всплывающее уведомление с информацией о процентном
заряде батареи и оставшемся времени работы.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Подключить блок питания к ноутбуку (планшету).</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><code>KDE</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Значок батареи должен исчезнуть из <strong>Области уведомлений</strong>.</p>
</li>
<li>
<p>Нажать на значок <strong>Показать скрытые значки</strong>.</p>
</li>
<li>
<p>Должна развернуться панель <strong>Состояние и уведомления</strong>.</p>
</li>
<li>
<p>Навести указатель мыши на значок <strong>Батарея и яркость</strong>.</p>
</li>
<li>
<p>Должно появиться уведомление с указанием состояния зарядки батареи.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>MATE</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>В значке батареи должен появиться символ молнии (зарядки).</p>
</li>
<li>
<p>Навести указатель мыши на значок батареи.</p>
</li>
<li>
<p>Должно появиться уведомление с указанием состояния зарядки батареи.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_проверка_изменения_яркости_экрана">10.7.1.2. Проверка изменения яркости экрана</h5>
<div class="paragraph">
<p><code>KDE</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Выбрать <strong>Меню &gt; Настройки &gt; Параметры системы KDE5 &gt; Оборудование &gt;
Управление питанием &gt; Энергосбережение</strong>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Должна открыться вкладка энергосбережение.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>На вкладке «Питание от сети» активировать чекбокс «Яркость экрана» и
установить ползунок «Уровень» на 100%.</p>
</li>
<li>
<p>На вкладке «Питание от батареи» активировать чекбокс «Яркость экрана» и
установить ползунок «Уровень» на 50%.</p>
</li>
<li>
<p>Нажать <strong>Применить</strong>.</p>
</li>
<li>
<p>Отключить блок питания от ноутбука (планшета). При отключении блока
питания яркость экрана должна автоматически уменьшиться.</p>
</li>
<li>
<p>Подключить блок питания к ноутбуку (планшету). При подключении блока
питания яркость экрана должна автоматически увеличиться.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>MATE</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Нажать ЛКМ на значок батареи в <strong>Области уведомлений</strong> выбрать <strong>Параметры</strong>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Должна открыться панель <strong>Параметры управлением электропитанием</strong>.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>На вкладке <strong>Питание от сети</strong> установить ползунок <strong>Установить яркость
экрана в:</strong> на 100%.</p>
</li>
<li>
<p>На вкладке <strong>Питание от батареи</strong> активировать чекбокс <strong>Уменьшать яркость
подсветки экрана</strong>.</p>
</li>
<li>
<p>Нажать <strong>Закрыть</strong>.</p>
</li>
<li>
<p>Отключить блок питания от ноутбука (планшета).</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>При отключении блока питания яркость экрана должна автоматически
уменьшиться.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>Подключить блок питания к ноутбуку (планшету).</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>При подключении блока питания яркость экрана должна автоматически
увеличиться.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_проверка_в_консоли">10.7.2. Проверка в консоли</h4>
<div class="paragraph">
<p>Проверка выполняется только при отсутствии графического сеанса в
установленной ОС.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Отключить блок питания от ноутбука (планшета).</p>
</li>
<li>
<p>Проверить состояние батареи:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong>$ upower -i $(upower -e | grep BAT) |
   grep -E "state|to\ full|to\ empty|percentage"</strong></code></pre>
</div>
</div>
<div class="paragraph">
<p>В выводе должна содержаться информация о состоянии батареи, времени
работы от батареи и количестве заряда в процентах.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">state: discharging
time to empty: 13,9 hours
percentage: 96%</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Подключить блок питания к ноутбуку (планшету).</p>
</li>
<li>
<p>Проверить состояние батареи:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong>$ upower -i $(upower -e | grep BAT) |
   grep -E "state|to\ full|to\ empty|percentage"</strong></code></pre>
</div>
</div>
<div class="paragraph">
<p>В выводе должна содержаться информация о состоянии батареи, времени
до полной зарядки и количество заряда в процентах:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">state: charging
time to full: 1,9 minutes
percentage: 94%</code></pre>
</div>
</div>
<div class="paragraph">
<p>Если батарея полностью заряжена, вывод будет таким:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">state: fully-charged
percentage: 100%</code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect2">
<h3 id="_проверка_numa_при_наличии">10.8. Проверка NUMA (при наличии)</h3>
<div class="paragraph">
<p>В данном тесте проверяется поддержка технологии <strong>NUMA</strong>, а также возможность
управлять ею в ОС Альт. Обычно требуется наличие в компьютере двух и более
физических процессоров с поддержкой узлов <strong>NUMA</strong> (актуально для серверного
оборудования).</p>
</div>
<div class="paragraph">
<p>Предварительно нужно установить пакеты <strong>numactl</strong>, <strong>squashfs-tools</strong> и <strong>htop</strong>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong>$ su -</strong>
<strong># apt-get install numactl squashfs-tools htop</strong></code></pre>
</div>
</div>
<div class="paragraph">
<p>Посмотрите топологию доступных узлов <strong>NUMA</strong> (nodes) на тестируемом компьютере:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># numactl -H</strong>

<code><strong>available: 2 nodes</strong></code> (0-1)
node 0 cpus: 0 1
node 0 size: 1987 MB
node 0 free: 1587 MB
node 1 cpus: 2 3
node 1 size: 1950 MB
node 1 free: 1481 MB
node distances:
node 0   1
 0:  10  20
 1:  20  10</code></pre>
</div>
</div>
<div class="paragraph">
<p>В данном примере доступно два узла (<strong>available: 2 nodes</strong>):</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>node 0</strong> c двумя процессорами 0 и 1, c памятью около 2 Гб;</p>
</li>
<li>
<p><strong>node 1</strong> c двумя процессорами 2 и 3, c памятью около 2 Гб.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Дальнейшее тестирование проводится, если количество <strong>nodes</strong> — два и более.
Если это не так, возможно придётся включить поддержку <strong>NUMA</strong> в BIOS.</p>
</div>
<div class="paragraph">
<p>Посмотрите статистику использования памяти узлами <strong>NUMA</strong>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># numastat</strong>

                           node0           node1
numa_hit                  267892          395717
numa_miss                      <code><strong>0</strong></code>               <code><strong>0</strong></code>
numa_foreign                   <code><strong>0</strong></code>               <code><strong>0</strong></code>
interleave_hit              6412            6744
local_node                265364          388577
other_node                  2528            7140</code></pre>
</div>
</div>
<div class="paragraph">
<p>В идеале параметры <strong>numa_miss</strong> и <strong>numa_foreign</strong> должны стремиться к нулю.</p>
</div>
<div class="paragraph">
<p>Для тестирования предлагается распаковывать squashfs-архив с установочного
ISO-образа. Для этого к тестируемому компьютеру должен быть подключен любой
установочный диск с ОС Альт, то есть в корне которого имеется файл с названием
<strong>altinst</strong>. Путь к нему будет зависеть от способа подключения диска, например:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><code>DVD</code>: <strong>/media/ALTLinux/altinst</strong>
<code>USB</code>: <strong>/run/media/user/ALT XXX/altinst</strong></code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_проверка_использования_ресурсов_процессом">10.8.1. Проверка использования ресурсов процессом</h4>
<div class="paragraph">
<p>Откройте три окна (вкладки) терминала в графическом сеансе. Если сервер
без графики, используйте виртуальные терминалы, переключаясь между ними
по клавишам <code><strong>Alt+F1</strong></code>&#8230;&#8203;<code><strong>Alt+F6</strong></code>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>На первом терминале перейдите во временный каталог и почистите дисковый кэш:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># cd $TMPDIR &amp;&amp; sync &amp;&amp; echo 3 &gt; /proc/sys/vm/drop_caches</strong></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Запустите процесс распаковки squashfs-архива в этот каталог:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># unsquashfs /media/ALTLinux/altinst</strong></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Сразу же переключитесь на второй терминал и посмотрите статистику
использования узлов <strong>NUMA</strong> запущенным процессом:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># numastat -p unsquashfs</strong>

Per-node process memory usage (in MBs) for PID 21470 (unsquashfs)
                           Node 0          Node 1           Total
                  --------------- --------------- ---------------
Huge                         0.00            0.00            0.00
Heap                        <code><strong>70.21</strong></code>          <code><strong>206.16</strong></code>          276.38
Stack                        0.00            0.02            0.02
Private                      2.66            7.80           10.46
----------------  --------------- --------------- ---------------
Total                       72.88          213.98          286.86</code></pre>
</div>
</div>
<div class="paragraph">
<p>Обычно следует ориентироваться на статистику использования областей памяти
<strong>Heap</strong> (КУЧУ) и <strong>Stack</strong> (СТЕК). Но в данном случае процесс <strong>unsquashfs</strong>
активно использует только КУЧУ. При этом нагрузка неравномерно распределена
по всем узлам.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Переключитесь на третий терминал и запустите на нём программу <code>htop</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Убедитесь, что активно используются все четыре ядра, то есть оба узла.</p>
</div>
</div>
<div class="sect3">
<h4 id="_запуск_процесса_только_на_node_0">10.8.2. Запуск процесса только на node 0</h4>
<div class="ulist">
<ul>
<li>
<p>На первом терминале удалите ранее распакованные данные и почистите
дисковый кэш:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># rm -rf squashfs-root</strong>
<strong># sync &amp;&amp; echo 3 &gt; /proc/sys/vm/drop_caches</strong></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Снова запустите процесс распаковки, но уже через <strong>numactl</strong>:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># numactl --cpunodebind=0 unsquashfs /media/ALTLinux/altinst</strong></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Сразу же переключитесь на второй терминал и посмотрите статистику
использования узлов <strong>NUMA</strong> запущенным процессом:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># numastat -p unsquashfs</strong>

Per-node process memory usage (in MBs) for PID 5444 (unsquashfs)
                           Node 0          Node 1           Total
                  --------------- --------------- ---------------
Huge                         0.00            0.00            0.00
Heap                       <code><strong>288.46</strong></code>            0.00          288.46
Stack                        <code><strong>0.02</strong></code>            0.00            0.02
Private                     21.29            0.49           21.79
----------------  --------------- --------------- ---------------
Total                      309.77            0.49          310.26</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ожидается, что <strong>Heap</strong> и <strong>Stack</strong> теперь используются только на <strong>node 0</strong>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>На третьем терминале убедитесь через <strong>htop</strong>, что активно используются
CPU 0 и 1 (<strong>node 0</strong>), что другие ядра используются не так активно.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_запуск_процесса_только_на_node_1">10.8.3. Запуск процесса только на node 1</h4>
<div class="ulist">
<ul>
<li>
<p>На первом терминале удалите ранее распакованные данные и почистите
дисковый кэш:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># rm -rf squashfs-root</strong>
<strong># sync &amp;&amp; echo 3 &gt; /proc/sys/vm/drop_caches</strong></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Снова запустите процесс распаковки, но уже на <strong>node 1</strong>:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># numactl --cpunodebind=1 unsquashfs /media/ALTLinux/altinst</strong></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Сразу же переключитесь на второй терминал и посмотрите статистику
использования узлов <strong>NUMA</strong> запущенным процессом:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># numastat -p unsquashfs</strong>

Per-node process memory usage (in MBs) for PID 5527 (unsquashfs)
                           Node 0          Node 1           Total
                  --------------- --------------- ---------------
Huge                         0.00            0.00            0.00
Heap                         0.00          <code><strong>336.78</strong></code>          336.78
Stack                        0.00            <code><strong>0.02</strong></code>            0.02
Private                      1.88           13.52           15.40
----------------  --------------- --------------- ---------------
Total                        1.88          350.32          352.20</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ожидается, что <strong>Heap</strong> и <strong>Stack</strong> теперь используются только на <strong>node 1</strong>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>На третьем терминале убедитесь через <strong>htop</strong>, что активно используются
CPU 2 и 3 (<strong>node 1</strong>), что другие ядра используются не так активно.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Ожидаемый результат всего тестирования: userspace-утилиты <strong>numastat</strong>
и <strong>numactl</strong> позволяют мониторить ресурсы процессов и узлы <strong>NUMA</strong>,
перераспределять нагрузку между узлами и управлять выполнением процессов
на заданных узлах, согласно документации к этим утилитам.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_проверка_ipmi_при_наличии">10.9. Проверка IPMI (при наличии)</h3>
<div class="paragraph">
<p>В данном тесте проверяется возможность управлять из ОС Альт серверным
оборудованием, имеющим BMC и поддерживающим IPMI.</p>
</div>
<div class="paragraph">
<p>Установите пакет <code>ipmitool</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong>$ su -</strong>
<strong># apt-get install ipmitool</strong></code></pre>
</div>
</div>
<div class="paragraph">
<p>Загрузите модули ядра:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># modprobe ipmi_msghandler</strong>
<strong># modprobe ipmi_devintf</strong>
<strong># modprobe ipmi_si</strong></code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_тестирование_управления_через_ipmi">10.9.1. Тестирование управления через IPMI</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Проверьте состояние питания оборудования:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># ipmitool -H &lt;hostname|IP&gt; -U &lt;username&gt; -P &lt;password&gt; power status</strong></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Команда должна вывести информацию о состоянии питания: <code>Chassis Power is on</code>.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Проверьте выключение оборудования:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># ipmitool -H &lt;hostname|IP&gt; -U &lt;username&gt; -P &lt;password&gt; power off</strong></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Ожидается успешное выключение оборудования.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Проверьте включение оборудования:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># ipmitool -H &lt;hostname|IP&gt; -U &lt;username&gt; -P &lt;password&gt; power on</strong></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Ожидается успешное включение оборудования.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Проверьте перезапуск оборудования:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># ipmitool -H &lt;hostname|IP&gt; -U &lt;username&gt; -P &lt;password&gt; power reset</strong></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Ожидается успешный перезапуск оборудования.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>Выведите детальную информацию c доступных сенсоров:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># ipmitool -H &lt;hostname|IP&gt; -U &lt;username&gt; -P &lt;password&gt; sensor</strong></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>В выводе команды ожидается информация о сенсорах.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<ol class="arabic" start="6">
<li>
<p>Проверьте возможности смены метода загрузки. Установите однократную загрузку
в <code>BIOS</code>/<code>UEFI Firmware</code> оборудования и после этого выполните перезагрузку:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># ipmitool -H &lt;hostname|IP&gt; -U &lt;username&gt; -P &lt;password&gt; chassis bootdev bios</strong>
<strong># ipmitool -H &lt;hostname|IP&gt; -U &lt;username&gt; -P &lt;password&gt; power reset</strong></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>При перезагрузке ожидается загрузка в <code>BIOS</code>/<code>UEFI Firmware</code> оборудования.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
После повторной перезагрузки сервер загрузится с ранее выставленного
устройства по умолчанию.
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic" start="7">
<li>
<p>Выведите список пользователей IPMI:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># ipmitool -H &lt;hostname|IP&gt; -U &lt;username&gt; -P &lt;password&gt; user list</strong></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Ожидается вывод списка пользователей.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<ol class="arabic" start="8">
<li>
<p>Смените пароль пользователя IPMI, используя <code>userid</code> из вывода предыдущей
команды:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># ipmitool -H &lt;hostname|IP&gt; -U &lt;username&gt; \</strong>
  <strong>-P &lt;password&gt; user set password &lt;userid&gt; &lt;new-password&gt;</strong></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Ожидается успешная смена пароля пользователя IPMI.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Результаты заносятся в протокол тестирования. В случае ошибок добавьте их
описание.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_проверка_встроенной_периферии">10.10. Проверка встроенной периферии</h3>
<div class="sect3">
<h4 id="_проверка_интерфейса_esata_при_наличии">10.10.1. Проверка интерфейса eSATA (при наличии)</h4>
<div class="paragraph">
<p>Подключить внешний носитель с интерфейсом <strong>eSATA</strong>. Проверить определение
носителя системой с помощью команды:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># lsblk</strong></code></pre>
</div>
</div>
<div class="paragraph">
<p>Ожидается что внешний носитель определился и присутствует в выводе команды
<code>lsblk</code>.</p>
</div>
<div class="paragraph">
<p>Проверьте чтение данных с носителя с помощью утилиты <code>head</code>. Для этого под
пользователем <strong>root</strong> выполните команду:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong>$ su -</strong>
<strong># head -c 512 /dev/sdX | hexdump -C</strong></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>/dev/sdX</code> — имя устройства внешнего носителя с интерфейсом <strong>eSATA</strong>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Ожидаемый результат теста: команда <code>head -c 512 /dev/sdX | hexdump -C</code> выводит
первые 512 байт содержимого носителя.</p>
</div>
<div class="paragraph">
<p>Результаты заносятся в протокол тестирования. В случае ошибок добавьте их
описание.</p>
</div>
</div>
<div class="sect3">
<h4 id="_проверка_сенсорного_экрана_при_наличии">10.10.2. Проверка сенсорного экрана (при наличии)</h4>
<div class="paragraph">
<p>Если <strong>при установке ОС</strong> был использован сенсорный экран (<code>touchscreen</code>)
и возникли проблемы в его работе, отразите это в протоколе. Тестирование
выполняется при доступности графического сеанса в ОС.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Проверьте работоспособность сенсорного экрана (<code>touchscreen</code>) ноутбука
или планшета. При помощи сенсорного экрана (<code>touchscreen</code>) откройте
терминал из <strong>Меню приложений</strong>. Выполните следующие действия с открывшимся
окном:</p>
<div class="ulist">
<ul>
<li>
<p>Переместить окно;</p>
</li>
<li>
<p>Нажать на кнопку <strong>Свернуть</strong>;</p>
</li>
<li>
<p>Развернуть окно из панели задач;</p>
</li>
<li>
<p>Выделить текст внутри терминала;</p>
</li>
<li>
<p>Закрыть окно.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Ожидается корректная работа сенсорного экрана (<code>touchscreen</code>).</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Проверьте работу сенсорного экрана (<code>touchscreen</code>) при его трансформации.
Переведите ноутбук в планшетный режим. Поверните экран ноутбука или планшета
на 180 (или более) градусов. Дополнительно проверьте работу с использованием
экранной клавиатуры. Также проверьте работу сенсорного экрана (<code>touchscreen</code>)
при разной ориентации: ландшафтная, ландшафтная (перевёрнутая), вертикальная
по (против) часовой стрелке.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Ожидается корректная работа сенсорного экрана (<code>touchscreen</code>) в планшетном
режиме и при разной ориентации.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>При наличии пера (<code>стилуса</code>) проверьте следующие действия:</p>
<div class="ulist">
<ul>
<li>
<p>перемещение курсора;</p>
</li>
<li>
<p>нажатие на кнопки;</p>
</li>
<li>
<p>открытие приложений;</p>
</li>
<li>
<p>перемещение объектов;</p>
</li>
<li>
<p>работа экранной клавиатуры;</p>
</li>
<li>
<p>выделение объектов;</p>
</li>
<li>
<p>двойное нажатие;</p>
</li>
<li>
<p>зависимое от чувствительности нажатий поведение.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Ожидается корректная работа пера (<code>стилуса</code>) в разных режимах.</p>
</div>
<div class="paragraph">
<p>Результаты заносятся в протокол тестирования. В случае ошибок добавьте их
описание.</p>
</div>
</div>
<div class="sect3">
<h4 id="_проверка_встроенной_камеры_при_наличии">10.10.3. Проверка встроенной камеры (при наличии)</h4>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Если тестирование
<a href="#_проверка_записи_и_воспроизведения_звука_в_приложении_для_записи_звука">Проверка записи и воспроизведения звука в приложении для записи звука</a>
завершилось успешно, выполнять данное тестирование не нужно.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Проведите проверку согласно пункту
<a href="#_проверка_записи_и_воспроизведения_звука_в_приложении_для_записи_звука">Проверка записи и воспроизведения звука в приложении для записи звука</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_проверка_интерфейса_ps2_при_наличии">10.10.4. Проверка интерфейса PS/2 (при наличии)</h4>
<div class="paragraph">
<p>Проводится в системе с поддержкой графического сеанса при наличии монитора
или возможности его подключения.</p>
</div>
<div class="paragraph">
<p>Подключите клавиатуру и манипулятор «мышь». Проверьте движение курсора «мыши»,
нажатия ЛКМ, ПКМ, колеса прокрутки в браузере, нажатия нескольких клавиш на
клавиатуре.</p>
</div>
<div class="paragraph">
<p>Ожидаемый результат: клавиатура и манипулятор «мышь» корректно работают.</p>
</div>
<div class="paragraph">
<p>Результаты заносятся в протокол тестирования. В случае ошибок добавьте их
описание.</p>
</div>
</div>
<div class="sect3">
<h4 id="_проверка_работы_сенсорной_панели_при_наличии">10.10.5. Проверка работы сенсорной панели (при наличии)</h4>
<div class="paragraph">
<p>Если <strong>при установке ОС</strong> была использована сенсорная панель (<code>touchpad</code>)
и возникли проблемы в её работе, отразите это в протоколе. Тестирование
выполняется при доступности графического сеанса в ОС.</p>
</div>
<div class="paragraph">
<p>Войдите в графический сеанс. Проверьте управление движениями курсора при
помощи сенсорной панели (<code>touchpad</code>), нажатия отдельных кнопок сенсорной
панели, поддерживаемых движений <code>touch</code> и <code>multi-touch</code>. Ожидается корректная
работа сенсорной панели (<code>touchpad</code>).</p>
</div>
<div class="paragraph">
<p>Результаты заносятся в протокол тестирования. В случае ошибок добавьте их
описание.</p>
</div>
</div>
<div class="sect3">
<h4 id="_проверка_функциональных_клавиш_клавиатуры_при_наличии">10.10.6. Проверка функциональных клавиш клавиатуры (при наличии)</h4>
<div class="paragraph">
<p>Если <strong>при установке ОС</strong> в работе клавиатуры возникли проблемы, отразите
это в протоколе. Тестирование выполняется при доступности графического
сеанса в ОС, на ноутбуках и ВК, имеющих встроенную либо внешнюю клавиатуру
с функциональными клавишами (<strong>Fn</strong>).</p>
</div>
<div class="paragraph">
<p>Войдите в графический сеанс ОС и проверьте работу функциональных клавиш
(<strong>Fn</strong>):</p>
</div>
<div class="ulist">
<ul>
<li>
<p>изменение яркости экрана;</p>
</li>
<li>
<p>изменение громкости звука;</p>
</li>
<li>
<p>управление проигрыванием аудио и видео контента (плеер VLC);</p>
</li>
<li>
<p>управление спящим и ждущим режимами;</p>
</li>
<li>
<p>и др.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Ожидается корректная работа функциональных клавиш.</p>
</div>
<div class="paragraph">
<p>Результаты заносятся в протокол тестирования. В случае ошибок добавьте их
описание.</p>
</div>
</div>
<div class="sect3">
<h4 id="_проверка_работы_сканера_отпечатка_пальца_при_наличии">10.10.7. Проверка работы сканера отпечатка пальца (при наличии)</h4>
<div class="paragraph">
<p>Установите необходимые пакеты для проверки работы сканера отпечатка пальца:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong>$ su -</strong>
<strong># apt-get install fprintd</strong></code></pre>
</div>
</div>
<div class="paragraph">
<p>Запустите службу <code>fprintd</code> и убедитесь, что в её работе нет ошибок:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># systemctl start fprintd</strong>
<strong># systemctl status fprintd</strong></code></pre>
</div>
</div>
<div class="paragraph">
<p>Зарегистрируйте отпечаток пальца для пользователя:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong>$ fprintd-enroll &lt;username&gt;</strong>

Enroll result: passed
enroll-completed</code></pre>
</div>
</div>
<div class="paragraph">
<p>Проверьте зарегистрированный отпечаток пальца пользователя:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong>$ fprintd-verify &lt;username&gt;</strong>

Verify started!
Verifying: right-index-finger
Verify result: verify-match (done)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ожидаемый результат: отпечаток пальца успешно регистрируется и проходит
проверку.</p>
</div>
<div class="paragraph">
<p>Результаты заносятся в протокол тестирования. В случае ошибок добавьте их
описание.</p>
</div>
</div>
<div class="sect3">
<h4 id="_проверка_интерфейсов_usb_1_0_3_2">10.10.8. Проверка интерфейсов USB 1.0-3.2</h4>
<div class="paragraph">
<p>Для проверки интерфейса <code>USB 1.0</code> подключите к соответствующему USB-порту
любое HID-устройство (USB-клавиатуру, USB-мышь, и т.п.) и убедитесь, что
оно видится на шине (<code>lsusb</code>), корректно определилось и работает.</p>
</div>
<div class="paragraph">
<p>Для проверки интерфейсов <code>USB 2.0+</code> необходимо использовать USB-накопитель.
Желательно, чтобы скорость работы накопителя, заявленная производителем,
равнялась или превышала возможную скорость работы тестируемых USB-портов.
Например, <strong>USB HDD 3.0+</strong>.</p>
</div>
<div class="paragraph">
<p>Подключите накопитель к USB-порту. Утилита <code>lsblk</code> покажет, как определился
накопитель в ОС.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong>$ lsblk</strong>
...
sdd         8:48   1  29,8G  0 disk
├─sdd1      8:49   1   103M  0 part
└─sdd2      8:50   1  19,6G  0 part /run/media/test/6269...
...</code></pre>
</div>
</div>
<div class="paragraph">
<p>Определите, с какой скоростью работает накопитель:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong>$ su -</strong>
<strong># sync &amp;&amp; echo 3 &gt; /proc/sys/vm/drop_caches</strong>
<strong># hdparm -t --direct /dev/sdd</strong>

/dev/sdd:
 Timing O_DIRECT disk reads: 498 MB in  3.00 seconds = <code><strong>165.86 MB/sec</strong></code></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>/dev/sdd</code> — тестовый накопитель.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Определите, с какой скоростью работает USB-порт:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong>$ lsusb -t</strong>
/:  Bus 04.Port 1: Dev 1, Class=root_hub, Driver=xhci_hcd/2p, 5000M
    |<em> Port 1: Dev 2, If 0, Class=Hub, Driver=hub/4p, 5000M
    |</em> Port 2: Dev 5, If 0, Class=Mass Storage, Driver=usb-storage, 5000M
...</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Port 2: Dev 5, If 0, Class=Mass Storage, Driver=usb-storage, 5000M</code> — порт,
к которому подключен тестовый накопитель. Порт работает на скорости 5Gbps
(5000M).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Ожидаемый результат: скорость работы устройства должна быть больше максимально
поддерживаемой скорости <strong>предыдущего</strong> стандарта тестируемого порта. Например,
мы тестируем USB-порт стандарта 3.0. Теоретически максимальная скорость
<code>USB 3.0</code> — 5Gbps (625 MB/sec). Результат в примере (165.86 MB/sec) — меньше
максимальной скорости <code>USB 3.0</code>, но больше максимальной скорости предыдущего
стандарта <code>USB 2.0</code> — 480 Mbps (60 MB/sec). Следовательно, тестируемый порт
работает по стандарту <code>USB 3.0</code>, хотя тестовый накопитель не может достичь
максимальной скорости этого стандарта.</p>
</div>
<div class="paragraph">
<p>Результаты заносятся в протокол тестирования отдельно по каждому проверенному
USB-интерфейсу. В случае ошибок добавьте их описание.</p>
</div>
</div>
<div class="sect3">
<h4 id="_проверка_usb_3_2_gen2usb4_и_thunderbolt_34_при_наличии">10.10.9. Проверка USB 3.2 Gen2/USB4 и Thunderbolt 3/4 (при наличии)</h4>
<div class="paragraph">
<p>Такие порты, в зависимости от оборудования, могут иметь различия в реализации:
<code>USB Type-C</code>, <code>Thunderbolt 3/4</code> и др. (что появится в будущем). Следовательно,
функциональность данного порта может сильно варьироваться от «порт только для
зарядки мобильныx устройств» до «порт передачи данных, включая изображение»,
что определяется <strong>спецификацией оборудования</strong>.</p>
</div>
<div class="paragraph">
<p>Подключите привод, скорость которого приближается к максимальной пропускной
способности соответствующего интерфейса, и сравните фактическую скорость
работы этого привода с максимально поддерживаемой стандартом, по аналогии
с предыдущим разделом: <a href="#_проверка_интерфейсов_usb_1_0_3_2">Проверка интерфейсов USB 1.0-3.2</a>.</p>
</div>
<div class="paragraph">
<p>Результаты заносятся в протокол тестирования отдельно по каждому проверенному
интерфейсу <code>USB</code>/<code>Thunderbolt</code>. В случае ошибок добавьте их описание.</p>
</div>
</div>
<div class="sect3">
<h4 id="_проверка_bluetooth_при_наличии">10.10.10. Проверка Bluetooth (при наличии)</h4>
<div class="paragraph">
<p>Данная проверка выполняется для ОС с графическим интерфейсом.</p>
</div>
<div class="paragraph">
<p>Убедитесь, что запущена и работает без ошибок служба <code>bluetooth</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># systemctl start bluetooth</strong>
<strong># systemctl status bluetooth</strong></code></pre>
</div>
</div>
<div class="paragraph">
<p>Достаточно успешно проверить одно доступное для подключения устройство
<code>bluetooth</code> (любое). Ниже описано тестирование следующих устройств:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>телефон (смартфон);</p>
</li>
<li>
<p>наушники;</p>
</li>
<li>
<p>клавиатура;</p>
</li>
<li>
<p>манипулятор «мышь».</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Если тестирование выбранного устройства завершилось не успешно,
необходимо выполнить тестирование с другим устройством из списка, т.к.
проверяется интерфейс, а не совместимость с конкретным устройством.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Выбор устройства и результаты заносятся в протокол тестирования. В случае
ошибок добавьте их описание.</p>
</div>
<div class="sect4">
<h5 id="_подключение_телефона">10.10.10.1. Подключение телефона</h5>
<div class="paragraph">
<p>Выполните для ОС с графическим окружением <code>KDE</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Нажмите на значок <code>bluetooth</code> на панели задач → выберите <strong>Добавить новое
устройство</strong> → далее <strong>Выбрать устройство из списка</strong> → На устройстве и ПК
подтвердите предложенный код.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Выполните для ОС с графическим окружением <code>MATE</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Нажмите ПКМ на значок <code>bluetooth</code> на панели задач → выберите <strong>Сделать
видимым</strong>;</p>
</li>
<li>
<p>На смартфоне активируйте <code>bluetooth</code> и в списке доступных устройств выберите
нужное;</p>
</li>
<li>
<p>На устройстве и ПК подтвердите предложенный код.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Выполните для ОС с графическим окружением <code>XFCE</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Нажмите ПКМ на значок <code>bluetooth</code> на панели задач → выберите <strong>Открыть
диспетчер устройств Bluetooth</strong>;</p>
</li>
<li>
<p>На смартфоне активируйте <code>bluetooth</code> и в списке доступных устройств выберите
нужное. Либо выберите доступное устройство в «Диспетчер устройств Bluetooth»;</p>
</li>
<li>
<p>На устройстве и ПК подтвердите предложенный код.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Проверка работы:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Воспроизведите музыку на телефоне. Ожидается воспроизведение на ПК.</p>
</li>
<li>
<p>Измените громкость воспроизведения музыки на телефоне. Ожидается изменение
громкости воспроизведения на ПК, в зависимости от значений громкости на
телефоне.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Тестирование пересылки файлов <strong>с ПК на телефон</strong>.</p>
</div>
<div class="paragraph">
<p>Создайте тестовый файл:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong>$ echo "Тестовая пересылка с ПК на Телефон" &gt; test_send.txt</strong></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>KDE</code>:</p>
</div>
<div class="paragraph">
<p>Выберите в файловом менеджере созданный файл, нажмите ПКМ и выберите
<strong>Поделиться</strong>, далее <strong>Отправить по bluetooth</strong> и выберите подключённый по
<code>bluetooth</code> телефон. На телефоне подтвердите получение файла и дождитесь
завершения передачи данных.</p>
</div>
<div class="paragraph">
<p><code>MATE</code>:</p>
</div>
<div class="paragraph">
<p>Нажмите ПКМ на значок <code>bluetooth</code> на панели задач → выберите <strong>Устройства &#8230;&#8203;</strong>.
В списке подключённых устройств выберите необходимое и нажмите кнопку
<strong>Отправить файл</strong>. На телефоне подтвердите принятие файла.</p>
</div>
<div class="paragraph">
<p><code>XFCE</code>:</p>
</div>
<div class="paragraph">
<p>Нажмите ПКМ на значок <code>bluetooth</code> на панели задач → выберите <strong>Отправить файлы
на устройство</strong>. Далее выберите файл и подключенное устройство из списка.
Затем нажмите кнопку <strong>Отправить</strong>. На телефоне подтвердите принятие файла.</p>
</div>
<div class="paragraph">
<p>Тестирование пересылки файлов <strong>с телефона на ПК</strong>.</p>
</div>
<div class="paragraph">
<p>Выберите любой файл на телефоне, затем <strong>Поделиться</strong> через <strong>Bluetooth</strong> и
выберите подключенный по <code>bluetooth</code> ПК. На ПК подтвердите получение файла
и дождитесь завершения передачи данных.</p>
</div>
<div class="paragraph">
<p>Ожидается успешная передача файла как с ПК на телефон, так и с телефона на ПК.</p>
</div>
<div class="paragraph">
<p>Результаты заносятся в протокол тестирования. В случае ошибок добавьте их
описание.</p>
</div>
</div>
<div class="sect4">
<h5 id="_подключение_наушников">10.10.10.2. Подключение наушников</h5>
<div class="paragraph">
<p>Для выполнения этого теста рекомендуется использовать простые наушники.
Некоторые современные гарнитуры (наушники с микрофоном) для полноценной
работоспособности требуют полной поддержки Handset телефона Android,
внесения соответствующих изменений в настройки ОС по умолчанию, и здесь
не рассматриваются.</p>
</div>
<div class="paragraph">
<p>Выполните для ОС с графическим окружением <code>KDE</code>:</p>
</div>
<div class="paragraph">
<p>Нажмите на значок <code>bluetooth</code> на панели задач → выберите <strong>Добавить новое
устройство</strong> → далее <strong>Выбрать устройство из списка</strong> → На устройстве и ПК
подтвердите предложенный код.</p>
</div>
<div class="paragraph">
<p>Выполните для ОС с графическим окружением <code>MATE</code>:</p>
</div>
<div class="paragraph">
<p>Нажмите ПКМ на значок <code>bluetooth</code> на панели задач → выберите <strong>Устройства &#8230;&#8203;</strong>.
Нажмите <strong>Найти</strong>. Выберите найденное устройство ПКМ и нажмите <strong>Подключиться</strong>.
При необходимости подтвердите предложенный код.</p>
</div>
<div class="paragraph">
<p>Выполните для ОС с графическим окружением <code>XFCE</code>:</p>
</div>
<div class="paragraph">
<p>Нажмите ПКМ на значок <code>bluetooth</code> на панели задач → выберите <strong>Открыть
диспетчер устройств Bluetooth</strong>. Выберите доступное устройство в «Диспетчер
устройств Bluetooth». При необходимости подтвердите предложенный код.</p>
</div>
<div class="paragraph">
<p>Проверка работы звука через <code>bluetooth</code>-наушники в <code>KDE</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Нажмите значок <strong>Громкость</strong> на панели задач и выберите подключенное
устройство <code>bluetooth</code>;</p>
</li>
<li>
<p>в терминале выполните команду:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong>$ speaker-test -c5 -twav</strong></code></pre>
</div>
</div>
<div class="paragraph">
<p><em>(завершить тестовое воспроизведение можно комбинацией клавиш <code><strong>Ctrl+C</strong></code>)</em></p>
</div>
<div class="paragraph">
<p>Проверка работы звука через <code>bluetooth</code>-наушники в <code>MATE</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Нажмите значок <strong>Громкость</strong> на панели задач и выберите <strong>Параметры звука</strong>;</p>
</li>
<li>
<p>в открывшемся окне выберите вкладку <strong>Выход</strong>, а затем выберите подключённое
устройство <code>bluetooth</code>;</p>
</li>
<li>
<p>в терминале выполните команду:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong>$ speaker-test -c5 -twav</strong></code></pre>
</div>
</div>
<div class="paragraph">
<p><em>(завершить тестовое воспроизведение можно комбинацией клавиш <code><strong>Ctrl+C</strong></code>)</em></p>
</div>
<div class="paragraph">
<p>Проверка работы звука через <code>bluetooth</code>-наушники в <code>XFCE</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Нажмите значок <strong>Громкость</strong> на панели задач и выберите <strong>Звуковой микшер &#8230;&#8203;</strong>;</p>
</li>
<li>
<p>в открывшемся окне выберите вкладку <strong>Устройства вывода</strong>, а затем выберите
подключённое устройство <code>bluetooth</code>;</p>
</li>
<li>
<p>в терминале выполните команду:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong>$ speaker-test -c5 -twav</strong></code></pre>
</div>
</div>
<div class="paragraph">
<p><em>(завершить тестовое воспроизведение можно комбинацией клавиш <code><strong>Ctrl+C</strong></code>)</em></p>
</div>
<div class="paragraph">
<p>Ожидается успешное подключение и воспроизведение звука через
<code>bluetooth</code>-наушники.</p>
</div>
<div class="paragraph">
<p>Результаты заносятся в протокол тестирования. В случае ошибок добавьте их
описание.</p>
</div>
</div>
<div class="sect4">
<h5 id="_подключение_клавиатуры">10.10.10.3. Подключение клавиатуры</h5>
<div class="paragraph">
<p>Выполните для ОС с графическим окружением <code>KDE</code>:</p>
</div>
<div class="paragraph">
<p>Нажмите на значок <code>bluetooth</code> на панели задач → выберите <strong>Добавить новое
устройство</strong> → далее <strong>Выбрать устройство из списка</strong> → На устройстве и ПК
подтвердите предложенный код.</p>
</div>
<div class="paragraph">
<p>Выполните для ОС с графическим окружением <code>MATE</code>:</p>
</div>
<div class="paragraph">
<p>Нажмите ПКМ на значок <code>bluetooth</code> на панели задач → выберите <strong>Устройства &#8230;&#8203;</strong>.
Нажмите <strong>Найти</strong>. Выберите найденное устройство ПКМ и нажмите <strong>Подключиться</strong>.
При необходимости подтвердите предложенный код.</p>
</div>
<div class="paragraph">
<p>Выполните для ОС с графическим окружением <code>XFCE</code>:</p>
</div>
<div class="paragraph">
<p>Нажмите ПКМ на значок <code>bluetooth</code> на панели задач → выберите <strong>Открыть
диспетчер устройств Bluetooth</strong>. Выберите доступное устройство в «Диспетчер
устройств Bluetooth». При необходимости подтвердите предложенный код.</p>
</div>
<div class="paragraph">
<p>Проверка работы клавиатуры:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Создайте текстовый файл в любом редакторе с одним предложением
на русском языке и одним предложением на английском языке;</p>
</li>
<li>
<p>Проверьте работу функциональных клавиш согласно подразделу
<a href="#_проверка_функциональных_клавиш_клавиатуры_при_наличии">Проверка функциональных клавиш клавиатуры (при наличии)</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Ожидается успешная работа <code>bluetooth</code>-клавиатуры.</p>
</div>
<div class="paragraph">
<p>Результаты заносятся в протокол тестирования. В случае ошибок добавьте их
описание.</p>
</div>
</div>
<div class="sect4">
<h5 id="_подключение_манипулятора_мышь">10.10.10.4. Подключение манипулятора «мышь»</h5>
<div class="paragraph">
<p>Выполните для ОС с графическим окружением <code>KDE</code>:</p>
</div>
<div class="paragraph">
<p>Нажмите на значок <code>bluetooth</code> на панели задач → выберите <strong>Добавить новое
устройство</strong> → далее <strong>Выбрать устройство из списка</strong> → На устройстве и ПК
подтвердите предложенный код.</p>
</div>
<div class="paragraph">
<p>Выполните для ОС с графическим окружением <code>MATE</code>:</p>
</div>
<div class="paragraph">
<p>Нажмите ПКМ на значок <code>bluetooth</code> на панели задач → выберите <strong>Устройства &#8230;&#8203;</strong>.
Нажмите <strong>Найти</strong>. Выберите найденное устройство ПКМ и нажмите <strong>Подключиться</strong>.
При необходимости подтвердите предложенный код.</p>
</div>
<div class="paragraph">
<p>Выполните для ОС с графическим окружением <code>XFCE</code>:</p>
</div>
<div class="paragraph">
<p>Нажмите ПКМ на значок <code>bluetooth</code> на панели задач → выберите <strong>Открыть
диспетчер устройств Bluetooth</strong>. Выберите доступное устройство в «Диспетчер
устройств Bluetooth». При необходимости подтвердите предложенный код.</p>
</div>
<div class="paragraph">
<p>Проверка работы манипулятора «мышь»:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>выполните перемещение указателя в разные углы монитора;</p>
</li>
<li>
<p>произведите нажатия левой (правой) кнопки «мыши»;</p>
</li>
<li>
<p>используйте колесо прокрутки (в редакторе, файл-менеджере или браузере);</p>
</li>
<li>
<p>произведите нажатия клавиш с боковой стороны (при наличии).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Ожидается успешная работа манипулятора «мышь».</p>
</div>
<div class="paragraph">
<p>Результаты заносятся в протокол тестирования. В случае ошибок добавьте их
описание.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_проверка_разъёма_для_карт_памяти_при_наличии">10.10.11. Проверка разъёма для карт памяти (при наличии)</h4>
<div class="paragraph">
<p>Подключите SD (microSD) или CF (CompactFlash) карту через адаптер
к разъёму карт памяти.</p>
</div>
<div class="paragraph">
<p>Определите подключённое устройство. Для этого выполните команду:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong>$ lsblk</strong></code></pre>
</div>
</div>
<div class="paragraph">
<p>Смонтируйте раздел с файловой системой карты памяти, если этого не произошло
автоматически:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong>$ su -</strong>
<strong># mount /dev/sdX /mnt</strong></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>/dev/sdX</code> — раздел с файловой системой на карте памяти.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Произведите копирование произвольного файла в (из) каталог(а) <code>/mnt</code>.</p>
</div>
<div class="paragraph">
<p>Определите с какой скоростью работает карта памяти:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong>$ su -</strong>
<strong># sync &amp;&amp; echo 3 &gt; /proc/sys/vm/drop_caches</strong>
<strong># hdparm -t --direct /dev/sdX</strong>

/dev/sdX:
 Timing O_DIRECT disk reads: 48 MB in  3.06 seconds = <code><strong>15.66 MB/sec</strong></code></code></pre>
</div>
</div>
<div class="paragraph">
<p>Ожидаемый результат: устройство успешно определено ОС и присутствует
в выводе вышеуказанной команды. Устройство успешно смонтировалось и
операции копирования не вызывают ошибок.</p>
</div>
<div class="paragraph">
<p>Результаты заносятся в протокол тестирования. В случае ошибок добавьте их
описание.</p>
</div>
</div>
<div class="sect3">
<h4 id="_проверка_разъёма_для_смарт_карт_при_наличии">10.10.12. Проверка разъёма для смарт-карт (при наличии)</h4>
<div class="paragraph">
<p>Предварительно удалите пакеты мешающие работе <code>смарт-карт</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong>$ su -</strong>
<strong># apt-get remove openct pcsc-lite-openct libopenct</strong></code></pre>
</div>
</div>
<div class="paragraph">
<p>Установите пакеты для работы со <code>смарт-картами</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># apt-get install pcsc-lite-ccid libpcsclite pcsc-tools opensc pcsc-lite</strong></code></pre>
</div>
</div>
<div class="paragraph">
<p>Запустите службу <code>pcscd</code> и одноимённый сокет:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># systemctl start pcscd.service pcscd.socket</strong></code></pre>
</div>
</div>
<div class="paragraph">
<p>Подключите <code>смарт-карту</code>.</p>
</div>
<div class="paragraph">
<p>Убедитесь, что <code>смарт-карта</code> присутствует в списке USB-устройств:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong>$ lsusb</strong></code></pre>
</div>
</div>
<div class="paragraph">
<p>Убедитесь, что <code>смарт-карта</code> присутствует в выводе утилиты <code>pcsc_scan</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong>$ pcsc_scan -r</strong></code></pre>
</div>
</div>
<div class="paragraph">
<p>Ожидаемый результат: <code>смарт-карта</code> присутствует в списке USB-устройств,
а также в выводе утилиты <code>pcsc_scan</code> однозначно определяется модель
этой <code>смарт-карты</code>.</p>
</div>
<div class="paragraph">
<p>Результаты заносятся в протокол тестирования. В случае ошибок добавьте их
описание.</p>
</div>
</div>
<div class="sect3">
<h4 id="_проверка_привода_cddvdblu_ray_при_наличии">10.10.13. Проверка привода CD/DVD/Blu-ray (при наличии)</h4>
<div class="paragraph">
<p>Для проверки работы привода <code>CD/DVD/Blu-ray</code> необходимо загрузить в него
любой доступный диск CD/DVD/BD с данными и примонтировать его в систему.
Создайте каталог и смонтируйте загруженный диск:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong>$ su -</strong>
<strong># mkdir /mnt/disc &amp;&amp; mount /dev/srX /mnt/disc</strong></code></pre>
</div>
</div>
<div class="paragraph">
<p>Проверьте содержимое смонтированного диска:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># ls /mnt/disc</strong></code></pre>
</div>
</div>
<div class="paragraph">
<p>Ожидаемый результат: со смонтированного диска удаётся прочитать его содержимое.</p>
</div>
<div class="paragraph">
<p>Результаты тестов заносятся в протокол тестирования. В случае ошибок добавьте
их описание.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_контрольная_проверка_сообщений_ядра">10.11. Контрольная проверка сообщений ядра</h3>
<div class="paragraph">
<p>Если планируются <a href="#_дополнительные_проверки">Дополнительные проверки</a> из раздела 11, пропустите сейчас
данный шаг и выполните его после всех опциональных проверок. По окончанию
тестирования сохраните и приложите полный лог ядра, просмотрите концовку
полученного файла и убедитесь, что не возникло новых ошибок и предупреждений:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># dmesg -H -P --color=always | gzip &gt; dmesg_final.gz</strong></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_дополнительные_проверки"> 11. Дополнительные проверки</h2>
<div class="sectionbody">
<div class="paragraph">
<p>В настоящем разделе описаны дополнительные (необязательные) тесты,
которые занимают продолжительное время, требуют специального оборудования
или расходных материалов, либо сопряжены с определёнными рисками для
проверяемого компьютера. Отдельные тесты из этой части выполняются только
после обоснования необходимости и при наличии взаимных договорённостей.
По умолчанию их не следует выполнять.</p>
</div>
<div class="sect2">
<h3 id="_производительность_дисковой_подсистемы">11.1. Производительность дисковой подсистемы</h3>
<div class="paragraph">
<p>Проверка используется для относительного сравнения результатов, полученных
в различных окружениях. Например, для сравнения производительности в
разных дистрибутивах одного и того же оборудования или, наоборот, разного
оборудования в одном и том же дистрибутиве при запуске с одинаковыми
параметрами. Также с его помощью можно определить предельные скоростные
характеристики для некоторых сценариев типовой нагрузки.</p>
</div>
<div class="paragraph">
<p>Данный тест ориентирован на проверку нижележащего блочного устройства,
такого, как <code>SSD</code>, <code>NVMe</code>, диск с вращающимся шпинделем, <code>RAID</code>-массив,
<code>USB</code>-флеш, <code>SD</code>-карта, и т.п., Также он может быть использован для определения
производительности более высокоуровневых структур диска, таких как <code>LVM</code>,
MD RAID или том с файловой системой — для этого достаточно внести небольшие
изменения в конфигурационный файл.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Если для тестирования используется нижележащее блочное устройство,
то оно не должно быть смонтированным, не должно содержать файловую систему
и полезных данных, поскольку в процессе тестирования будет перезаписано!
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_использование_раздела_swap">11.1.1. Использование раздела SWAP</h4>
<div class="paragraph">
<p>Для тестирования производительности диска, на котором уже установлена ОС Альт,
можно временно задействовать раздел <strong>SWAP</strong>. Перед тестированием необходимо
куда-нибудь сохранить <strong>LABEL</strong> и <strong>UUID</strong> раздела <strong>SWAP</strong>, отключить его и
очистить:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># blkid /dev/sdb1</strong>
<strong># swapoff /dev/sdb1</strong>
<strong># wipefs -a /dev/sdb1</strong></code></pre>
</div>
</div>
<div class="paragraph">
<p>Где <code>/dev/sdb1</code> — блочное устройство, на котором расположен раздел <strong>SWAP</strong>,
и где будет выполняться последующее тестирование. Будьте внимательны, т.к.
в вашем случае раздел может называться иначе. Интересующие нас <strong>LABEL</strong> и
<strong>UUID</strong> выведет первая команда (<strong>blkid</strong>).</p>
</div>
<div class="paragraph">
<p>По окончанию тестирования необходимо вернуть всё обратно:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># wipefs -a /dev/sdb1</strong>
<strong># mkswap -L <code>&lt;LABEL&gt;</code> -U <code>&lt;UUID&gt;</code> /dev/sdb1</strong>
<strong># swapon /dev/sdb1</strong></code></pre>
</div>
</div>
<div class="paragraph">
<p>Где:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>/dev/sdb1</code> — блочное устройство, на котором будет восстановлен
раздел <strong>SWAP</strong>;</p>
</li>
<li>
<p><code>-L &lt;LABEL&gt;</code> — данный параметр задаётся только в том случае,
если раздел <strong>SWAP</strong> должен иметь определённую метку тома;</p>
</li>
<li>
<p><code>-U &lt;UUID&gt;</code> — данный параметр обязателен, в нём указывается <strong>UUID</strong>
раздела <strong>SWAP</strong>.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_подготовка_к_тестированию">11.1.2. Подготовка к тестированию</h4>
<div class="paragraph">
<p>Установите утилиту <code>fio</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong>$ su -</strong>
<strong># apt-get install fio</strong></code></pre>
</div>
</div>
<div class="paragraph">
<p>Создайте конфигурационный файл для <code>fio</code> примерно такого содержания:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># cat test.ini</strong>
filename=/dev/sdb1
ioengine=libaio
time_based=1
runtime=300
size=8g
group_reporting=1
direct=1
end_fsync=1</code></pre>
</div>
</div>
<div class="paragraph">
<p>Где наиболее важными являются следующие параметры:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>filename=/dev/sdb1</code> — тестируемое блочное устройство. Если планируется
тестировать несколько блочных устройств, то перед тестированием каждого
нужно это значение скорректировать. <strong>Ошибка в имени диска влечёт потерю
данных!</strong> Если планируется тестирование поверх файловой системы, то вместо
<strong>filename=&lt;имя&gt;</strong> лучше использовать <strong>directory=&lt;путь&gt;</strong> — в этом случае
тестовые файлы будут создаваться в указанном каталоге;</p>
</li>
<li>
<p><code>time_based=1</code> — означает, что тестирование должно проводиться на
протяжении заданного отрезка времени и не зависеть от объёма ввода/вывода;</p>
</li>
<li>
<p><code>runtime=300</code> — каждый тест будет выполняться 300 секунд (5 минут);</p>
</li>
<li>
<p><code>size=8g</code> — объём тестовых данных, если планируется тестирование поверх
файловой системы. Этот размер должен быть, по крайней мере, вдвое больше
объёма ОЗУ, чтобы исключить кэширование. При тестировании на блочном
устройстве данный параметр необязателен, можно не ограничивать объём
записываемой и считываемой информации;</p>
</li>
<li>
<p><code>direct=1</code> — для большинства нижележащих блочных устройств рекомендуется
включить прямой ввод/вывод (Direct I/O), но некоторые устройства и
файловые системы его не поддерживают. Если увидите сообщение об ошибке,
просто поменяйте это значение на 0.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_одиночный_процесс_случайной_записи_блоками_4кб">11.1.3. Одиночный процесс случайной записи блоками 4Кб</h4>
<div class="paragraph">
<p>Данный тест моделирует типовую нагрузку «хорошо загруженного рабочего стола
с множеством приложений», например, как при копировании домашних каталогов
или DOT-файлов, манипуляциях с электронной почтой, некоторых операциях с
базами данных и деревьями исходного кода. По сути, это худшая из возможных
рабочих нагрузок для любого диска.</p>
</div>
<div class="paragraph">
<p>Создайте конфигурационный файл для <code>fio</code> следующего содержания:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># cat rndw-4k.fio</strong>
[randow-write-4k]
rw=randwrite
buffered=0
include test.ini</code></pre>
</div>
</div>
<div class="paragraph">
<p>Запустите длительный процесс тестирования:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># fio rndw-4k.fio |tee rndw-4k.log</strong></code></pre>
</div>
</div>
<div class="paragraph">
<p>Результат будет выведен на терминал и сохранён в файл <strong>rndw-4k.log</strong>.
Приложите этот файл к остальным журналам и протоколу.</p>
</div>
</div>
<div class="sect3">
<h4 id="_шестнадцать_процессов_случайной_записи_блоками_64кб">11.1.4. Шестнадцать процессов случайной записи блоками 64Кб</h4>
<div class="paragraph">
<p>Данный тест моделирует типовую нагрузку «хорошо загруженного файлового
сервера». Когда несколько человек или процессов пытаются записывать большие
файлы (фотографии, фильмы и т.п.) одновременно, ОС будет пытаться передавать
все данные так же одновременно, что довольно быстро сведётся к модели
множественного случайного доступа к небольшим блокам.</p>
</div>
<div class="paragraph">
<p>Создайте конфигурационный файл для <code>fio</code> примерно такого содержания:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># cat rndw-64k.fio</strong>
[random-write-64k]
rw=randwrite
bs=64k
numjobs=16
iodepth=32
filesize=512m
include test.ini</code></pre>
</div>
</div>
<div class="paragraph">
<p>Где:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>numjobs=16</code> — число параллельно выполняемых процессов задания записи;</p>
</li>
<li>
<p><code>iodepth=32</code> — глубина очереди команд, позволяющей оптимизировать
последовательность записей блоков на диск в ряде сценариев;</p>
</li>
<li>
<p><code>filesize=512m</code> — при тестировании нижележащего блочного устройства
данный параметр не следует указывать, а при тестировании поверх файловой
системы, если в <strong>test.ini</strong> был указан общий размер тестирования, здесь
нужно указать 1/16 от этого размера (512Мб * 16 = 8Гб), т.е. каждый из
16 процессов будет работать со своим файлом размером 512Мб.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Запустите длительный процесс тестирования:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># fio rndw-64k.fio |tee rndw-64k.log</strong></code></pre>
</div>
</div>
<div class="paragraph">
<p>Результат будет выведен на терминал и сохранён в файл <strong>rndw-64k.log</strong>.
Приложите этот файл к остальным журналам и протоколу.</p>
</div>
</div>
<div class="sect3">
<h4 id="_одиночный_процесс_случайной_записи_блоками_1мб">11.1.5. Одиночный процесс случайной записи блоками 1Мб</h4>
<div class="paragraph">
<p>Данный тест моделирует типовую нагрузку «наиболее реалистичного верхнего
предела производительности хранилища в типичной системе», что довольно
близко к лучшему сценарию для системы, выполняющей реальные задачи — не
так быстро, как одна по-настоящему непрерывная запись, но размер блока
в 1Мб достаточно велик, чтобы его можно было приблизить к этому результату
и, если одновременно с непрерывной записью запрашивается любая другая дисковая
активность, «непрерывная» запись почти мгновенно переходит на данный уровень
производительности.</p>
</div>
<div class="paragraph">
<p>Создайте конфигурационный файл для <code>fio</code> следующего содержания:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># cat rndw-1m.fio</strong>
[random-write-1m]
rw=randwrite
bs=1m
buffered=0
include test.ini</code></pre>
</div>
</div>
<div class="paragraph">
<p>Запустите длительный процесс тестирования:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># fio rndw-1m.fio |tee rndw-1m.log</strong></code></pre>
</div>
</div>
<div class="paragraph">
<p>Результат будет выведен на терминал и сохранён в файл <strong>rndw-1m.log</strong>.
Приложите этот файл к остальным журналам и протоколу.</p>
</div>
</div>
<div class="sect3">
<h4 id="_одиночный_процесс_последовательной_записи_блоками_1мб">11.1.6. Одиночный процесс последовательной записи блоками 1Мб</h4>
<div class="paragraph">
<p>Данный тест моделирует редко встречаемую в реальной жизни нагрузку по
типу «непрерывная запись большого файла одним процессом». Он позволяет
выяснить не очень реалистичный верхний предел пропускной способности
дисковой подсистемы в один поток выполнения. На самом деле многие
современные дисковые системы на основе <code>SSD</code>, <code>NVMe</code>, <code>SAS</code>, <code>SCSI</code>
и <code>FC</code> спроектированы для параллельной нагрузки и могут показывать
на такой нагрузке более хорошие результаты.</p>
</div>
<div class="paragraph">
<p>Создайте конфигурационный файл для <code>fio</code> следующего содержания:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># cat seqw-1m.fio</strong>
[seq-write-1m]
rw=write
bs=1m
buffered=0
include test.ini</code></pre>
</div>
</div>
<div class="paragraph">
<p>Запустите длительный процесс тестирования:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># fio seqw-1m.fio |tee seqw-1m.log</strong></code></pre>
</div>
</div>
<div class="paragraph">
<p>Результат будет выведен на терминал и сохранён в файл <strong>seqw-1m.log</strong>.
Приложите этот файл к остальным журналам и протоколу.</p>
</div>
</div>
<div class="sect3">
<h4 id="_одиночный_процесс_последовательного_чтения_блоками_1мб">11.1.7. Одиночный процесс последовательного чтения блоками 1Мб</h4>
<div class="paragraph">
<p>Данный тест аналогичен предыдущему с той лишь разницей, что данные
последовательно читаются с диска блоками 1Мб, а не записываются на него.</p>
</div>
<div class="paragraph">
<p>Создайте конфигурационный файл для <code>fio</code> следующего содержания:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># cat seqr-1m.fio</strong>
[seq-read-1m]
rw=read
bs=1m
include test.ini</code></pre>
</div>
</div>
<div class="paragraph">
<p>Запустите длительный процесс тестирования:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># fio seqr-1m.fio |tee seqr-1m.log</strong></code></pre>
</div>
</div>
<div class="paragraph">
<p>Результат будет выведен на терминал и сохранён в файл <strong>seqr-1m.log</strong>.
Приложите этот файл к остальным журналам и протоколу.</p>
</div>
</div>
<div class="sect3">
<h4 id="_интерпретация_и_фиксация_результатов">11.1.8. Интерпретация и фиксация результатов</h4>
<div class="paragraph">
<p>Производительность любой дисковой подсистемы характеризуется следующими
основными показателями:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Суммарной пропускной способностью (bandwidth), т.е. объёмом данных,
который можно считать или записать на диск за единицу времени при
характерной нагрузке;</p>
</li>
<li>
<p>Числом операций ввода/вывода за единицу времени (IOPs);</p>
</li>
<li>
<p>Размером операций ввода/вывода (block size);</p>
</li>
<li>
<p>Задержками (отзывчивостью) ввода/вывода, определяющими, сколько времени
при характерной нагрузке пройдёт до того, как запрошенная операция будет
полностью выполнена (completion latency), причём следует иметь в виду, что
рост этого показателя возможен ещё из-за роста глубины очереди операций
ввода/вывода;</p>
</li>
<li>
<p>Производительностью шины подключения диска, которая не должна становиться
узким местом для операций ввода/вывода;</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>При замерах производительности дисковой подсистемы необходимо учитывать
нагрузку на ЦП, ресурсы которого занимаются для выполнения операций в/в,
поскольку эта нагрузка снижает отзывчивость системы для выполнения других
операций, в том числе, в/в с другими дисками.</p>
</div>
<div class="paragraph">
<p>Разберём на примере результаты одного из тестов:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong>*random-write-64k</strong>: (groupid=0, jobs=16): err= 0: pid=4363: Tue Aug 29 10:22:41 2023
  write: IOPS=19.2k, BW=1202MiB/s (1261MB/s)(352GiB/300038msec); 0 zone resets
    slat (usec): min=2, max=378504, avg=17.09, stdev=814.95
    clat (<code>usec</code>): min=150, max=701891, avg=<code>26594.13</code>, stdev=41064.37
     lat (usec): min=172, max=701908, avg=26611.31, stdev=41077.08
    clat percentiles (usec):
     |  1.00th=[  1057],  5.00th=[  1418], 10.00th=[  1418], 20.00th=[  1467],
     | 30.00th=[  4293], 40.00th=[  7177], 50.00th=[ 10028], 60.00th=[ 12780],
     | 70.00th=[ 15795], 80.00th=[ 49546], 90.00th=[ 87557], 95.00th=[120062],
     | 99.00th=[175113], 99.50th=[193987], 99.90th=[270533], 99.95th=[304088],
     | 99.99th=[387974]
   bw (  MiB/s): min=  113, max= 7251, per=100.00%, avg=<code>1204.03</code>, stdev=60.23, samples=9584
   iops        : min= 1814, max=116025, avg=<code>19262.98</code>, stdev=963.73, samples=9584
  lat (usec)   : 250=0.01%, 500=0.20%, 750=0.40%, 1000=0.28%
  lat (msec)   : 2=20.82%, 4=6.58%, 10=21.65%, 20=25.85%, 50=4.24%
  lat (msec)   : 100=12.02%, 250=7.83%, 500=0.12%, 750=0.01%
  cpu          : usr=<code>0.94%</code>, sys=<code>0.91%</code>, ctx=<code>5194503</code>, majf=0, minf=226
  IO depths    : 1=0.1%, 2=0.1%, 4=0.1%, 8=0.1%, 16=0.1%, 32=100.0%, &gt;=64=0.0%
     submit    : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, &gt;=64=0.0%
     complete  : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.1%, 64=0.0%, &gt;=64=0.0%
     issued rwts: total=0,5772156,0,0 short=0,0,0,0 dropped=0,0,0,0
     latency   : target=0, window=0, percentile=100.00%, depth=32</code></pre>
</div>
</div>
<div class="paragraph">
<p>Здесь:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>iops avg=19262.98</code> означает более <strong>19.2 тыс.</strong> операций в секунду, в среднем;</p>
</li>
<li>
<p><code>bw avg=1204.03</code> означает пропускную способность (bandwidth) в <strong>1204 MiB/s</strong>,
в среднем;</p>
</li>
<li>
<p><code>clat avg=26594.13</code> означает, что в среднем отзывчивость (задержка или
<strong>average completion latency</strong>) составляет <strong>26.6 ms</strong> на операцию в/в, это
весьма большой показатель, т.к. на многих системах лаги (проседание
производительности или «тормоза») начинают ощущаться при показателе
более 20 ms.</p>
</li>
<li>
<p><code>cpu usr=0.94%, sys=0.91%, ctx=5194503</code> показывают умеренную нагрузку на CPU
в userspace и ядре при в/в с этим диском, несмотря на интенсивность смены
контекста.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Окончательные результаты по каждому проверенному диску заносятся в протокол
в табличном виде. В случае ошибок добавьте их описание. Задержки (clat) при
вводе в таблицу проще сразу переводить в микросекунды (usec), исходя из того,
что 1 <strong>msec</strong> = 1000 <strong>usec</strong> и 1 <strong>usec</strong> = 1000 <strong>nsec</strong>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Полученные результаты не характеризуют предельные характеристики диска,
заявленные производителем, они не могут использоваться для сравнения с данными
из спецификации оборудования, для этого необходимо совсем другое тестирование.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>По окончанию тестирования всех дисков, используя команду <code>dmesg</code>, убедитесь,
что в буфере сообщений ядра не появилось новых ошибок и предупреждений.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_производительность_видеоподсистемы">11.2. Производительность видеоподсистемы</h3>
<div class="paragraph">
<p>Выполняется при наличии 3D-ускорения и доступности графического сеанса в ОС.</p>
</div>
<div class="paragraph">
<p>Установите утилиту <code>glmark2</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong>$ su -</strong>
<strong># apt-get install glmark2</strong></code></pre>
</div>
</div>
<div class="paragraph">
<p>Запустите тест и дождитесь его завершения:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong>$ glmark2 2&gt;&amp;1 | tee glmark2.log</strong>
=======================================================
    glmark2 2021.12
=======================================================
    OpenGL Information
    GL_VENDOR:     NVIDIA Corporation
    GL_RENDERER:   NVIDIA GeForce GT 730/PCIe/SSE2
    GL_VERSION:    4.6.0 NVIDIA 470.129.06
=======================================================
[build] use-vbo=false: FPS: 1506 FrameTime: 0.664 ms
[build] use-vbo=true: FPS: 1679 FrameTime: 0.596 ms
[texture] texture-filter=nearest: FPS: 1367 FrameTime: 0.732 ms
[texture] texture-filter=linear: FPS: 1356 FrameTime: 0.737 ms
...
[loop] fragment-steps=5:fragment-uniform=true:vertex-steps=5: FPS: 1217 FrameTime: 0.822 ms
=======================================================
                                  glmark2 Score: <code><strong>1171</strong></code>
=======================================================</code></pre>
</div>
</div>
<div class="paragraph">
<p>Убедитесь, что тест закончился без ошибок. Используя команду <code>dmesg</code>,
убедитесь, что в буфере сообщений ядра не появилось новых ошибок и
предупреждений.</p>
</div>
<div class="paragraph">
<p>Результаты заносятся в протокол тестирования. В случае ошибок добавьте их
описание.</p>
</div>
</div>
<div class="sect2">
<h3 id="_проверка_расширителя_портов_при_наличии">11.3. Проверка расширителя портов (при наличии)</h3>
<div class="paragraph">
<p>Расширитель портов (<strong>Port Extender</strong>, другое название: <strong>Dock Station</strong> или
<code>док-станция</code>) должен быть штатным (возможно дополнительным) аксессуаром
проверяемого компьютера, того же производителя, что и основное устройство.
Данный тест не предназначен для проверки универсальных расширителей портов.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Подключите к основному устройству <code>док-станцию</code> через соответствующий порт.</p>
</li>
<li>
<p>Подключите к <code>док-станции</code> монитор с разрешением <strong>FullHD</strong> (1920×1080) или с
более высоким через имеющийся видеовыход: Thunderbolt, HDMI, DisplayPort, VGA.</p>
</li>
<li>
<p>Подключите к <code>док-станции</code> «мышь», клавиатуру и другую периферию через
имеющиеся порты.</p>
</li>
<li>
<p>Проведите тестирование подсистемы вывода изображения согласно подразделу
<a href="#_проверка_видеоподсистемы">Проверка видеоподсистемы</a>. Проверить необходимо все имеющиеся видеовыходы.</p>
</li>
<li>
<p>Проведите тестирование звуковой подсистемы согласно подразделу
<a href="#_проверка_аудио_портов_при_наличии">Проверка аудио портов (при наличии)</a>. Проверить необходимо все имеющиеся
аудиовыходы.</p>
</li>
<li>
<p>Проведите тестирование остальных портов и интерфейсов согласно подразделу
<a href="#_проверка_встроенной_периферии">Проверка встроенной периферии</a>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>В результате данного тестирования ожидается:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>корректная передача изображения на монитор(ы) через <code>док-станцию</code>;</p>
</li>
<li>
<p>корректный вывод звука через имеющиеся аудиопорты и мультимедиа монитор(ы);</p>
</li>
<li>
<p>корректное взаимодействие с другой периферией через <code>док-станцию</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Все проверенные порты и результаты заносятся в протокол тестирования. В случае
ошибок добавьте их описание. Используя команду <code>dmesg</code>, убедитесь, что в буфере
сообщений ядра не появилось новых ошибок и предупреждений.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_приложения"> 12. Приложения</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_переключение_на_более_новое_ядро">12.1. Переключение на более новое ядро</h3>
<div class="paragraph">
<p>Переключение с ядра <code>std-def</code> на более новое ядро <code>un-def</code> доступно не
во всех дистрибутивах ОС Альт и может использоваться только в случае
обнаружения проблем совместимости, не решаемых иным способом. После
переключения на ядро <code>un-def</code> тестирование по данной методике придётся
повторить заново. Переключение следует выполнять только на обновлённой
системе, см. раздел <a href="#_обновление_ос_до_актуального_состояния">Обновление ОС до актуального состояния</a>.</p>
</div>
<div class="paragraph">
<p>Стандартное ядро (<code>std-def</code>) до переключения:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong>$ uname -a</strong>
Linux host-224 <code><strong>5.10.117-std-def</strong></code>-alt1 #1 SMP Wed May 18 12:57:04 UTC 2022 x86_64 GNU/Linux</code></pre>
</div>
</div>
<div class="paragraph">
<p>Получите права пользователя <code>root</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong>$ su -</strong></code></pre>
</div>
</div>
<div class="paragraph">
<p>Обновите индексы репозитория:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># apt-get update</strong></code></pre>
</div>
</div>
<div class="paragraph">
<p>Переключитесь на более новое ядро (<code>un-def</code>):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># update-kernel -t un-def</strong></code></pre>
</div>
</div>
<div class="paragraph">
<p>Перезагрузите компьютер и убедитесь, что используется новое ядро (<code>un-def</code>):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># reboot</strong></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong>$ uname -a</strong>
Linux host-224 <code><strong>6.1.34-un-def</strong></code>-alt1 #1 SMP PREEMPT_DYNAMIC Wed Jun 21 13:23:41 UTC 2023 x86_64 GNU/Linux</code></pre>
</div>
</div>
<div class="paragraph">
<p>После переключение на ядро <code>un-def</code> можно удалить старые не нужные ядра:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong>$ su -</strong>
<strong># remove-old-kernels</strong></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_рекомендации_при_возникновении_проблем">12.2. Рекомендации при возникновении проблем</h3>
<div class="paragraph">
<p>При возникновении проблем загрузки ОС Альт попробуйте следующие варианты
решения:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>отключить смешанный режим загрузки — на x86_64 он должен быть строго
какой-то один: либо <code>UEFI</code>, либо <code>Legacy/CSM</code>;</p>
</li>
<li>
<p>в режиме загрузки <code>UEFI</code> отключить все оптимизации и ускорения загрузки,
если таковые включены;</p>
</li>
<li>
<p>отключить механизм <code>SecureBoot</code>, если он используется и с ним возникли
проблемы. После установки ОС стоит попробовать включить <code>SecureBoot</code> обратно;</p>
</li>
<li>
<p>использовать безопасный режим загрузки или дополнительные опции. В случае
проблем с видеовыводом можно использовать следующие опции ядра: <code>vga=normal
nomodeset nosplash xdriver=fbdev</code> (<code>UEFI</code>) или <code>xdriver=vesa</code> (<code>Legacy/CSM</code>);</p>
</li>
<li>
<p>внимательное изучение сообщений в выводе <code>dmesg</code> может натолкнуть на
подсказку правильного решения проблемы;</p>
</li>
<li>
<p>возможно, решение именно этой проблемы уже описано здесь:
<a href="https://www.altlinux.org/Первая_помощь" class="bare">https://www.altlinux.org/Первая_помощь</a></p>
</li>
<li>
<p>если не помогло ничего из перечисленного выше, посмотрите, доступно ли в
дистрибутиве альтернативное ядро. Если доступно, тогда попробуйте загрузиться
с ним. Если это поможет, процесс тестирования придётся повторить заново;</p>
</li>
<li>
<p>если решения не нашлось, попробуйте обновить <code>BIOS</code>/<code>UEFI Firmware</code>, после
чего повторите процесс тестирования заново;</p>
</li>
<li>
<p>если ничего не помогло, обратитесь в <strong>службу обеспечения совместимости</strong>
ООО «Базальт СПО», соберите и пришлите всю диагностику, подробно опишите
возникшую проблему.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_видеофиксация_процесса_тестирования">12.3. Видеофиксация процесса тестирования</h3>
<div class="paragraph">
<p>Требования к видеофиксации:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>в видео должен быть зафиксирован полный процесс тестирования;</p>
</li>
<li>
<p>в начале видео должна быть информация о модели компьютера и показан
его общий вид;</p>
</li>
<li>
<p>в процессе тестирования экран или отдельно проверяемые элементы на нём
должны показываться максимально крупным планом;</p>
</li>
<li>
<p>переходы между сценами должны быть плавными, без резких движений;</p>
</li>
<li>
<p>видео снимается с разрешением <code>FullHD</code> (1920×1080 точек);</p>
</li>
<li>
<p>видео снимается с частотой кадров не менее 24 в секунду;</p>
</li>
<li>
<p>видео снимается непрерывно, со звуком, в ландшафтном виде;</p>
</li>
<li>
<p>видео записывается в любом распространённом формате, типа MPEG4.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>См. также:
<a href="https://disk.yandex.ru/i/E8n-wrpm3yah-A">пример видеозаписи экспресс-теста</a>
и
<a href="https://disk.yandex.ru/i/sb-L2ouIIZ961w">пример видеозаписи проверки режима локальной загрузки</a>
<code>UEFI</code>+<code>SecureBoot</code>.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="_пример_заполнения_титульного_листа">12.4. Пример заполнения титульного листа</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Дата и место тестирования</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>29.08.2023</strong>, отдел тестирования ООО «Базальт СПО»</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Версия методики</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.1 от 19.09.2023</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Версия ядра ОС</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.1.42-un-def-alt1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Дистрибутив<br>
<strong>Альт Рабочая станция К 10</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>ISO: <strong>alt-kworkstation-10.1-install-x86_64.iso</strong><br>
MD5: c1e5326723ffacff16761beda9293f14</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Модель компьютера</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ноутбук <strong>Lenovo IdeaPad 520-15IKB</strong> (80YL005GRK)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Конфигурация</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>Процессор</strong>: Intel® Core™ i7 7500U 2.4 ГГц<br>
<strong>Память</strong>: RAM 8Гб (до 32Гб DDR4), SSD 256Гб<br>
<strong>Видео</strong>: Intel® HD Graphics 620, Nvidia GeForce 940MX<br>
<strong>Экран</strong>: 15.6”, 1920х1080 IPS, 60 Гц<br>
<strong>Беспроводная связь</strong>: Wi-Fi 802.11 b/g/n/ac, Bluetooth 4.1<br>
<strong>Порты</strong>: 1xHDMI, 2xUSB-A 3.0, 1xUSB-C 3.1, 1xRJ45 1Гбит,<br>
1xMiniJack 3.5mm, 1 разъём карт памяти SD/SDHC/MMC</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Выбранный режим загрузки</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>UEFI + SecureBoot</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ссылка на результаты</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>&lt;URL&gt;</strong></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Мнение тестировщика</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Совместимы</strong></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Успешно пройденные тесты</strong> (заполняется службой обеспечения совместимости):</p>
</div>
<div class="paragraph">
<p>Проверка режимов загрузки системы;
установка и обновление ОС;
проверка и сохранение журналов;
сбор информации о системе и оборудовании;
сравнение конфигурации со спецификацией оборудования;
экспресс-тест основных компонентов;
проверка CPU под нагрузкой;
проверка Ethernet и Wi-Fi;
проверка производительности сетевых интерфейсов;
проверка видеоподсистемы и звуковой подсистемы;
проверка производительности интерфейсов блочных устройств;
проверка ACPI и функций энергосбережения;
проверка встроенной периферии;
производительность дисковой подсистемы;
производительность видеоподсистемы.</p>
</div>
<div class="paragraph">
<p><strong>Обнаруженные проблемы и способы их решения или обхода</strong>:<br>
<em>(пример того, что могло бы тут быть, т.к. реальных проблем не выявлено)</em></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Скринсейвер блокирует взаимодействие с элементами интерфейса при
переходе в спящий и ждущий режимы путём закрытия крышки ноутбука
(<a href="https://bugzilla.altlinux.org/show_bug.cgi?id=38418#c11" class="bare">https://bugzilla.altlinux.org/show_bug.cgi?id=38418#c11</a>). Ожидаемо,
так как это известная проблема Xfce4 в дистрибутиве.</p>
</li>
<li>
<p>Не работает сканер отпечатка пальца (<a href="https://bugzilla.altlinux.org/46235" class="bare">https://bugzilla.altlinux.org/46235</a>).
Ожидаемо, так как данный сканер не поддерживается апстримом.</p>
</li>
<li>
<p>Имеется отклонение от спецификации в частотах CPU при нагрузке и без.</p>
</li>
<li>
<p>Имеется десять не критичных, но видимых на экране ошибок ACPI BIOS.</p>
</li>
</ol>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="_пример_заполнения_протокола_тестирования">12.5. Пример заполнения протокола тестирования</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 90.625%;">
<col style="width: 9.375%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">N. ШАГ (команда/действие, вывод, комментарии)</th>
<th class="tableblock halign-left valign-top">СТАТУС</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3. <a href="#_проверка_режимов_загрузки_системы">Проверка режимов загрузки системы</a></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.2. <a href="#_загрузка_средствами_ipmi">Загрузка средствами IPMI</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="skipped">SKIPPED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.3. <a href="#_локальная_загрузка">Локальная загрузка</a></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.3.1. <a href="#_установка_ос_в_режиме_загрузки_uefi">Установка ОС в режиме загрузки UEFI</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="passed">PASSED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.3.2. <a href="#_восстановление_ос_в_режиме_загрузки_uefi">Восстановление ОС в режиме загрузки UEFI</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="passed">PASSED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.3.4. <a href="#_установка_ос_в_режиме_загрузки_legacycsm">Установка ОС в режиме загрузки Legacy/CSM</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="passed">PASSED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.3.5. <a href="#_восстановление_ос_в_режиме_загрузки_legacycsm">Восстановление ОС в режиме загрузки Legacy/CSM</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="passed">PASSED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.4. <a href="#_сетевая_загрузка">Сетевая загрузка</a></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.4.4. <a href="#_проверка_возможности_загрузки_дистрибутивного_образа">Проверка возможности загрузки дистрибутивного образа</a> <em>(HTTPClient без SB)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="passed">PASSED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.4.6. <a href="#_aoe_загрузка_средствами_пнс_на_вк_эльбрус">AoE-загрузка средствами ПНС на ВК «Эльбрус»</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="skipped">SKIPPED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4. <a href="#_проверка_возможности_установки_ос">Проверка возможности установки ОС</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="passed">PASSED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5. <a href="#_обновление_ос_до_актуального_состояния">Обновление ОС до актуального состояния</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="passed">PASSED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6. <a href="#_проверка_возможности_обновления_прошивки_компонентов_оборудования">Проверка возможности обновления прошивки компонентов оборудования</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="skipped">SKIPPED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7. <a href="#_проверка_и_сохранение_журналов">Проверка и сохранение журналов</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="passed">PASSED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8. <a href="#_информация_о_системе_и_оборудовании">Информация о системе и оборудовании</a></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.2. <a href="#_сбор_информации_о_системе_и_оборудовании">Сбор информации о системе и оборудовании</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="passed">PASSED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.3. <a href="#_сравнение_конфигурации_со_спецификацией_оборудования">Сравнение конфигурации со спецификацией оборудования</a></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>8.3.1. <a href="#_проверка_cpu_и_материнской_платы">Проверка CPU и материнской платы</a></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># inxi -CM</strong>
Machine:
  Type: Laptop System: LENOVO product: 80YL v: Lenovo ideapad 520-15IKB
  serial: PF0TSVUR
  Mobo: LENOVO model: LNVNB161216 v: SDK0J40688 WIN serial: PF0TSVUR
  UEFI: LENOVO v: 4WCN39WW date: 02/24/2018
CPU:
  Info: Dual Core model: Intel Core i7-7500U bits: 64 type: MT
  MCP cache: L2: 4 MiB
  Speed: 2900 MHz min/max: 400/3500 MHz Core speeds (MHz):
  1: 2900 2: 803 3: 863 4: 899</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="passed">PASSED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>8.3.2. <a href="#_проверка_оперативной_памяти">Проверка оперативной памяти</a></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># inxi -m</strong>
Memory:
  RAM: total: 7.54 GiB used: 1.25 GiB (16.6%)
  Array-1: capacity: 32 GiB slots: 2 EC: None
  Device-1: ChannelA-DIMM0 size: 4 GiB speed: 2133 MT/s
  Device-2: ChannelB-DIMM0 size: 4 GiB speed: 2133 MT/s</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="passed">PASSED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>8.3.3. <a href="#_проверка_дисковой_подсистемы">Проверка дисковой подсистемы</a></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># inxi -D</strong>
Drives:
  Local Storage: total: 238.47 GiB used: 19.56 GiB (8.2%)
  ID-1: /dev/sda vendor: SK Hynix model: HFS256G3BTND-N210A size: 238.47 GiB</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="passed">PASSED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>8.3.4. <a href="#_проверка_подсистемы_вывода_изображения">Проверка подсистемы вывода изображения</a></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># inxi -G</strong>
Graphics:
  Device-1: Intel HD Graphics 620 driver: i915 v: kernel
  Device-2: NVIDIA GM108M [GeForce 940MX] driver: nvidia v: 535.86.05
  Device-3: Acer EasyCamera type: USB driver: uvcvideo
  Display: server: X.Org 1.20.14 driver: loaded: modesetting,nvidia
  unloaded: fbdev,vesa resolution: 1: 1920x1080 2: 1920x1080~60Hz
  OpenGL: renderer: llvmpipe (LLVM 11.0.1 256 bits) v: 4.5 Mesa 23.1.5</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="passed">PASSED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>8.3.5. <a href="#_проверка_наличия_3d_ускорения">Проверка наличия 3D-ускорения</a></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong>$ glxinfo | grep 'direct rendering'</strong>
direct rendering: <code><strong>Yes</strong></code></code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="passed">PASSED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>8.3.6. <a href="#_проверка_возможностей_привода_cddvdblu_ray">Проверка возможностей привода CD/DVD/Blu-ray</a></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong>$ cat /proc/sys/dev/cdrom/info</strong>
CD-ROM information, Id: cdrom.c 3.20 2003/12/17

drive name:             sr0
drive speed:            125
drive # of slots:       1
Can close tray:         1
Can open tray:          1
Can lock tray:          1
Can change speed:       1
Can select disk:        0
Can read multisession:  1
Can read MCN:           1
Reports media changed:  1
Can play audio:         1
Can write CD-R:         1
Can write CD-RW:        1
Can read DVD:           1
Can write DVD-R:        1
Can write DVD-RAM:      0
Can read MRW:           1
Can write MRW:          1
Can write RAM:          1</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="passed">PASSED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9. <a href="#_экспресс_тест_основных_компонентов">Экспресс-тест основных компонентов</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="passed">PASSED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10. <a href="#_проверка_отдельных_компонентов">Проверка отдельных компонентов</a></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>10.1. <a href="#_проверка_cpu_под_нагрузкой">Проверка CPU под нагрузкой</a></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">Спецификация: 400~3500 MHz
Без нагрузки: Core0: <strong>859</strong> Core1: <strong>636</strong> Core2: <strong>618</strong> Core3: <strong>663</strong>
С нагрузкой: Core0: <strong>3503</strong> Core1: <strong>3503</strong> Core2: <strong>3503</strong> Core3: <strong>3503</strong></code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="passed">PASSED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.2. <a href="#_проверка_сетевой_подсистемы">Проверка сетевой подсистемы</a></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.2.1. <a href="#_проверка_ethernet_при_наличии">Проверка Ethernet (при наличии)</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="passed">PASSED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.2.2. <a href="#_проверка_wi_fi_при_наличии">Проверка Wi-Fi (при наличии)</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="passed">PASSED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.2.3. <a href="#_проверка_infinibandrdma_при_наличии">Проверка Infiniband/RDMA (при наличии)</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="skipped">SKIPPED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>10.2.4. <a href="#_проверка_производительности_сетевых_интерфейсов">Проверка производительности сетевых интерфейсов</a></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"><strong># iperf3 -i 5 -t 60 -c 10.33.33.235</strong>
Connecting to host 10.33.33.235, port 5201
[  5] local 10.123.123.2 port 49808 connected to 10.33.33.235 port 5201
[ ID] Interval           Transfer     Bitrate         Retr  Cwnd
[  5]   0.00-5.00   sec   568 MBytes   953 Mbits/sec    0    468 KBytes
[  5]   5.00-10.00  sec   568 MBytes   952 Mbits/sec    0   1.08 MBytes
[  5]  10.00-15.00  sec   565 MBytes   948 Mbits/sec    0   1.13 MBytes
...
[  5]  50.00-55.00  sec   565 MBytes   948 Mbits/sec    0   1.13 MBytes
[  5]  55.00-60.00  sec   566 MBytes   950 Mbits/sec    0   1.13 MBytes
- - - - - - - - - - - - - - - - - - - - - - - - -
[ ID] Interval           Transfer     Bitrate         Retr
[  5]   0.00-60.00  sec  6.63 GBytes   <code><strong>950 Mbits/sec</strong></code>    0    sender
[  5]   0.00-60.01  sec  6.63 GBytes   <code><strong>949 Mbits/sec</strong></code>         receiver

iperf Done.</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Wi-Fi:</div>
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">Accepted connection from 10.88.144.99, port 53932
[  5] local 10.88.144.237 port 5201 connected to 10.88.144.99
[ ID] Interval           Transfer     Bitrate
[  5]   0.00-1.00   sec  10.6 MBytes  89.3 Mbits/sec
[  5]   1.00-2.00   sec  10.6 MBytes  88.9 Mbits/sec
[  5]   2.00-3.00   sec  8.72 MBytes  73.1 Mbits/sec
[  5]   3.00-4.00   sec  10.9 MBytes  91.8 Mbits/sec
[  5]   4.00-5.00   sec  7.76 MBytes  65.1 Mbits/sec</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="passed">PASSED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.3. <a href="#_проверка_видеоподсистемы">Проверка видеоподсистемы</a></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.3.1. <a href="#_проверка_режимов_работы_видеокарты">Проверка режимов работы видеокарты</a><br>
<em>(1920x1080 60hz, 1680x1050 60hz, 1440x810 60hz, 1280x720 60hz)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="passed">PASSED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.3.2. <a href="#_проверка_датчика_автоматического_поворота_экрана_при_наличии">Проверка датчика автоматического поворота экрана (при наличии)</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="skipped">SKIPPED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.3.3. <a href="#_проверка_vga_при_наличии">Проверка VGA (при наличии)</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="skipped">SKIPPED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.3.4. <a href="#_проверка_hdmi_при_наличии">Проверка HDMI (при наличии)</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="passed">PASSED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.3.5. <a href="#_проверка_displayport_при_наличии">Проверка DisplayPort (при наличии)</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="skipped">SKIPPED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.3.6. <a href="#_проверка_thunderbolt_при_наличии">Проверка Thunderbolt (при наличии)</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="skipped">SKIPPED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.3.7. <a href="#_проверка_работы_двух_подключенных_мониторов">Проверка работы двух подключенных мониторов</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="passed">PASSED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.3.8. <a href="#_проверка_работы_трёх_подключенных_мониторов">Проверка работы трёх подключенных мониторов</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="skipped">SKIPPED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.4. <a href="#_проверка_звуковой_подсистемы">Проверка звуковой подсистемы</a></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.4.1. <a href="#_проверка_встроенного_аудио_при_наличии">Проверка встроенного аудио (при наличии)</a></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.4.1.1. <a href="#_проверка_состояния_регулятора_громкости">Проверка состояния регулятора громкости</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="passed">PASSED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.4.1.2. <a href="#_проверка_воспроизведения_звука_через_терминал">Проверка воспроизведения звука через терминал</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="passed">PASSED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.4.1.3. <a href="#_проверка_изменения_громкости_в_графическом_режиме">Проверка изменения громкости в графическом режиме</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="passed">PASSED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.4.1.4. <a href="#_проверка_выключения_звука_mute">Проверка выключения звука (mute)</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="passed">PASSED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.4.1.5. <a href="#_проверка_включения_звука_unmute">Проверка включения звука (unmute)</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="passed">PASSED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.4.1.6. <a href="#_проверка_функциональных_клавиш_изменения_громкости_при_наличии">Проверка функциональных клавиш изменения громкости (при наличии)</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="passed">PASSED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.4.2. <a href="#_проверка_встроенного_микрофона_при_наличии">Проверка встроенного микрофона (при наличии)</a></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.4.2.1. <a href="#_проверка_записи_и_воспроизведения_звука_в_терминале">Проверка записи и воспроизведения звука в терминале</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="passed">PASSED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.4.2.2. <a href="#_проверка_записи_и_воспроизведения_звука_в_приложении_для_записи_звука">Проверка записи и воспроизведения звука в приложении для записи звука</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="passed">PASSED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.4.3. <a href="#_проверка_аудио_портов_при_наличии">Проверка аудио портов (при наличии)</a></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.4.3.1. <a href="#_проверка_записи_и_воспроизведения_звука_через_mini_jack3_5мм">Проверка записи и воспроизведения звука через mini-jack/3.5мм</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="passed">PASSED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.4.3.2. <a href="#_проверка_вывода_звука_через_порт_hdmidisplayportthunderbolt">Проверка вывода звука через порт HDMI/DisplayPort/Thunderbolt</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="passed">PASSED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.5. <a href="#_host_адаптеры_и_raid_контроллеры">Host-адаптеры и RAID-контроллеры</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="skipped">SKIPPED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>10.5.1. <a href="#_проверка_производительности_интерфейсов_блочных_устройств">Проверка производительности интерфейсов блочных устройств</a></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">/dev/sda:
 Timing O_DIRECT disk reads: 826 MB in  3.01 seconds = <code><strong>274.71 MB/sec</strong></code></code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="passed">PASSED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.6. <a href="#_управление_питанием_acpi">Управление питанием (ACPI)</a></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.6.1. <a href="#_управление_питанием_в_графическом_режиме">Управление питанием в графическом режиме</a></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.6.1.1. <a href="#_проверка_включениявыключения_компьютера">Проверка включения/выключения компьютера</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="passed">PASSED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.6.1.2. <a href="#_проверка_перезагрузки_компьютера">Проверка перезагрузки компьютера</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="passed">PASSED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.6.1.3. <a href="#_проверка_спящего_режима">Проверка «спящего» режима</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="passed">PASSED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.6.1.4. <a href="#_проверка_ждущего_режима">Проверка «ждущего» режима</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="passed">PASSED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.6.1.5. <a href="#_проверка_изменения_действий_при_нажатии_кнопки_питания">Проверка изменения действий при нажатии кнопки питания</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="passed">PASSED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.6.1.6. <a href="#_проверка_реакции_системы_на_закрытие_крышки_ноутбука">Проверка реакции системы на закрытие крышки ноутбука</a></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.6.1.6.1. <a href="#_реакция_на_завершение_работы">Реакция на завершение работы</a><br>
<em>(Отсутствует пункт «Завершение работы» в менеджере питания)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="skipped">SKIPPED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.6.1.6.2. <a href="#_реакция_на_спящий_режим">Реакция на «спящий» режим</a><br>
<em>(<a href="https://bugzilla.altlinux.org/show_bug.cgi?id=38418#c11" class="bare">https://bugzilla.altlinux.org/show_bug.cgi?id=38418#c11</a>)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="error">FAILED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.6.1.6.3. <a href="#_реакция_на_ждущий_режим">Реакция на «ждущий» режим</a><br>
<em>(<a href="https://bugzilla.altlinux.org/show_bug.cgi?id=38418#c11" class="bare">https://bugzilla.altlinux.org/show_bug.cgi?id=38418#c11</a>)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="error">FAILED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.6.2. <a href="#_управление_питанием_из_консоли">Управление питанием из консоли</a></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.6.2.1. <a href="#_проверка_выключения_компьютера">Проверка выключения компьютера</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="passed">PASSED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.6.2.2. <a href="#_проверка_перезагрузки_компьютера">Проверка перезагрузки компьютера</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="passed">PASSED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.6.2.3. <a href="#_проверка_спящего_режима">Проверка «спящего» режима</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="passed">PASSED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.6.2.4. <a href="#_проверка_ждущего_режима">Проверка «ждущего» режима</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="passed">PASSED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.7. <a href="#_проверка_энергосбережения">Проверка энергосбережения</a></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.7.1. <a href="#_проверка_в_графическом_режиме">Проверка в графическом режиме</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="passed">PASSED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.7.1.1. <a href="#_проверка_реакции_на_подключениеотключение_внешнего_бп">Проверка реакции на подключение/отключение внешнего БП</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="passed">PASSED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.7.1.2. <a href="#_проверка_изменения_яркости_экрана">Проверка изменения яркости экрана</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="passed">PASSED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.7.2. <a href="#_проверка_в_консоли">Проверка в консоли</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="passed">PASSED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.8. <a href="#_проверка_numa_при_наличии">Проверка NUMA (при наличии)</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="skipped">SKIPPED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.9. <a href="#_проверка_ipmi_при_наличии">Проверка IPMI (при наличии)</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="skipped">SKIPPED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.10. <a href="#_проверка_встроенной_периферии">Проверка встроенной периферии</a></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.10.1. <a href="#_проверка_интерфейса_esata_при_наличии">Проверка интерфейса eSATA (при наличии)</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="skipped">SKIPPED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.10.2. <a href="#_проверка_сенсорного_экрана_при_наличии">Проверка сенсорного экрана (при наличии)</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="skipped">SKIPPED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.10.3. <a href="#_проверка_встроенной_камеры_при_наличии">Проверка встроенной камеры (при наличии)</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="passed">PASSED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.10.4. <a href="#_проверка_интерфейса_ps2_при_наличии">Проверка интерфейса PS/2 (при наличии)</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="skipped">SKIPPED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.10.5. <a href="#_проверка_работы_сенсорной_панели_при_наличии">Проверка работы сенсорной панели (при наличии)</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="passed">PASSED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.10.6. <a href="#_проверка_функциональных_клавиш_клавиатуры_при_наличии">Проверка функциональных клавиш клавиатуры (при наличии)</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="passed">PASSED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.10.7. <a href="#_проверка_работы_сканера_отпечатка_пальца_при_наличии">Проверка работы сканера отпечатка пальца (при наличии)</a><br>
<em>(<a href="https://bugzilla.altlinux.org/46235" class="bare">https://bugzilla.altlinux.org/46235</a>)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="error">FAILED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>10.10.8. <a href="#_проверка_интерфейсов_usb_1_0_3_2">Проверка интерфейсов USB 1.0-3.2</a></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">USB 3.0 Тип А:
Timing O_DIRECT disk reads:  90 MB in  3.04 seconds =  29.58 MB/sec

USB 3.0 Тип А (ближе к экрану):
Timing O_DIRECT disk reads:  88 MB in  3.02 seconds =  29.18 MB/sec

USB 3.1 тип C:
Timing buffered disk reads: 1845 MB in 3.01 seconds = 612.96 MB/sec</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="passed">PASSED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.10.9. <a href="#_проверка_usb_3_2_gen2usb4_и_thunderbolt_34_при_наличии">Проверка USB 3.2 Gen2/USB4 и Thunderbolt 3/4 (при наличии)</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="skipped">SKIPPED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.10.10. <a href="#_проверка_bluetooth_при_наличии">Проверка Bluetooth (при наличии)</a></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.10.10.1. <a href="#_подключение_телефона">Подключение телефона</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="passed">PASSED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.10.10.2. <a href="#_подключение_наушников">Подключение наушников</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="passed">PASSED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.10.10.3. <a href="#_подключение_клавиатуры">Подключение клавиатуры</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="passed">PASSED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.10.10.4. <a href="#_подключение_манипулятора_мышь">Подключение манипулятора «мышь»</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="passed">PASSED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>10.10.11. <a href="#_проверка_разъёма_для_карт_памяти_при_наличии">Проверка разъёма для карт памяти (при наличии)</a></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">Timing O_DIRECT disk reads: 36 MB in 3.59 seconds = <code><strong>10.03 MB/sec</strong></code></code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="passed">PASSED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.10.12. <a href="#_проверка_разъёма_для_смарт_карт_при_наличии">Проверка разъёма для смарт-карт (при наличии)</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="skipped">SKIPPED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.10.13. <a href="#_проверка_привода_cddvdblu_ray_при_наличии">Проверка привода CD/DVD/Blu-ray (при наличии)</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="passed">PASSED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.11. <a href="#_контрольная_проверка_сообщений_ядра">Контрольная проверка сообщений ядра</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="passed">PASSED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11. <a href="#_дополнительные_проверки">Дополнительные проверки</a></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>11.1. <a href="#_производительность_дисковой_подсистемы">Производительность дисковой подсистемы</a></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. <code>/dev/sda3</code> (SWAP на встроенном SSD 256Гб):</caption>
<colgroup>
<col style="width: 13.3333%;">
<col style="width: 13.3333%;">
<col style="width: 20%;">
<col style="width: 13.3333%;">
<col style="width: 13.3333%;">
<col style="width: 13.3333%;">
<col style="width: 13.3335%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Test</th>
<th class="tableblock halign-right valign-top">IOPs</th>
<th class="tableblock halign-right valign-top">BW (MiB/s)</th>
<th class="tableblock halign-right valign-top">clat (usec)</th>
<th class="tableblock halign-right valign-top">CPU usr</th>
<th class="tableblock halign-right valign-top">CPU sys</th>
<th class="tableblock halign-right valign-top">CPU ctx</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>rndw-4k</strong></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">27,530.83</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">110,123.31</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">33.01</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">5.45%</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">9.65%</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">8,278,561</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>rndw-64k</strong></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">19,262.98</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">1,204.03</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">26,594.13</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">0.94%</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">0.91%</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">5,194,503</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>rndw-1m</strong></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">950.33</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">973,151.51</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">949.66</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">6.63%</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">4.05%</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">293,922</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>seqw-1m</strong></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">997.68</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">1,021,623.83</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">902.87</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">6.73%</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">4.12%</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">308,498</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>seqr-1m</strong></p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">2,020.91</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">2,020.91</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">461.11</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">0.77%</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">7.48%</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">618,137</p></td>
</tr>
</tbody>
</table></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="passed">PASSED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.2. <a href="#_производительность_видеоподсистемы">Производительность видеоподсистемы</a> <em>(glmark2 Score: <code><strong>1994</strong></code>)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="passed">PASSED</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.3. <a href="#_проверка_расширителя_портов_при_наличии">Проверка расширителя портов (при наличии)</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="skipped">SKIPPED</span></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 2.1<br>
Last updated 2023-12-29 01:11:12 +0300
</div>
</div>
</body>
</html>